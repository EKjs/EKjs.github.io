{"version":3,"sources":["context/AppContext.js","components/ProtectedRoute.js","components/CitiesSearchInput.js","components/SearchBar.js","components/MenuLinks.js","components/SideBarMenu.js","components/Navigation.js","components/AddToFavsButton.js","components/AdCard.js","components/LoadingSpinner.js","components/PageNums.js","components/MainPage.js","components/Footer.js","components/SignIn.js","components/SignUp.js","components/MapGeolocationPos.js","components/CreateNewAd.js","components/admin/AddEditCategory.js","components/UserRating.js","components/ViewSingleAd.js","components/UserProfile.js","components/EditProfile.js","components/EditStore.js","components/SearchResults.js","components/MyAdsPage.js","components/MyFavAds.js","components/MyMessages.js","components/StoreProfile.js","components/ViewStore.js","components/NotFound.js","components/MyFavUsers.js","App.js","index.js"],"names":["AppContext","createContext","AppContextWrapper","children","hist","useHistory","authToken","localStorage","getItem","useState","loading","setLoading","error","setError","isAuthenticated","setIsAuthenticated","categoriesList","setCategoriesList","subCategoriesList","setSubCategoriesList","updateMenuItems","setUpdateMenuItems","searchParams","setSearchParams","useEffect","a","axios","get","process","catList","data","subCatList","response","setTimeout","message","loadMenuData","decoded","jwt_decode","console","log","Date","now","exp","toLocaleString","removeItem","push","signUp","password","passwordConfirm","post","token","userName","userId","userType","setItem","signIn","Provider","value","signOut","ProtectedRoute","Component","component","rest","pathname","useLocation","useContext","render","to","state","next","CitiesSearchInput","setCoords","setCityId","cityPlaceholder","plzOrCityInput","setPlzOrCityInput","citiesToChoose","setCitiesToChoose","show","setShow","target","useRef","timer","getCitiesListFromServer","curInpVal","reqBody","searchString","length","FormControl","type","placeholder","aria-label","onChange","e","current","clearTimeout","onBlur","onFocus","ref","Overlay","placement","Popover","className","style","maxHeight","id","Body","map","item","idx","Dropdown","Item","onClick","city","name","coords","SearchBar","curCityId","setCurCityId","searchQ","setSearchQ","radius","setRadius","Navbar","Text","Form","InputGroup","backgroundColor","as","htmlSize","r","RegExp","match","parseInt","list","Button","cityId","cityCoords","distance","searchText","fromDashboard","variant","MenuLinks","Spinner","animation","Alert","Link","catItem","description","filter","scItem","parentId","SideBarMenu","size","Offcanvas","onHide","Header","closeButton","Title","Navigation","collapseOnSelect","expand","bg","Container","fluid","Brand","NavLink","Toggle","aria-controls","Collapse","Nav","align","Menu","marginRight","Divider","AddToFavsButton","targetId","path","addedToFavs","setAddedToFavs","addToFavors","descr","url","favData","favAdId","favUserId","headers","Authorization","color","cursor","OverlayTrigger","overlay","Tooltip","pointerEvents","AdCard","photo","title","price","address","created","catId","adId","views","cityName","subCategory","category","subCategoryId","Col","Card","width","minHeight","border","Img","objectFit","height","src","textDecoration","substring","Row","xs","LoadingSpinner","role","PageNums","totalPages","currentPage","cbPageClick","pageNeighbours","LEFT_PAGE","RIGHT_PAGE","range","from","step","i","pages","totalNumbers","Math","max","min","startPage","endPage","hasLeftSpill","hasRightSpill","spillOffset","extraPages","fetchPageNumbers","Pagination","page","index","Prev","Next","active","MainPage","useParams","subCatId","adsByUserId","adsByStoreId","currentlyLoadedAds","setCurrentlyLoadedAds","curPage","setCurPage","setTotalPages","adList","ceil","totalRows","getAds","ad","photos","sm","Footer","href","htmlFor","SignIn","location","email","setEmail","setPassword","submitForm","preventDefault","md","onSubmit","FloatingLabel","controlId","label","Control","required","Group","Check","SignUp","setUserName","phone","setPhoneNum","setPasswordConfirm","validated","setValidated","currentTarget","checkValidity","stopPropagation","noValidate","feedback","MapGeolocationPos","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","err","warn","code","enableHighAccuracy","timeout","maximumAge","center","defaultZoom","latLng","anchor","CreateNewAd","axiosConfig","adTitle","setAdTitle","adPrice","setAdPrice","adAddress","setAdAddress","adCurStatus","setAdCurStatus","adStatuses","setAdStatuses","setCityPlaceholder","selectedCatId","setSelectedCatId","selectedSubCatId","setSelectedSubCatId","curSubCatList","setCurSubCatList","photoArray","setPhotoArray","adDescription","setAdDescription","sellAsStore","setSellAsStore","submitDataToServer","Number","isFinite","parseFloat","sendData","currentState","put","resp","deletePhoto","photoFilename","prev","baseUrl","delete","subCatsOfCat","subCat","getAvalableStatuses","loadAdDetails","uploadImages","formData","FormData","files","append","uploadedFilesPath","Select","cat","checked","multiple","Label","Carousel","alt","Caption","status","AddEditCategory","catDesc","setCatDesc","subCatDesc","setSubCatDesc","sendReq","reqType","curCat","find","curSubCat","disabled","UserRating","rating","setRating","avg","loadUserRating","handleRating","rate","ratingData","targetUser","endsWith","ratingValue","ViewSingleAd","adData","setAdData","storeId","classname","storeName","ownerId","userPhone","wasOnline","UserProfile","profileData","setProfileData","showModal","setShowModal","handleModalClose","handleDeleteProfile","registerDate","Modal","backdrop","keyboard","EditProfile","setPhone","showAlert","setShowAlert","handleSaveChanges","editedProfile","String","EditStore","storeTitle","setStoreTitle","storeAddress","setStoreAddress","storeDescription","setStoreDescription","storeLogoImg","setStoreLogoImg","setCityName","loadStoreDetails","uploadImage","uploadedFile","storeData","SearchResults","searchInCat","setSearchInCat","searchInSubCat","setSearchInSubCat","defaultChecked","MyAdsPage","deleteId","setDeleteId","showToast","setShowToast","showToast2","setShowToast2","updateMyAdsList","setUpdateMyAdsList","adIdForStatus","setAdIdForStatus","adStatus","setAdStatus","showModalStateChg","setShowModalStateChg","handleModalStateChgClose","handleDeleteAd","handleChangeAdStatus","editData","adNewStateId","ToastContainer","position","Toast","onClose","delay","autohide","Table","responsive","MyFavAds","favAds","setFavAds","updateFavList","setUpdateFavList","editId","setEditId","editAdId","setEditAdId","editFavText","setEditFavText","showModalEditor","setShowModalEditor","handleModalEditorClose","favList","getFavAds","handleDeleteFavAd","fav","cols","rows","MyMessages","messageList","setMessageList","updateMessageList","setUpdateMessageList","msgList","getMessageList","markRead","msgId","res","deleteMsg","msg","fromUserName","msgRead","msgTitle","StoreProfile","setStoreData","handleDeleteStore","ViewStore","NotFound","MyFavUsers","favUsers","setFavUsers","editTargetId","setEditTargetId","getFavUsers","handleDeleteFav","targetUserId","App","exact","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.816af2fa.chunk.js","sourcesContent":["import { useState, useEffect, createContext } from \"react\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from \"react-router\";\n\nexport const AppContext = createContext();\n\nconst AppContextWrapper = ({ children }) => {\n  const hist = useHistory();\n  const authToken = localStorage.getItem(\"token\");\n/*   const userName = localStorage.getItem(\"userName\");\n  const userId = localStorage.getItem(\"userId\"); */\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  /* useEffect(() => authToken && setIsAuthenticated(true), [authToken]); */\n\n  const [categoriesList, setCategoriesList] = useState([]);\n  const [subCategoriesList, setSubCategoriesList] = useState([]);\n  //const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState([]);\n//  const [userType,setUserType] = useState(null);\n  const [updateMenuItems,setUpdateMenuItems] = useState(true);\n  const [searchParams,setSearchParams] = useState({});\n\n  useEffect(()=>{\n    const loadMenuData = async () => {\n      try {\n        setLoading(true);\n        const { data:catList } = await axios.get(`${process.env.REACT_APP_BE}categories`);\n        setCategoriesList(catList);\n        const { data:subCatList } = await axios.get(`${process.env.REACT_APP_BE}subcategories`);\n        setSubCategoriesList(subCatList);\n        setLoading(false);\n        //console.log('c',catList,'sc',subCatList);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 3000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 3000);\n          setLoading(false);\n        }\n      }\n\n    };\n    loadMenuData();\n},[updateMenuItems])\n\n  useEffect(() => {\n    if (authToken){\n      const decoded = jwt_decode(authToken);\n      console.log(decoded,Date.now());\n      console.log(new Date(decoded.exp*1000).toLocaleString());\n      if(Date.now()<decoded.exp*1000){\n        console.log('token not expired');\n        setIsAuthenticated(true)\n      }else{\n        console.log('token expired');\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"userName\");\n        localStorage.removeItem(\"userId\");\n        localStorage.removeItem(\"userType\");\n        setIsAuthenticated(false);\n        hist.push('/signin');\n      }\n    }\n  }, [authToken,hist]);\n\n  const signUp = async (data) => {\n    if (data.password !== data.passwordConfirm) {\n      setError(\"Passwords do not match\");\n      setTimeout(() => setError(null), 3000);\n      return;\n    }\n    try {\n      setLoading(true);\n      const {\n        data: { token, userName, userId, userType },\n      } = await axios.post(\n        `${process.env.REACT_APP_BE}users/`,\n        data\n      );\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"userName\", userName);\n      localStorage.setItem(\"userId\", userId);\n      localStorage.setItem(\"userType\", userType);\n      setIsAuthenticated(true);\n      setLoading(false);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 3000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 3000);\n        setLoading(false);\n      }\n    }\n  };\n\n  const signIn = async (data) => {\n    try {\n      setLoading(true);\n      const {\n        data: { token, userName, userId, userType },\n      } = await axios.post(\n        `${process.env.REACT_APP_BE}users/signin`,\n        data\n      );\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"userName\", userName);\n      localStorage.setItem(\"userId\", userId);\n      localStorage.setItem(\"userType\", userType);\n      setIsAuthenticated(true);\n      setLoading(false);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      }\n    }\n  };\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userName\");\n    localStorage.removeItem(\"userId\");\n    setIsAuthenticated(false);\n  };\n\n  return (\n    <AppContext.Provider\n      value={{ searchParams,setSearchParams,categoriesList,subCategoriesList, loading, isAuthenticated, error, signUp, signIn, signOut, setLoading, setError,updateMenuItems,setUpdateMenuItems }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppContextWrapper;\n","import { useContext } from 'react';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { pathname } = useLocation();\n  const { isAuthenticated } = useContext(AppContext);\n  return isAuthenticated ? (\n    <Route {...rest} render={() => <Component />} />\n  ) : (\n    <Redirect to={{ pathname: '/', state: { next: pathname } }} />\n  );\n};\n\nexport default ProtectedRoute;\n","import { Dropdown,FormControl,Popover,Overlay } from 'react-bootstrap';\nimport { useState,useRef,useEffect } from 'react';\nimport axios from 'axios';\n\nconst CitiesSearchInput = ({setCoords,setCityId,cityPlaceholder}) => {\n    const [plzOrCityInput, setPlzOrCityInput] = useState('');\n    const [citiesToChoose,setCitiesToChoose] = useState([]);\n    const [show, setShow] = useState(false);\n    const target = useRef(null);\n    const timer = useRef(null);\n\n    const getCitiesListFromServer = async (curInpVal) => {\n        const reqBody = { searchString: curInpVal };\n        const { data } = await axios.post(`${process.env.REACT_APP_BE}search/plzorcity/`,reqBody);\n        setCitiesToChoose(data);\n        if (data.length > 0)setShow(true);\n        else setShow(false);\n    };\n\n    const cityClick = (city) => {\n        setPlzOrCityInput(city.name);\n        setCityId(city.id);\n        setCoords(city.coords);\n    };\n\n    const changePlzOrCityInput = (e) => {\n        console.log(e.target.value);\n        setCityId(null);\n        setCoords(null);\n        const curInpVal = e.target.value;\n        setPlzOrCityInput(curInpVal);\n        if (curInpVal.length > 2) {\n          if (timer.current) {\n            clearTimeout(timer.current);\n          }\n          timer.current = setTimeout(() => {\n            getCitiesListFromServer(curInpVal);\n          }, 1000);\n        }else{\n            if (timer.current)clearTimeout(timer.current);\n        }\n    };\n    useEffect(() => {\n        if(cityPlaceholder)setPlzOrCityInput(cityPlaceholder);\n    }, [cityPlaceholder])\n/* \n    const getMyCoords = () => {\n        const options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n            };\n        const success=pos=>setCoords([pos.coords.latitude,pos.coords.longitude]);\n        const error=err=>console.warn(`ERROR(${err.code}): ${err.message}`);\n        navigator.geolocation.getCurrentPosition(success, error, options);\n        onKeyPress={(e)=>{if(e.key==='Enter')getMyCoords()}}\n    };\n */\n/* useEffect(() => {\n    if(cityId)setPlzOrCityInput()\n}, []) */\n\n    return (\n        <>\n    <FormControl\n        type=\"text\"\n        placeholder=\"City or PLZ\"\n        aria-label=\"SearchCityPLZ\"\n        value={plzOrCityInput}\n        onChange={changePlzOrCityInput}\n        \n        onBlur={() => setShow(false)}\n        onFocus={() =>\n        plzOrCityInput.length > 3 &&\n        citiesToChoose.length > 0 &&\n        setShow(true)\n        }\n        ref={target}\n        />\n        <Overlay target={target.current} show={show} placement=\"bottom\">\n            <Popover className=\"overflow-auto\" style={{ maxHeight: \"50%\" }} id=\"popover-basic\">\n            <Popover.Body>\n                {citiesToChoose.map((item, idx) => (\n                <Dropdown.Item key={`optK${idx}`} onClick={() => cityClick(item)}>\n                    {item.name}\n                </Dropdown.Item>\n                ))}\n            </Popover.Body>\n            </Popover>\n        </Overlay>  \n        </>\n    )\n}\n\nexport default CitiesSearchInput\n","import { useState, useContext } from \"react\";\nimport {\n  Form,\n  FormControl,\n  Button,\n  InputGroup,\n Navbar\n} from \"react-bootstrap\";\nimport { Search, GeoAlt } from \"react-bootstrap-icons\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { AppContext } from \"../context/AppContext\";\nimport CitiesSearchInput from \"./CitiesSearchInput\";\n\nconst SearchBar = () => {\n    const { setSearchParams } =\n    useContext(AppContext);\n    const hist = useHistory();\n  const [curCityId, setCurCityId] = useState();\n  const [coords,setCoords] = useState();\n  const [searchQ, setSearchQ] = useState('');\n  const [radius, setRadius] = useState('');\n\n\n\n  const doSearch = () => {\n\n    //cityId, cityCoords, distance, searchText, catId, subCatId\n    const reqBody = {\n      cityId: curCityId,\n      cityCoords:coords,\n      distance: radius,\n      searchText:searchQ,\n/*       catId:null,\n      subCatId:null, */\n    };\n    setSearchParams(reqBody);\n    const location = {\n      pathname: '/search',\n      state: { fromDashboard: true }\n    }\n    hist.push(location)\n    /* const getData = async () => {\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_BE}search/v2/`,\n        reqBody\n      );\n      setSearchParams(data)\n      console.log(data);\n    };\n    getData(); */\n  };\n  const inputRadius = (e) => {\n    const r = new RegExp(/^[0-9]*$/);\n    if (e.target.value.match(r)) {\n      console.log(e.target.value);\n      if (parseInt(e.target.value, 10) > 100) {\n        setRadius(100);\n      } else setRadius(e.target.value);\n    }\n  };\n\n  return (\n    <Navbar.Text className='me-auto'>\n      <Form className=\"d-flex flex-column flex-md-row\">\n        <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            <Search />\n          </InputGroup.Text>\n          <FormControl\n            type=\"search\"\n            placeholder=\"Search\"\n            className=\"mr-2\"\n            aria-label=\"Search\"\n            onChange={(e) => setSearchQ(e.target.value)}\n          />\n          </InputGroup>\n          <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            <GeoAlt />\n          </InputGroup.Text>\n            <CitiesSearchInput setCoords={setCoords}  setCityId={setCurCityId} /> \n          </InputGroup>\n          <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            +\n          </InputGroup.Text>\n          <FormControl\n            type=\"text\"\n            as=\"input\"\n            htmlSize={1}\n            placeholder=\"0 km\"\n            className=\"mr-2\"\n            aria-label=\"radius\"\n            onChange={inputRadius}\n            value={radius}\n            list=\"distance-variants\"\n          />\n        <datalist id=\"distance-variants\">\n            <option value=\"5\"/>\n            <option value=\"10\"/>\n            <option value=\"15\"/>\n            <option value=\"25\"/>\n            <option value=\"50\"/>\n        </datalist>\n          <Button\n            onClick={doSearch}\n            variant=\"secondary\"\n            style={{ backgroundColor: \"#f7f7f9\" }}\n          >\n            Search\n          </Button>\n        </InputGroup>\n      </Form>\n      </Navbar.Text>\n  );\n};\nexport default SearchBar;","import { useContext } from \"react\";\nimport { Spinner, Alert, Dropdown } from \"react-bootstrap\";\nimport { AppContext } from \"../context/AppContext\";\nimport { Link } from \"react-router-dom\";\n\nconst MenuLinks = ({setShow}) => {\n  const { categoriesList, subCategoriesList, loading, error  } =\n    useContext(AppContext);\n\n  if (loading) return <Spinner animation=\"border\" variant=\"secondary\" />;\n  if (error) return <Alert variant=\"danger\">{error}</Alert>;\n  return (\n    <ul>\n      <li><Dropdown.Item as={Link} to=\"/\" onClick={()=>setShow(false)}>View all ads</Dropdown.Item></li>\n      {categoriesList.map((catItem, idx) => (\n        <li key={`likc${idx}`}>\n          <Dropdown.Item as={Link} to={`/bycategory/${catItem.id}`} onClick={()=>setShow(false)}>{catItem.description}</Dropdown.Item>\n          <ul>\n            {subCategoriesList\n              .filter((scItem) => {\n                return scItem.parentId === catItem.id;\n              })\n              .map((scItem, idx) => (\n                <li key={`liksc${idx}`}> <Dropdown.Item as={Link} to={`/bysubcategory/${scItem.id}`} onClick={()=>setShow(false)}>{scItem.description}</Dropdown.Item> </li>\n              ))}\n          </ul>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MenuLinks;","import { useState } from 'react';\nimport {Button, Offcanvas, Navbar} from 'react-bootstrap';\nimport { List } from 'react-bootstrap-icons';\nimport MenuLinks from './MenuLinks';\n\n\nconst SideBarMenu = () => {\n    const [show, setShow] = useState(false);\n    const closeMenu = () => setShow(false);\n    const showMenu = () => setShow(true);\n\n  \n    return (\n      <Navbar.Text className='me-auto'>\n        <Button variant=\"secondary\" onClick={showMenu}>\n         <List size={24}/> Menu\n        </Button>\n  \n        <Offcanvas show={show} onHide={closeMenu}>\n          <Offcanvas.Header closeButton>\n            <Offcanvas.Title>What would you like to buy?</Offcanvas.Title>\n          </Offcanvas.Header>\n          <Offcanvas.Body>\n            <MenuLinks setShow={setShow} />\n          </Offcanvas.Body>\n        </Offcanvas>\n        </Navbar.Text>)\n}\n\nexport default SideBarMenu\n","import { Navbar, Container, Nav, Dropdown } from \"react-bootstrap\";\nimport { CashCoin, DoorOpen, FileEarmarkPerson, LayoutTextWindowReverse, ListStars, PersonCheck, PersonPlus, PlusSquare, BookmarkHeart, BookmarkStar, MenuButtonWide } from \"react-bootstrap-icons\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport SearchBar from \"./SearchBar\";\nimport SideBarMenu from \"./SideBarMenu\";\nimport { AppContext } from \"../context/AppContext\";\nimport { useContext } from \"react\";\n\nconst Navigation = () => {\n  const { isAuthenticated,signOut } = useContext(AppContext);\n  const userType = localStorage.getItem(\"userType\");\n  \n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n      <Container fluid>\n        <Navbar.Brand as={NavLink} to=\"/\">\n          I buy it!\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <SideBarMenu />\n\n          <SearchBar />\n          <Nav>\n            {isAuthenticated ? (<>\n{/*               <Nav.Link as={NavLink} to=\"/newad\">\n                <PlusSquare size={24} /> Sell!\n              </Nav.Link> <Navbar.Text>Logged in as: </Navbar.Text>*/}\n              \n              <Dropdown align=\"end\">\n              <Dropdown.Toggle as={Nav.Link}>\n                <MenuButtonWide size={24} /> {\" \"}{\" \"}\n              {localStorage.getItem(\"userName\")}\n              </Dropdown.Toggle>\n              <Dropdown.Menu>\n              <Dropdown.Item as={Link} to=\"/newad\"><PlusSquare size={24} style={{marginRight:'1rem'}} /> Sell!</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myads\"><ListStars size={24} style={{marginRight:'1rem'}}/> My ads</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myprofile\"><FileEarmarkPerson size={24} style={{marginRight:'1rem'}}/>My profile</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/mystore\"><CashCoin size={24} style={{marginRight:'1rem'}}/>My Store</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/messages\"><LayoutTextWindowReverse size={24} style={{marginRight:'1rem'}}/>Messages</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myfavads\"><BookmarkHeart size={24} style={{marginRight:'1rem'}}/>Fav ads</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myfavusers\"><BookmarkStar size={24} style={{marginRight:'1rem'}}/>Fav users</Dropdown.Item>\n              <Dropdown.Divider />\n              <Dropdown.Item onClick={signOut}><DoorOpen size={24} /> Log out</Dropdown.Item>\n            </Dropdown.Menu>\n              \n              </Dropdown>\n            </>) : (\n              <>\n                <Nav.Link as={NavLink} to=\"/signin\">\n                  <PersonCheck size={24} /> Sign in\n                </Nav.Link>\n                <Nav.Link as={NavLink} to=\"/signup\">\n                  <PersonPlus size={24} /> Sign up\n                </Nav.Link>\n              </>\n            )}\n          </Nav>\n          {userType==='999' && isAuthenticated && (<Nav>\n            <Dropdown>\n              <Dropdown.Toggle variant=\"danger\" id=\"dropdown-basic\">\n                Admin\n              </Dropdown.Toggle>\n\n              <Dropdown.Menu>\n                <Dropdown.Item as={Link} to=\"/admin/categoryeditor\">Edit categories</Dropdown.Item>\n                \n              </Dropdown.Menu>\n            </Dropdown>\n          </Nav>)}\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import axios from \"axios\";\nimport { useState,useContext } from \"react\";\nimport { OverlayTrigger,Tooltip } from \"react-bootstrap\";\nimport { AppContext } from \"../context/AppContext\";\nimport { Heart,HeartFill,Star,StarFill } from \"react-bootstrap-icons\";\n\nconst AddToFavsButton = ({targetId,description,path}) => {\n    const { isAuthenticated } = useContext(AppContext);\n    const [addedToFavs,setAddedToFavs] = useState(false);\n\n    const addToFavors = async(id,descr) => {\n        let url=`${process.env.REACT_APP_BE}favads/`;\n        let favData = {\n            favAdId: targetId,\n            description: description,\n          };\n        if (path==='user'){\n            url=`${process.env.REACT_APP_BE}favusers/`;\n            favData = {\n                favUserId: targetId,\n                description: description,\n              };\n        }\n        try {\n            const { data } = await axios.post(url,favData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            setAddedToFavs(true);\n          } catch (error) {\n            if (error.response) console.log(error.response.data.error);\n            else console.log(error.message);\n          }\n      }\n\n      if (!isAuthenticated)\n        return (\n          <OverlayTrigger\n            overlay={\n              <Tooltip id=\"tooltip-disabled\">Sign in to add to favs</Tooltip>\n            }\n          >\n            <span className=\"d-inline-block\">\n              {path==='user' ? <Star style={{ pointerEvents: \"none\" }}/>:<Heart style={{ pointerEvents: \"none\" }} />}\n            </span>\n          </OverlayTrigger>\n        );\n      if (addedToFavs){\n        if (path==='user')return <StarFill  color=\"red\" />;\n        return <HeartFill  color=\"red\" />;\n      }\n      else{\n        if (path==='user')return <Star  color=\"red\" style={{ cursor: \"pointer\" }} onClick={() => addToFavors()} />;\n        return (\n          <Heart\n            \n            color=\"red\"\n            style={{ cursor: \"pointer\" }}\n            onClick={() => addToFavors()}\n          />\n        );\n      }\n\n}\n\nexport default AddToFavsButton\n","import { Card, Col, Row, Container } from \"react-bootstrap\";\nimport { Eye } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport AddToFavsButton from \"./AddToFavsButton\";\n\nconst AdCard = ({\n  photo,\n  title,\n  address,\n  price,\n  created,\n  catId,\n  adId,\n  views,\n  cityName,\n  cityId,\n  category,\n  subCategory,\n  subCategoryId,\n}) => {\n  return (\n    <Col>\n      <Card\n        style={{ width: \"18rem\", minHeight: \"36rem\" }}\n        border={catId === 13 ? \"success\" : \"secondary\"}\n      >\n        <Link to={`/view/${adId}`}>\n          <Card.Img\n            className=\"p-3\"\n            style={{ objectFit: \"cover\", height: \"20rem\" }}\n            variant=\"top\"\n            src={\n              photo && photo.length > 0\n                ? `${process.env.REACT_APP_BE}images/${photo[0]}`\n                : \"/images/noimg.png\"\n            }\n          />\n        </Link>\n        <Card.Body>\n          <Card.Title>{price} </Card.Title>\n\n          <Card.Text>\n            <Link to={`/view/${adId}`} style={{ textDecoration: \"none\" }}>\n              {title.substring(0, 100)}\n              {title.length > 100 && \"...\"}\n            </Link>\n          </Card.Text>\n        </Card.Body>\n\n        <Container>\n          <Row>\n            <Col>\n              <Row>\n                <Col>\n                  <AddToFavsButton targetId={adId} description={title} />\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <Link\n                    className=\"fs-6 text-muted\"\n                    to={`/bysubcategory/${subCategoryId}`}\n                    style={{ textDecoration: \"none\" }}\n                  >\n                    {subCategory}{\" \"}\n                  </Link>\n                  <Link\n                    className=\"fs-6 text-muted\"\n                    to={`/bycity/${cityId}`}\n                    style={{ textDecoration: \"none\" }}\n                  >\n                    {\" \"}\n                    in {cityName}\n                  </Link>\n                </Col>\n              </Row>\n              <Row>\n                <Col xs={9}>\n                  <p className=\"fs-6\">{new Date(created).toLocaleString()}</p>\n                </Col>\n                <Col xs={3}>\n                  <p className=\"fs-6\">\n                    <Eye /> {views}\n                  </p>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Container>\n      </Card>\n    </Col>\n  );\n};\n\nexport default AdCard;","import { Spinner } from \"react-bootstrap\";\n\nconst LoadingSpinner = () => {\n  return (\n    <div className=\"d-flex justify-content-center\">\n      <Spinner animation=\"border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </Spinner>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import { Pagination } from \"react-bootstrap\";\n\nconst PageNums = ({ totalPages, currentPage, cbPageClick,pageNeighbours }) => {\n    //const [pages,setPages] = useState();\n    \n    const LEFT_PAGE = \"LEFT\";\n    const RIGHT_PAGE = \"RIGHT\";\n\n/*     useEffect(() => {\n        setPages(fetchPageNumbers())\n    }, []) */\n\n    /**\n     * Helper method for creating a range of numbers\n     * range(1, 5) => [1, 2, 3, 4, 5]\n     */\n    const range = (from, to, step = 1) => {\n      let i = from;\n      const range = [];\n\n      while (i <= to) {\n        range.push(i);\n        i += step;\n      }\n\n      return range;\n    };\n  /**\n   * Let's say we have 10 pages and we set pageNeighbours to 2\n   * Given that the current page is 6\n   * The pagination control will look like the following:\n   *\n   * (1) < {4 5} [6] {7 8} > (10)\n   *\n   * (x) => terminal pages: first and last page(always visible)\n   * [x] => represents current page\n   * {...x} => represents page neighbours\n   */\n   const fetchPageNumbers = () => {\n           // pageNeighbours can be: 0, 1 or 2\n    pageNeighbours = typeof pageNeighbours === 'number'\n    ? Math.max(0, Math.min(pageNeighbours, 2))\n    : 0;\n\n\n    /**\n     * totalNumbers: the total page numbers to show on the control\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n     */\n    const totalNumbers = (pageNeighbours * 2) + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n      let pages = range(startPage, endPage);\n\n      /**\n       * hasLeftSpill: has hidden pages to the left\n       * hasRightSpill: has hidden pages to the right\n       * spillOffset: number of hidden pages either to the left or to the right\n       */\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = (totalPages - endPage) > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n\n      switch (true) {\n        // handle: (1) < {5 6} [7] {8 9} (10)\n        case (hasLeftSpill && !hasRightSpill): {\n          const extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n\n        // handle: (1) {2 3} [4] {5 6} > (10)\n        case (!hasLeftSpill && hasRightSpill): {\n          const extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n\n        // handle: (1) < {4 5} [6] {7 8} > (10)\n        case (hasLeftSpill && hasRightSpill):\n        default: {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n      }\n\n      return [1, ...pages, totalPages];\n    }\n\n    return range(1, totalPages);\n  }\n  const pages = fetchPageNumbers();\n\n  if (totalPages === 1) return null;\n\n  return (<Pagination>\n    { pages.map((page, index) => {\n\n        if (page === LEFT_PAGE) return (\n/*           <li key={index} className=\"page-item\">\n            <a className=\"page-link\" href=\"#\" aria-label=\"Previous\" onClick={this.handleMoveLeft}>\n              <span aria-hidden=\"true\">&laquo;</span>\n              <span className=\"sr-only\">Previous</span>\n            </a>\n          </li> */\n          <Pagination.Prev onClick={()=>cbPageClick(currentPage-1)} />\n        );\n\n        if (page === RIGHT_PAGE) return (\n/*           <li key={index} className=\"page-item\">\n            <a className=\"page-link\" href=\"#\" aria-label=\"Next\" onClick={this.handleMoveRight}>\n              <span aria-hidden=\"true\">&raquo;</span>\n              <span className=\"sr-only\">Next</span>\n            </a>\n          </li> */\n          <Pagination.Next onClick={()=>cbPageClick(currentPage+1)}  />\n        );\n\n        return (\n/*           <li key={index} className={`page-item${ currentPage === page ? ' active' : ''}`}>\n            <a className=\"page-link\" href=\"#\" onClick={ this.handleClick(page) }>{ page }</a>\n          </li> */\n          <Pagination.Item active={currentPage === page} onClick={()=>cbPageClick(page) }>{page}</Pagination.Item>\n        );\n\n      }) }\n\n</Pagination>)\n};\n\nexport default PageNums;\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row,Col } from \"react-bootstrap\";\nimport AdCard from \"./AdCard\";\nimport { useParams } from \"react-router-dom\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport PageNums from \"./PageNums\";\n\nconst ADSPERPAGE=8;\n\nconst MainPage = () => {\n  const {subCatId,catId,cityId,adsByUserId,adsByStoreId} = useParams();\n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [curPage,setCurPage] = useState(1);\n    const [totalPages,setTotalPages] = useState();\n\n    console.log(subCatId,catId,cityId,adsByUserId);\n    \n    useEffect(() => {\n      /* '/bycategory/:catId'\n'/bysubcategory/:subCatId' */\n      let url='ads/';\n\n      if(!subCatId && catId)url+=`bycategory/${catId}`;\n      else if(subCatId && !catId)url+=`bysubcategory/${subCatId}`;\n      else if(cityId)url+=`bycity/${cityId}`;\n      else if(adsByUserId)url+=`byuser/${adsByUserId}`;\n      else if(adsByStoreId)url+=`bystore/${adsByStoreId}`;\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.get(`${process.env.REACT_APP_BE}${url}?skip=${(curPage-1)*ADSPERPAGE}&limit=${ADSPERPAGE}`);\n                setCurrentlyLoadedAds(adList);\n                if(adList.length>0){\n                  setTotalPages(Math.ceil(parseInt(adList[0].totalRows,10)/ADSPERPAGE));\n                }else {\n                  setTotalPages(0);\n                  setCurPage(1);\n                }\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  //setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  //setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds()\n    }, [subCatId,catId,cityId,adsByStoreId,adsByUserId,curPage])\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (\n      <Row>\n        <Col>\n        <Row className=\"g-4\">\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <AdCard key={`adk${idx}`}\n            title={ad.title}\n            photo={ad.photos}\n            address={ad.address}\n            price={ad.price}\n            created={ad.created}\n            catId={ad.catId}\n            category={ad.category}\n            subCategoryId={ad.subCategoryId}\n            subCategory={ad.subCategory}\n            cityName={ad.cityName}\n            cityId={ad.cityId}\n            adId={ad.adId}\n            views={ad.views}\n             /> ))}\n        </Row>\n        <Row className='justify-content-center mt-4'>\n          <Col sm='auto'>\n          <PageNums totalPages={totalPages} currentPage={curPage} cbPageClick={setCurPage} />\n          </Col>\n        </Row>\n        \n        </Col>\n      </Row>\n    )\n}\n\nexport default MainPage\n","import { Instagram,Facebook,Twitter } from \"react-bootstrap-icons\"\n\nconst Footer = () => {\n    return (\n        <div className=\"container border-top mt-5\">\n            \n        <footer className=\"pt-5 d-none d-sm-block\">\n        <div className=\"row\">\n          <div className=\"col-2\">\n            <h5>Section</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Home</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Features</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Pricing</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">FAQs</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">About</a></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-2\">\n            <h5>Section</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Home</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Features</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Pricing</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">FAQs</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">About</a></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-2\">\n            <h5>Section</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Home</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Features</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">Pricing</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">FAQs</a></li>\n              <li className=\"nav-item mb-2\"><a href=\"/\" className=\"nav-link p-0 text-muted\">About</a></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-4 offset-1\">\n            <form>\n              <h5>Subscribe to our newsletter</h5>\n              <p>Monthly digest of whats new and exciting from us.</p>\n              <div className=\"d-flex w-100 gap-2\">\n                <label htmlFor=\"newsletter1\" className=\"visually-hidden\">Email address</label>\n                <input id=\"newsletter1\" type=\"text\" className=\"form-control\" placeholder=\"Email address\"/>\n                <button className=\"btn btn-primary\" type=\"button\">Subscribe</button>\n              </div>\n            </form>\n          </div>\n        </div>\n    \n        <div className=\"d-flex justify-content-between pt-4 mt-4 border-top\">\n          <p>&copy; 2021 Company, Inc. All rights reserved.</p>\n          <ul className=\"list-unstyled d-flex\">\n            <li className=\"ms-3\"><a className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Twitter/></svg></a></li>\n            <li className=\"ms-3\"><a className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Instagram/></svg></a></li>\n            <li className=\"ms-3\"><a className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Facebook/></svg></a></li>\n          </ul>\n        </div>\n      </footer></div>\n    )\n}\n\nexport default Footer\n","import { Form, Button, Col, Row, FloatingLabel,Alert,Spinner } from \"react-bootstrap\";\nimport { useState,useContext } from 'react';\nimport { Redirect,useLocation } from \"react-router-dom\";\nimport { AppContext } from \"../context/AppContext\";\n\nconst SignIn = () => {\n  const location = useLocation();\n  const [email,setEmail]=useState('');\n  const [password,setPassword]=useState('');\n  const { loading, error, signIn, isAuthenticated } =\n  useContext(AppContext);\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n    await signIn({email,password})\n  };\n  if (isAuthenticated)\n    return (\n      <Redirect\n        to={{\n          pathname: location.state ? location.state.next : '/',\n          from: location.pathname\n        }}\n      />\n    );\n  if (loading) return <Spinner animation=\"border\" variant=\"secondary\" />;\n  return (\n    <Row className=\"justify-content-center mt-5\">\n      <Col md={4}>\n        <Form onSubmit={submitForm}>\n        {error && <Alert variant='danger'>{error}</Alert>}\n          <Form.Text className=\"text-muted\">\n            Please enter your email and password\n          </Form.Text>\n          <FloatingLabel controlId=\"floatingInput\" label=\"Email address\">\n            <Form.Control type=\"email\" placeholder=\"name@example.com\" onChange={(e)=>setEmail(e.target.value)} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingPassword\" label=\"Password\" className=\"mb-3\">\n            <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e)=>setPassword(e.target.value)} required />\n          </FloatingLabel>\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n            <Form.Check type=\"checkbox\" label=\"Remember me\" /> {/* fake for now */}\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n            Sign in\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  );\n};\n\nexport default SignIn;","import { Form, Button, Col, Row, FloatingLabel,Alert,Spinner } from \"react-bootstrap\";\nimport { useState,useContext } from 'react';\nimport { Redirect,useLocation } from \"react-router-dom\";\nimport { AppContext } from \"../context/AppContext\";\n\nconst SignUp = () => {\n  const location = useLocation();\n  const [userName,setUserName]=useState('');\n  const [phone,setPhoneNum]=useState('');\n  const [email,setEmail]=useState('');\n  const [password,setPassword]=useState('');\n  const [passwordConfirm,setPasswordConfirm]=useState('');\n  const { loading, error, signUp, isAuthenticated } =\n  useContext(AppContext);\n  const [validated, setValidated] = useState(false);\n\n  const submitForm = async (e) => {\n    const form = e.currentTarget;\n    if (form.checkValidity() === false) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    setValidated(true);\n    e.preventDefault();\n    await signUp({userName,email,password,passwordConfirm,phone})\n  };\n  if (isAuthenticated)\n    return (\n      <Redirect\n        to={{\n          pathname: location.state ? location.state.next : '/',\n          from: location.pathname\n        }}\n      />\n    );\n  if (loading) return <Spinner animation=\"border\" variant=\"secondary\" />;\n  return (\n    <Row className=\"justify-content-center mt-5\">\n      <Col md={4}>\n        <Form noValidate validated={validated} onSubmit={submitForm}>\n        {error && <Alert variant='danger'>{error}</Alert>}\n          <Form.Text className=\"text-muted\">\n            Please enter your email and password\n          </Form.Text>\n          <FloatingLabel controlId=\"floatingInputUserName\" label=\"Enter your name\" className=\"mb-1\">\n            <Form.Control type=\"text\" placeholder=\"John Doe\" onChange={(e)=>setUserName(e.target.value)} value={userName} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputPhoneNum\" label=\"Enter your phone number (optional)\" className=\"mb-1\">\n            <Form.Control  type=\"tel\" placeholder=\"+49 123 456 789 101\" onChange={(e)=>setPhoneNum(e.target.value)} value={phone} />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputEmail\" label=\"Email address\" className=\"mb-1\">\n            <Form.Control  type=\"email\" placeholder=\"name@example.com\" onChange={(e)=>setEmail(e.target.value)} value={email} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputPassword\" label=\"Password\" className=\"mb-1\">\n            <Form.Control  type=\"password\" placeholder=\"Password\" onChange={(e)=>setPassword(e.target.value)} value={password} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputConfirmPassword\" label=\"Confirm password\" className=\"mb-3\">\n            <Form.Control type=\"password\" placeholder=\"Confirm password\" onChange={(e)=>setPasswordConfirm(e.target.value)} value={passwordConfirm} required />\n          </FloatingLabel>\n          <Form.Check\n          required\n          label=\"Agree to terms and conditions\"\n          feedback=\"You must agree before submitting.\"\n        />\n          <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n            Sign in\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  );\n};\n\nexport default SignUp;\n\n/*     \"userName\":\"Garry\",\n    \"email\":\"garry@mail.com\",\n    \"password\":\"$up3Rp4$$w0RD\" */","import { useEffect } from 'react';\nimport { Map, Marker } from \"pigeon-maps\";\n\nconst MapGeolocationPos = ({setCoords,coords}) => {\n    const mapClick = ({ latLng }) => {\n        setCoords(latLng);\n    };\n    useEffect(()=>{\n        const options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n            };\n        const success=pos=>setCoords([pos.coords.latitude,pos.coords.longitude]);\n        const error=err=>console.warn(`ERROR(${err.code}): ${err.message}`);\n        if (!coords)navigator.geolocation.getCurrentPosition(success, error, options);\n    },[setCoords,coords])\n    return (\n        <Map\n            height={300}\n            center={coords}\n            defaultZoom={11}\n            onClick={mapClick}\n        >\n            {coords && <Marker width={50} anchor={coords} />}\n        </Map>\n    )\n}\n\nexport default MapGeolocationPos\n","import {useState,useContext,useEffect} from 'react'\nimport { Col, Row, Form, FloatingLabel, Carousel,Button,Alert } from 'react-bootstrap';\nimport { AppContext } from \"../context/AppContext\";\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\n import { useParams } from 'react-router-dom';\nimport CitiesSearchInput from './CitiesSearchInput';\nimport MapGeolocationPos from './MapGeolocationPos';\nimport { useHistory } from 'react-router';\nimport { TrashFill } from 'react-bootstrap-icons';\n\n\nconst CreateNewAd = () => {\n  const {adId} = useParams();\n  const hist = useHistory();\n   const { categoriesList, subCategoriesList } =\n    useContext(AppContext);\n    const axiosConfig = {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'multipart/form-data' }\n      };\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [adTitle, setAdTitle] = useState('');\n    const [adPrice, setAdPrice] = useState(0);\n    const [adAddress, setAdAddress] = useState('');\n    const [adCurStatus, setAdCurStatus] = useState();\n    const [adStatuses, setAdStatuses] = useState([]);\n\n    const [cityPlaceholder, setCityPlaceholder] = useState()\n    \n    const [selectedCatId,setSelectedCatId] = useState();\n    const [selectedSubCatId,setSelectedSubCatId] = useState();\n    const [curSubCatList,setCurSubCatList] = useState([]);\n\n    const [curCityId, setCurCityId] = useState();\n    const [coords,setCoords] = useState();\n    const [photoArray, setPhotoArray] = useState([]);\n    const [adDescription,setAdDescription] = useState();\n    const [sellAsStore,setSellAsStore] = useState(false)\n\n    const submitDataToServer = async () => {\n        //const cleanPhotoArray=photoArray.length>0 ? photoArray.map(ph=>ph.filename) : null;\n        const price = Number.isFinite(parseFloat(adPrice)) ? parseFloat(adPrice) : 0;\n        const sendData = {\n            title:adTitle,\n            description:adDescription,\n            subCategoryId:selectedSubCatId,\n            price:price,\n            cityId:curCityId,\n            address:adAddress,\n            photos:photoArray,\n            coords:coords,\n            currentState:adCurStatus,\n            sellAsStore:sellAsStore,\n        }\n        console.log(sendData);\n        try {\n            setLoading(true);\n            let resp;\n            if (adId){\n              resp = await axios.put(`${process.env.REACT_APP_BE}ads/${adId}`,sendData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            }else{\n              resp = await axios.post(`${process.env.REACT_APP_BE}ads`,sendData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            }\n            console.log(resp.data);\n            if (resp.data.id){\n              hist.push(`/view/${resp.data.id}`)\n            }\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    }\n\n    \n    \n\n      const deletePhoto = async (photoFilename) => {\n        setPhotoArray((prev) =>\n        prev.filter(\n          (item) => item !== photoFilename\n        )\n      )\n      const baseUrl = `${process.env.REACT_APP_BE}image-upload/`;\n      //const newOrEdit = adId ? baseUrl + 'editor/' : 'newad/';\n      try{\n      const { data } = await axios.delete(`${baseUrl}${photoFilename}`,axiosConfig);\n      console.log(data);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      }\n    }\n      \n      }\n\n    useEffect(() => {\n        if (selectedCatId){\n            //const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n            const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n            setCurSubCatList(subCatsOfCat);\n            if(subCatsOfCat.length>0){\n              if(!adId){\n                setSelectedSubCatId(subCatsOfCat[0].id)\n              }\n            }else{\n                setSelectedSubCatId(null);\n            }\n        }else{\n            \n            setSelectedCatId(categoriesList[0].id);\n            \n        }\n    }, [selectedCatId,subCategoriesList,categoriesList,adId]);\n\nuseEffect(() => {\n    const getAvalableStatuses = async () =>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}adstates`);\n            setAdStatuses(data);\n            setAdCurStatus(data[0].id)\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n    getAvalableStatuses();\n\n    if(adId){\n      const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}ads/${adId}`);\n            setAdTitle(data.title);\n            setAdPrice(data.price);\n            setAdAddress(data.address);\n            setAdCurStatus(data.currentState);\n            setAdDescription(data.description)\n            setPhotoArray(data.photos);\n            console.log('photos',data.photos);\n            setSelectedSubCatId(data.subCategoryId);\n            setCoords(data.coords)\n            setSelectedCatId(data.catId);\n            setCityPlaceholder(data.cityName);\n            setCurCityId(data.cityId)\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    };\n\n\n}, [adId])\n\n\nconst uploadImages = async(e) => {\n    const formData = new FormData();\n    for (let i=0;i<e.target.files.length;i++){\n        formData.append('image', e.target.files[i]);\n    }\n    try {\n        setLoading(true);\n\n        const { data:uploadedFilesPath } = await axios.post(`${process.env.REACT_APP_BE}image-upload`,formData,axiosConfig);\n        console.log(uploadedFilesPath);\n        if(photoArray)setPhotoArray(prev=>[...prev,...uploadedFilesPath]);\n        else setPhotoArray(uploadedFilesPath)\n        setLoading(false);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n\n}\n\n    if(!curSubCatList || loading)return <LoadingSpinner/>;\n\n    return (\n      <>                 \n        <Row className='mb-4'>\n          <Col className='text-center'>\n            <h4>{adId ? 'Edit' : 'Create'} ad</h4>\n          </Col> \n        </Row>\n\n        <Row>\n          {error && <Alert>{error}</Alert>}\n          <Col>\n            <FloatingLabel\n              controlId=\"floatingSelectCat\"\n              label=\"Choose category\"\n            >\n              <Form.Select\n                aria-label=\"Categories list\"\n                value={selectedCatId}\n                onChange={(e) => setSelectedCatId(parseInt(e.target.value, 10))}\n              >\n                {categoriesList.map((cat, idx) => (\n                  <option key={`catk${idx}`} value={cat.id}>\n                    {cat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n          <Col>\n            <FloatingLabel\n              controlId=\"floatingSelectSubCat\"\n              label=\"Choose sub-category\"\n            >\n              <Form.Select\n                aria-label=\"Sub categories list\"\n                value={selectedSubCatId}\n                onChange={(e) =>\n                  setSelectedSubCatId(parseInt(e.target.value, 10))\n                }\n              >\n                {curSubCatList.map((subCat, idx) => (\n                  <option key={`subCatk${idx}`} value={subCat.id}>\n                    {subCat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n        </Row>\n        <Row className=\"my-2\">\n          <Col sm={7}>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingInputTitle\"\n                  label=\"Enter title (required)\"\n                  className=\"mb-1\"\n                >\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Some title\"\n                    onChange={(e) => setAdTitle(e.target.value)}\n                    value={adTitle}\n                    required\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingTextareaDescription\"\n                  label=\"Enter description\"\n                >\n                  <Form.Control\n                    as=\"textarea\"\n                    placeholder=\"Enter description here\"\n                    onChange={(e) => setAdDescription(e.target.value)}\n                    value={adDescription}\n                    style={{ height: '200px' }}\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row className='mt-3'>\n              <Col>\n                <Form.Check\n                  required\n                  label=\"Sell as store\"\n                  feedback=\"Sell as store\"\n                  value={sellAsStore}\n                  onChange={(e) => setSellAsStore(e.target.checked)}\n                />{\" \"}\n                <br />\n                <Form.Check\n                  required\n                  label=\"Agree to terms and conditions\"\n                  feedback=\"You must agree before submitting.\"\n                />{\" \"}\n                <br />\n                <Button variant=\"primary\" onClick={submitDataToServer}>\n                  Submit\n                </Button>\n              </Col>\n\n              <Col>\n                <Form.Group controlId=\"formFileMultiple\" className=\"mb-3\">\n                  <Form.Control type=\"file\" multiple onChange={uploadImages} />\n                  <Form.Label>Choose photos to upload</Form.Label>\n                </Form.Group>\n\n                {photoArray && photoArray.length > 0 && (\n                  <>\n                    <Carousel variant='dark'>\n                      {photoArray.map((photo, idx) => (\n                        <Carousel.Item key={`photoK${idx}`}>\n                          <img\n                            className=\"d-block w-100\"\n                            src={`${process.env.REACT_APP_BE}images/${photo}`}\n                            alt=\"what is it?\"\n                            style={{ objectFit: \"scale-down\", height: \"25rem\" }}\n                          />\n                          <Carousel.Caption>\n                          <Button onClick={() => deletePhoto(photo)} variant=\"outline-danger\"> <TrashFill size={24} /> </Button>\n                          </Carousel.Caption>\n                        </Carousel.Item>\n                      ))}\n                    </Carousel>\n                  </>\n                )}\n              </Col>\n            </Row>\n          </Col>\n          <Col sm={5}>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingInputPrice\"\n                  label=\"Enter price\"\n                  className=\"mb-1\"\n                >\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"1 000 000\"\n                    onChange={(e) => setAdPrice(e.target.value)}\n                    value={adPrice}\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingSelectStatus\"\n                  label=\"Choose status\"\n                >\n                  <Form.Select\n                    aria-label=\"Ad statuses list\"\n                    value={adCurStatus}\n                    onChange={(e) =>\n                      setAdCurStatus(parseInt(e.target.value, 10))\n                    }\n                  >\n                    {adStatuses.map((status, idx) => (\n                      <option key={`statusk${idx}`} value={status.id}>\n                        {status.description}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row className=\"my-2\">\n              <Col>\n                <CitiesSearchInput\n                  setCoords={setCoords}\n                  setCityId={setCurCityId}\n                  cityPlaceholder={cityPlaceholder}\n                />\n              </Col>\n            </Row>\n            <Row className=\"my-2\">\n              <FloatingLabel\n                controlId=\"floatingInputAddress\"\n                label=\"Enter address (optional)\"\n                className=\"mb-1\"\n              >\n                <Form.Control\n                  as=\"textarea\"\n                  placeholder=\"Some street 1\"\n                  onChange={(e) => setAdAddress(e.target.value)}\n                  value={adAddress}\n                />\n              </FloatingLabel>\n            </Row>\n            <Row>\n              <Col>\n                <MapGeolocationPos setCoords={setCoords} coords={coords} />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </>\n    );\n}\n\nexport default CreateNewAd\n","import {useState,useContext,useEffect} from 'react';\nimport axios from 'axios';\nimport { Col, Row, Form, FloatingLabel,Button,InputGroup,Alert } from 'react-bootstrap';\nimport { AppContext } from \"../../context/AppContext\";\nimport LoadingSpinner from '../LoadingSpinner';\n\nconst AddEditCategory = () => {\n    //const userType = localStorage.getItem(\"userType\");\n    const { categoriesList, subCategoriesList,loading, error, setLoading, setError,updateMenuItems,setUpdateMenuItems } =\n    useContext(AppContext);\n\n    const [selectedCatId, setSelectedCatId] = useState();\n    const [catDesc,setCatDesc]=useState('');\n\n    const [curSubCatList, setCurSubCatList] = useState([]);\n    const [selectedSubCatId, setSelectedSubCatId] = useState();\n    const [subCatDesc,setSubCatDesc]=useState('');\n\n\n    const sendReq = async (reqType) => {\n        try {\n            setLoading(true);\n            const axiosConfig = {\n                headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n              };\n            let data;\n            if (reqType==='put'){\n                data = await axios.put(`${process.env.REACT_APP_BE}categories/${selectedCatId}`,{category:catDesc},axiosConfig);\n            }else if(reqType==='delete'){\n                data = await axios.delete(`${process.env.REACT_APP_BE}categories/${selectedCatId}`,axiosConfig);\n                setSelectedCatId(categoriesList[0].id);\n                setCatDesc(categoriesList[0].description);\n            }else if(reqType==='new'){\n                data = await axios.post(`${process.env.REACT_APP_BE}categories/`,{category:catDesc},axiosConfig);\n            }else if(reqType==='newSc'){\n                data = await axios.post(`${process.env.REACT_APP_BE}subcategories/`,{parentId:selectedCatId,subCategory:subCatDesc},axiosConfig);\n            }else if(reqType==='deleteSc'){\n                data = await axios.delete(`${process.env.REACT_APP_BE}subcategories/${selectedSubCatId}`,axiosConfig);\n            }else if(reqType==='putSc'){\n                data = await axios.put(`${process.env.REACT_APP_BE}subcategories/${selectedSubCatId}`,{parentId:selectedCatId,subCategory:subCatDesc},axiosConfig);\n            };\n            console.log(data);\n            setUpdateMenuItems(!updateMenuItems)\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 3000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 3000);\n              setLoading(false);\n            }\n          }\n    }\n\n    useEffect(() => {\n        if (selectedCatId){\n            \n            const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n            setCatDesc(curCat.description);\n\n            const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n            setCurSubCatList(subCatsOfCat);\n            if(subCatsOfCat.length>0){\n                setSelectedSubCatId(subCatsOfCat[0].id)\n                setSubCatDesc(subCatsOfCat[0].description)\n            }else{\n                setSubCatDesc('');\n                setSelectedSubCatId('');\n            }\n        }else{\n            \n            setSelectedCatId(categoriesList[0].id);\n            setCatDesc(categoriesList[0].description);\n        }\n    }, [categoriesList,selectedCatId,subCategoriesList]);\n\n    useEffect(() => {\n        \n        if (selectedSubCatId){\n            const curSubCat = curSubCatList.find(subCat=>subCat.id===selectedSubCatId);\n            setSubCatDesc(curSubCat.description);\n        }/* else{\n            \n            setSelectedCatId(categoriesList[0].id);\n            setCatDesc(categoriesList[0].description);\n        } */\n    }, [selectedSubCatId,subCategoriesList,selectedCatId,curSubCatList]);\n\n    if (loading) return <LoadingSpinner/>\n    return (<>\n        <Row className=\"py-4 bg-warning my-4\">\n            {error && <Col><Alert>{error}</Alert></Col>}\n            <Col>\n            <FloatingLabel controlId=\"floatingSelectCat\" label=\"Choose category\">\n                    <Form.Select aria-label=\"Categories list\" value={selectedCatId} onChange={(e)=>setSelectedCatId(parseInt(e.target.value,10))}>\n                        {categoriesList.map((cat,idx)=>(\n                            <option key={`catk${idx}`} value={cat.id}>{cat.description}</option>    \n                        ))}\n                    </Form.Select>\n                </FloatingLabel>\n            </Col>\n            <Col>\n            <InputGroup>\n        <FloatingLabel controlId=\"floatingInputCategory\" label=\"Category description\" className=\"mb-1\">\n            <Form.Control type=\"text\" placeholder=\"category description\" value={catDesc} onChange={(e)=>setCatDesc(e.target.value)} required />\n        </FloatingLabel>\n            <Button onClick={()=>sendReq('new')} variant=\"outline-dark\" disabled={catDesc.length===0}>Add New</Button>\n          <Button onClick={()=>sendReq('put')} variant=\"outline-dark\" disabled={catDesc.length===0 || !selectedCatId}>Rename</Button>\n          <Button onClick={()=>sendReq('delete')} variant=\"danger\" disabled={catDesc.length===0 || !selectedCatId}>Delete</Button>\n          </InputGroup>\n            </Col>\n        </Row>\n                <Row className=\"py-4 bg-warning my-4\">\n                <Col>\n                <FloatingLabel controlId=\"floatingSelectCat\" label=\"Choose category\">\n                        <Form.Select aria-label=\"Categories list\" value={selectedSubCatId} onChange={(e)=>setSelectedSubCatId(parseInt(e.target.value,10))}>\n                            {curSubCatList.length>0 ? curSubCatList.map((subCat,idx)=>(\n                                <option key={`sbcatk${idx}`} value={subCat.id}>{subCat.description}</option>    \n                            )) : '' }\n                        </Form.Select>\n                    </FloatingLabel>\n                </Col>\n                <Col>\n                <InputGroup>\n            <FloatingLabel controlId=\"floatingInputSubCategory\" label=\"Sub category description\">\n                <Form.Control type=\"text\" placeholder=\"sub category description\" value={subCatDesc} onChange={(e)=>setSubCatDesc(e.target.value)} required />\n            </FloatingLabel>\n                <Button onClick={()=>sendReq('newSc')} variant=\"outline-dark\" disabled={subCatDesc.length===0}>Add New</Button>\n              <Button onClick={()=>sendReq('putSc')} variant=\"outline-dark\" disabled={subCatDesc.length===0 || !selectedSubCatId}>Rename</Button>\n              <Button onClick={()=>sendReq('deleteSc')} variant=\"danger\"  disabled={subCatDesc.length===0 || !selectedSubCatId}>Delete</Button>\n              </InputGroup>\n                </Col>\n            </Row>\n            </>\n    )\n}\n\nexport default AddEditCategory\n","import { useEffect,useState,useContext } from 'react';\nimport { Rating,RatingView } from 'react-simple-star-rating';\nimport axios from 'axios';\nimport { AppContext } from \"../context/AppContext\";\n\nconst UserRating = ({userId}) => {\n    const {isAuthenticated } = useContext(AppContext);\n    const [rating, setRating] = useState(0); // initial rating value\n    \n    useEffect(()=>{\n        const loadUserRating = async ()=>{\n         try {\n             //setLoading(true);\n             const { data } = await axios.get(`${process.env.REACT_APP_BE}rate/${userId}/rating`);\n             setRating(data.avg);\n             console.log(data);\n             //setLoading(false);\n           } catch (error) {\n             if (error.response) {\n            //   setError(error.response.data.error);\n            //   setTimeout(() => setError(null), 5000);\n            //   setLoading(false);\n             } else {\n            //   setError(error.message);\n            //   setTimeout(() => setError(null), 5000);\n            //   setLoading(false);\n             }\n           }\n        };\n        loadUserRating()\n     },[userId]);\n\n       // Catch Rating value\n  const handleRating = async(rate) => {\n      \n      if(userId!==parseInt(localStorage.getItem('userId'),10)){\n          setRating(rate);\n          const ratingData={\n              targetUser: userId,\n              rating: rate,\n          }\n          try {\n              //setLoading(true);\n              const { data } = await axios.post(`${process.env.REACT_APP_BE}rate/`,ratingData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n              if (data.targetUser===userId){\n      \n              }\n              console.log(data);\n              //setLoading(false);\n            } catch (error) {\n                console.log('imerer',error.response.data.error);\n                if (error.response.data.error.endsWith('\"uniqrating\"')){\n                    console.log('You have already rated this user!');\n                }\n              if (error.response) {\n             //   setError(error.response.data.error);\n             //   setTimeout(() => setError(null), 5000);\n             //   setLoading(false);\n              } else {\n             //   setError(error.message);\n             //   setTimeout(() => setError(null), 5000);\n             //   setLoading(false);\n              }\n            }\n      }\n  }\n\n    return (\n        <div>{isAuthenticated &&  userId!==parseInt(localStorage.getItem('userId'),10) ? <Rating onClick={handleRating} ratingValue={rating} /> : <RatingView ratingValue={rating} />}\n            \n        </div>\n    )\n}\n\nexport default UserRating","import axios from 'axios';\nimport { Alert,Row,Col,Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport LoadingSpinner from './LoadingSpinner';\nimport { Map, Marker } from \"pigeon-maps\";\nimport { TelephoneFill } from 'react-bootstrap-icons';\nimport AddToFavsButton from './AddToFavsButton';\nimport UserRating from './UserRating';\n\nconst ViewSingleAd = () => {\n    const {adId}=useParams();\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [adData, setAdData] = useState({});\n   \n    useEffect(()=>{\n       const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}ads/${adId}`);\n            setAdData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    },[adId]);\nif (loading)return <LoadingSpinner/>\n    return ( <Row>\n        {/*  <Row className=\"mb-5\">\n            <Col>\n           <Breadcrumb>\n                <Breadcrumb.Item><Link to=\"/\">All ads</Link></Breadcrumb.Item>\n                <Breadcrumb.Item><Link to={`/categories/${adData.catId}`}>\n                    {adData.category}\n                    </Link>\n                </Breadcrumb.Item>\n                <Breadcrumb.Item>\n                <Link to={`/subcategories/${adData.subCategoryId}`}>\n                    {adData.subcategory}</Link>\n                </Breadcrumb.Item>\n                <Breadcrumb.Item active>{adData.subcategory} in {adData.cityName}</Breadcrumb.Item>\n            </Breadcrumb> \n            </Col>\n        </Row>*/}\n        \n            {error && <Alert>{error}</Alert>}\n            <Col>\n            <Row>\n            <Col className=\"m-3 p-3\" style={{backgroundColor:'#faf9f9'}}>\n                <Carousel variant=\"dark\">\n                  {adData.photos && adData.photos.length>0 ? adData.photos.map((photo, idx) => (\n                    <Carousel.Item key={`photoK${idx}`} >\n                      <img  style={{objectFit:'scale-down',height:'25rem'}}\n                        className=\"d-block w-100\"\n                        src={`${process.env.REACT_APP_BE}/images/${photo}`}\n                        alt=\"Something interesting\"\n                      />\n                    </Carousel.Item>\n                  )) : <Carousel.Item><img  style={{objectFit:'scale-down',height:'25rem'}} className=\"d-block w-100\" src='/images/noimg.png' alt=\"Nothing here\" /></Carousel.Item>}\n                </Carousel>\n            </Col>\n            </Row>\n            <Row>\n<Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n<Row>\n<Col>\n                  <h4>{adData.title}</h4>\n                  {adData.price && adData.price>0 && <h3>{adData.price}</h3>}\n                  <p className=\"mt-3\">{adData.description}</p>\n              </Col>\n\n</Row>\n<Row className=\"mt-4\">\n            <Col>\n                 <p className='fs-6 text-muted'>Views: {adData.views}</p> \n                  \n              </Col>\n              <Col className='text-center'>\n              <AddToFavsButton targetId={adData.adId} description={adData.title} />\n              </Col>\n              <Col>\n              <p className=\"fs-6 text-muted text-end\">ID: {adData.adId}</p>\n              </Col>\n            </Row>\n</Col>\n             \n            </Row>\n            \n            </Col>\n              <Col sm={4} >\n                  <Row>\n                  <Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n                    {adData.storeId && (<Row><Col><Link to={`/viewstore/${adData.storeId}`} style={{textDecoration:'none'}}><h4 classname=\"secondary\">{adData.storeName}</h4></Link><br/></Col></Row>)}\n                  <Row>\n                  <Col sm={9}>\n                    <Link className=\"fs-6 text-muted\" to={`/byuser/${adData.ownerId}`} style={{textDecoration:'none'}}><h4>{adData.userName}</h4></Link>\n                  </Col>\n                  <Col className='text-end'>\n                    <AddToFavsButton targetId={adData.ownerId} description={adData.userName} path='user' />\n                  </Col>\n                  </Row>                      \n                  <Row className='mt-2'>\n                    <Col>\n                      <h5><TelephoneFill size={24}/> {adData.userPhone}</h5><br/>\n                    \n                    </Col>  \n                  </Row>\n                  <Row>\n                    <Col>\n                    <UserRating userId={adData.ownerId} />\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col>\n                    <p className='fs-6 text-muted'>Member since {new Date(adData.created).toLocaleString()}<br/>\n                      Was online {new Date(adData.wasOnline).toLocaleString()}</p>\n                    </Col>\n                  </Row>\n                  \n                  </Col>\n                  </Row>\n                  <Row>\n                  <Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n                  <h5>{adData.cityName}</h5>\n                  <p>{adData.address}</p>\n                  <Map height={300} center={adData.coords} defaultZoom={11}>\n                    {adData.coords && <Marker width={50} anchor={adData.coords} />}\n                  </Map>\n                  </Col>\n                  </Row>\n              </Col>\n\n        </Row>\n\n\n\n    )\n}\n\nexport default ViewSingleAd\n","import axios from 'axios';\nimport {useEffect, useState,useContext} from 'react';\nimport { Row,Col, Button, Modal,Alert } from 'react-bootstrap';\nimport { PencilSquare, Trash } from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\nimport LoadingSpinner from './LoadingSpinner';\nimport UserRating from './UserRating';\n\nconst UserProfile = () => {\n    const { signOut } = useContext(AppContext);\n    const [profileData, setProfileData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const [showModal, setShowModal] = useState(false);\n\n    const handleModalClose = () => setShowModal(false);\n    const handleModalShow = () => setShowModal(true);\n\n    const handleDeleteProfile = async () => {\n        try {\n            setLoading(true);\n            const { data } = await axios.delete(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            \n            console.log(data);\n            signOut();\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    useEffect(()=>{\n       const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setProfileData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    },[]);\n\n    if(loading)return <LoadingSpinner/>;\n    return (\n      <>\n        <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your profile</h4>\n              </Col> \n            </Row>\n            <Row className=\"justify-content-center\">\n            <Col sm={6}>\n            {error && <Alert>{error}</Alert>}\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">User name: </small></h5>\n              </Col>\n              <Col>\n              <h5>\n                  {profileData.name}\n                </h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">E-Mail: </small></h5>\n              </Col>\n              <Col>\n              <h5>  {profileData.email}</h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">Phone number: </small></h5>\n              </Col>\n              <Col>\n              <h5> {profileData.phone}</h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">Registered on: </small></h5>\n              </Col>\n              <Col>\n              <h5>{new Date(profileData.registerDate).toLocaleString()} </h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">User type: </small></h5>\n              </Col>\n              <Col>\n              <h5>{profileData.userType}</h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">Your rating: </small></h5>\n              </Col>\n              <Col>\n                <UserRating userId={profileData.userId} />\n              </Col>\n            </Row>\n            <Row className='mt-4'>\n              <Col>\n                <Button variant=\"outline-dark\" as={Link} to=\"/editprofile\">\n                  <PencilSquare /> Edit profile\n                </Button>\n              </Col>\n              <Col>\n              <Button variant=\"outline-danger\" onClick={handleModalShow}>\n                  <Trash /> Delete profile\n                </Button>\n              </Col>\n            </Row>\n          </Col>\n            </Row>\n          </Col>\n          \n\n        </Row>\n        <Modal\n          show={showModal}\n          onHide={handleModalClose}\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Do you really want to delete your profile?\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            All your ads, your favotites and all your data will be deleted.\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={handleModalClose}>\n              No, missclicked!\n            </Button>\n            <Button variant=\"danger\" onClick={handleDeleteProfile}>\n              Yes, pls delete!\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n}\n\nexport default UserProfile","import { useState,useEffect,useContext } from 'react';\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\nimport { Col, Row,Form,FloatingLabel,Button,Alert } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\n\nconst EditProfile = () => {\n    const { signOut } = useContext(AppContext);\n    \n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [userName, setUserName] = useState('');\n    const [phone, setPhone] = useState('');\n    const [email, setEmail] = useState('');\n    const [showAlert, setShowAlert] = useState('');\n\n    useEffect(()=>{\n        const loadAdDetails = async ()=>{\n            try {\n                setLoading(true);\n                const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setUserName(data.name);\n                setPhone(data.phone);\n                setEmail(data.email);\n\n                console.log(data);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                }\n              }\n           };\n           loadAdDetails()\n    },[]);\n\n    const handleSaveChanges = async ()=>{\n        const editedProfile={\n            userName:userName,\n            email:email,\n            phone:phone,\n        }\n        try {\n            setLoading(true);\n            const { data } = await axios.put(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,editedProfile,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            if (String(data.id)===localStorage.getItem('userId')){\n                setShowAlert('You must re-login for the changes to take effect!');\n                setTimeout(()=>signOut(),5000)\n            }\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    if(loading)return <LoadingSpinner/>;\n    if(showAlert)return (<Row className=\"justify-content-center\"><Alert>{showAlert}</Alert></Row>)\n    return (\n        \n            <Row className=\"justify-content-center\">\n                {error && <Alert>{error}</Alert>}\n          <Col sm={4}>\n          <FloatingLabel\n              controlId=\"floatingInputUserName\"\n              label=\"Enter your name (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some username\"\n                onChange={(e) => setUserName(e.target.value)}\n                value={userName}\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingInputEmail\"\n              label=\"Enter your email (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some email\"\n                onChange={(e) => setEmail(e.target.value)}\n                value={email}\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingInputPhoneNumber\"\n              label=\"Enter your name (required)\"\n              className=\"mb-2\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some phone number\"\n                onChange={(e) => setPhone(e.target.value)}\n                value={phone}\n                required\n              />\n            </FloatingLabel>\n            <div className=\"d-grid gap-2\">\n            <Button variant=\"primary\" size=\"sm\" onClick={handleSaveChanges}>Save changes</Button>\n            <Button variant=\"secondary\" size=\"sm\" as={Link} to=\"/\">Cancel</Button>\n\n            </div>\n          </Col>\n          </Row>\n    )\n}\n\nexport default EditProfile\n","import { useState,useEffect } from 'react';\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\nimport { Col, Row,Form,FloatingLabel,Button,Alert } from 'react-bootstrap';\nimport { Link, useHistory,useParams } from 'react-router-dom';\nimport CitiesSearchInput from './CitiesSearchInput';\nimport MapGeolocationPos from './MapGeolocationPos';\n\nconst EditStore = () => {\n    const axiosConfig = {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'multipart/form-data' }\n      };\n    const {storeId} = useParams();\n\n    const [loading,setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const [storeTitle, setStoreTitle] = useState('');\n    const [storeAddress, setStoreAddress] = useState('');\n    const [storeDescription, setStoreDescription] = useState('');\n    const [storeLogoImg, setStoreLogoImg] = useState('');\n    const [cityId,setCityId] = useState();\n    const [coords,setCoords] = useState();\n    const [cityName,setCityName] = useState();\n    const hist = useHistory();\n\n    useEffect(() => {\n      const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}stores/my/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            //setStoreData(data);\n            setStoreTitle(data.title);\n            setStoreAddress(data.address);\n            setStoreDescription(data.description);\n            setStoreLogoImg(data.photo);\n            setCityId(data.cityId);\n            setCoords(data.coords);\n            setCityName(data.cityName);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n      if (storeId){\n        loadStoreDetails();\n      }\n    }, [storeId])\n\nconst uploadImage = async (e) => {\n    const formData = new FormData();\n    formData.append('image', e.target.files[0]);\n    try {\n        setLoading(true);\n\n        const { data:uploadedFile } = await axios.post(`${process.env.REACT_APP_BE}image-upload`,formData,axiosConfig);\n        console.log(uploadedFile);\n        setStoreLogoImg(uploadedFile[0]);\n        setLoading(false);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n}\n      \n\n/*     useEffect(()=>{\n        const loadAdDetails = async ()=>{\n            try {\n                setLoading(true);\n                const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setUserName(data.name);\n                setPhone(data.phone);\n                setEmail(data.email);\n\n                console.log(data);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                }\n              }\n           };\n           loadAdDetails()\n    },[]); */\n\n     const handleSaveChanges = async ()=>{\n        const storeData={\n            title:storeTitle,\n            address:storeAddress,\n            description:storeDescription,\n            coords:coords,\n            cityId:cityId,\n            photo:storeLogoImg,\n        };\n        try {\n            setLoading(true);\n            let resp;\n            if(storeId){\n              const { data } = await axios.put(`${process.env.REACT_APP_BE}stores/${storeId}`,storeData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n              resp=data;\n            }else{\n              const { data } = await axios.post(`${process.env.REACT_APP_BE}stores/`,storeData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n              resp=data;\n            }\n            console.log(resp);\n            if (resp.id){\n              setLoading(false);\n              hist.push(`/mystore`)\n            }\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n \n\n\n    if(loading)return <LoadingSpinner/>;\n    \n    return (\n        \n        <Row className=\"justify-content-center\">\n            <Col md={10}>\n                {error && <Alert>{error}</Alert>}\n                <Row>\n          <Col md={4}>\n          <FloatingLabel\n              controlId=\"floatingInputStoreName\"\n              label=\"Enter name of your store (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some title\"\n                onChange={(e) => setStoreTitle(e.target.value)}\n                value={storeTitle}\n                required\n              />\n            </FloatingLabel>\n\n            <FloatingLabel\n              controlId=\"floatingInputStoreDescription\"\n              label=\"Enter your store's description (required)\"\n              className=\"mb-2\"\n            >\n            <Form.Control\n                as=\"textarea\"\n                placeholder=\"Some descriptiion\"\n                style={{ height: '300px' }}\n                onChange={(e) => setStoreDescription(e.target.value)}\n                value={storeDescription}\n                required\n            />\n            </FloatingLabel>\n\n\n          </Col>\n          <Col md={4}>\n              <Row>\n                  <Col>\n                  <FloatingLabel\n              controlId=\"floatingInputStoreAddress\"\n              label=\"Enter address of your store (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some address\"\n                onChange={(e) => setStoreAddress(e.target.value)}\n                value={storeAddress}\n                required\n              />\n            </FloatingLabel>\n                  </Col>\n              </Row>\n            <Row className=\"my-2\">\n              <Col>\n                <CitiesSearchInput cityPlaceholder={cityName} setCoords={setCoords} setCityId={setCityId} />\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <MapGeolocationPos setCoords={setCoords} coords={coords} />\n              </Col>\n            </Row>\n          </Col>\n          <Col md={4}>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Control type=\"file\" onChange={uploadImage} />\n              <Form.Label>Choose photo or logo</Form.Label>\n            </Form.Group>\n            {storeLogoImg && <img src={`${process.env.REACT_APP_BE}images/${storeLogoImg}`} style={{objectFit:'scale-down',width:'18rem',height:'20rem' }} alt='logo' />}\n          </Col>\n\n            </Row>\n            <Row className=\"d-grid gap-2\">\n            <Button variant=\"primary\" size=\"sm\" onClick={handleSaveChanges}>Save changes</Button>\n            <Button variant=\"secondary\" size=\"sm\" as={Link} to=\"/\">Cancel</Button>\n\n            </Row>\n            </Col>\n            \n          </Row>)\n}\n\nexport default EditStore\n","import { useEffect, useState,useContext } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, FloatingLabel, Form } from \"react-bootstrap\";\nimport AdCard from \"./AdCard\";\nimport PageNums from \"./PageNums\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport { AppContext } from \"../context/AppContext\";\n\nconst ADSPERPAGE=8;\n\nconst SearchResults = () => {\n\n    const {  categoriesList, subCategoriesList ,searchParams,setSearchParams } = useContext(AppContext);\n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n    const [selectedCatId,setSelectedCatId] = useState();\n    const [selectedSubCatId,setSelectedSubCatId] = useState();\n    const [curSubCatList,setCurSubCatList] = useState([]);\n    const [searchInCat,setSearchInCat] = useState(false);\n    const [searchInSubCat,setSearchInSubCat] = useState(false);\n    const [curPage,setCurPage] = useState(1);\n    const [totalPages,setTotalPages] = useState();\n\n    useEffect(() => {\n\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.post(`${process.env.REACT_APP_BE}search/v2/?skip=${(curPage-1)*ADSPERPAGE}&limit=${ADSPERPAGE}`,searchParams);\n                setCurrentlyLoadedAds(adList);\n                if(adList.length>0){\n                  setTotalPages(Math.ceil(parseInt(adList[0].totalRows,10)/ADSPERPAGE));\n                }else {\n                  setTotalPages(0);\n                  setCurPage(1);\n                }\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds()\n    }, [searchParams,curPage]);\n\n    useEffect(() => {\n      console.log(searchInCat);\n      if(searchInCat)setSearchParams(prev=>{\n        const reqBody = {\n          cityId: prev.cityId,\n          cityCoords:prev.cityCoords,\n          distance: prev.distance,\n          searchText:prev.searchText,\n          catId:selectedCatId,\n          subCatId:null,\n        };\n        return reqBody;\n      });\n    }, [searchInCat,selectedCatId,setSearchParams])\n    useEffect(() => {\n      console.log(searchInSubCat);\n      if(searchInSubCat)setSearchParams(prev=>{\n        prev.subCatId=selectedSubCatId;\n        return prev;\n      });\n    }, [searchInSubCat,selectedSubCatId,setSearchParams])\n\n    useEffect(() => {\n      if (selectedCatId){\n          //const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n          const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n          setCurSubCatList(subCatsOfCat);\n          if(subCatsOfCat.length>0){\n              setSelectedSubCatId(subCatsOfCat[0].id)\n              \n          }else{\n              \n              setSelectedSubCatId(null);\n          }\n      }else{\n          \n          setSelectedCatId(categoriesList[0].id);\n          \n      }\n  }, [selectedCatId,subCategoriesList,categoriesList]);\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (\n        <Row>\n          <Col>\n          <Row>\n          <Col sm={3}>\n            <FloatingLabel\n              controlId=\"floatingSelectCat\"\n              label=\"Choose category\"\n            >\n              <Form.Select\n                aria-label=\"Categories list\"\n                value={selectedCatId}\n                onChange={(e) => setSelectedCatId(parseInt(e.target.value, 10))}\n              >\n                {categoriesList.map((cat, idx) => (\n                  <option key={`catk${idx}`} value={cat.id}>\n                    {cat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n          <Col>\n          <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"switchUseCategories\" defaultChecked={searchInCat} onChange={(e)=>setSearchInCat(e.target.checked)} />\n          <label className=\"form-check-label\" htmlFor=\"switchUseCategories\">Search in this category</label>\n        </div>\n          </Col>\n          </Row>\n          <Row>\n          <Col sm={3}>\n            <FloatingLabel\n              controlId=\"floatingSelectSubCat\"\n              label=\"Choose sub-category\"\n            >\n              <Form.Select\n                aria-label=\"Sub categories list\"\n                value={selectedSubCatId}\n                onChange={(e) =>\n                  setSelectedSubCatId(parseInt(e.target.value, 10))\n                }\n              >\n                {curSubCatList.map((subCat, idx) => (\n                  <option key={`subCatk${idx}`} value={subCat.id}>\n                    {subCat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n          <Col>\n          <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"switchUseSubCategories\" defaultChecked={searchInSubCat} onChange={(e)=>setSearchInSubCat(e.target.checked)} />\n          <label className=\"form-check-label\" htmlFor=\"switchUseSubCategories\">Search in this sub category</label>\n        </div>\n          </Col>\n          </Row>\n          \n          <Row className=\"g-4\">\n          <Alert variant=\"success\">Search results for: </Alert>\n          {currentlyLoadedAds.length===0 && <Alert variant=\"info\">No items found!</Alert>}\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <AdCard key={`adk${idx}`}\n            title={ad.title}\n            photo={ad.photos}\n            address={ad.address}\n            price={ad.price}\n            created={ad.created}\n            catId={ad.catId}\n            category={ad.category}\n            subCategoryId={ad.subCategoryId}\n            subCategory={ad.subCategory}\n            cityName={ad.cityName}\n            cityId={ad.cityId}\n            adId={ad.adId}\n            views={ad.views}\n             /> ))}\n          </Row>\n          </Col>\n          <Row className='d-flex align-items-center justify-content-center mt-4'>\n          <Col sm='auto' className='align-self-center'>\n          <PageNums totalPages={totalPages} currentPage={curPage} cbPageClick={setCurPage} />\n          </Col>\n        </Row>\n        </Row>\n    )\n}\n\nexport default SearchResults\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row,Col, Table, Modal, Button,Toast,ToastContainer,FloatingLabel,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash,Toggle2On } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyAdsPage = () => {\n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [showToast2,setShowToast2] = useState(false);\n    const [updateMyAdsList,setUpdateMyAdsList] = useState(false);\n\n    const [adIdForStatus,setAdIdForStatus] = useState();\n    const [adStatus,setAdStatus] = useState();\n    const [adStatuses, setAdStatuses] = useState([]);\n    const [showModalStateChg,setShowModalStateChg] = useState(false);\n    const handleModalStateChgClose = () => setShowModalStateChg(false);\n    const handleModalClose = () => setShowModal(false);\n    \n    useEffect(() => {\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.get(`${process.env.REACT_APP_BE}ads/byuser/${localStorage.getItem(\"userId\")}`);\n                setCurrentlyLoadedAds(adList);\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds();\n    }, [updateMyAdsList]);\n\n    useEffect(() => {\n      const getAvalableStatuses = async () =>{\n        try {\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}adstates`);\n            setAdStatuses(data);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n    getAvalableStatuses();\n    }, [])\n\n    const handleDeleteAd = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}ads/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true)\n          }\n          setLoading(false);\n          setUpdateMyAdsList(prev=>!prev);\n          \n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n            // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n\n\n     const handleChangeAdStatus =async () => {\n       const editData = {\n        adNewStateId:adStatus,\n       }\n      try {\n          setLoading(true);\n          const { data } = await axios.put(`${process.env.REACT_APP_BE}adstates/updatestate/${adIdForStatus}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModalStateChg(false);\n          if (data.id===adIdForStatus){\n            setShowToast2(true)\n          }\n          setLoading(false);\n          setUpdateMyAdsList(prev=>!prev);\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n            setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n            <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your ads</h4>\n              </Col> \n            </Row>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Ad # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n        <Toast bg='warning' onClose={() => setShowToast2(false)} show={showToast2} delay={3000} autohide>\n          <Toast.Body> Status successfully changed! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Title</th>\n        {/* <th>Description</th> */}\n        <th>Price</th>\n        <th>Sub category</th>\n        <th>Category</th>\n        <th>Created on</th>\n        <th>Edit</th>\n        <th>Delete</th>\n        <th>Status</th>\n      </tr>\n    </thead>\n    <tbody>\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/view/${ad.adId}`} style={{textDecoration:'none'}}>{ad.adId}</Link></td>\n              <td>{ad.title}</td>\n              {/* <td>{ad.description && ad.description.substring(0,50)}</td> */}\n              <td>{ad.price}</td>\n              <td>{ad.subCategory}</td>\n              <td>{ad.category}</td>\n              <td>{new Date(ad.created).toLocaleString()}</td>\n              <td><Link to={`/editad/${ad.adId}`}><PencilSquare size={24} /></Link></td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(ad.adId);\n                setShowModal(true)\n              }} /></td>\n              <td><Toggle2On size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setAdStatus(ad.currentState);\n                setAdIdForStatus(ad.adId);\n                setShowModalStateChg(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        </Col>\n        </Row>\n\n\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to delete ad # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteAd}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n    <Modal\n      show={showModalStateChg}\n      onHide={handleModalStateChgClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <FloatingLabel\n                  controlId=\"floatingSelectStatus\"\n                  label=\"Choose status\"\n                >\n                  <Form.Select\n                    aria-label=\"Ad statuses list\"\n                    value={adStatus}\n                    onChange={(e) =>\n                      setAdStatus(parseInt(e.target.value, 10))\n                    }\n                  >\n                    {adStatuses.map((status, idx) => (\n                      <option key={`statusk${idx}`} value={status.id}>\n                        {status.description}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </FloatingLabel>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalStateChgClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleChangeAdStatus}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n    </>\n    )\n}\n\nexport default MyAdsPage\n\n\n/*                  */","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, Table, Modal, Button,Toast,ToastContainer,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyFavAds = () => {\n    const [favAds,setFavAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [updateFavList,setUpdateFavList] = useState(false);\n\n    const [editId,setEditId] = useState();\n    const [editAdId,setEditAdId] = useState();\n    const [editFavText, setEditFavText] = useState('');\n    const [showModalEditor,setShowModalEditor] = useState(false);\n\n    const handleModalEditorClose = () => setShowModalEditor(false);\n    const handleModalClose = () => setShowModal(false);\n\n    useEffect(() => {\n        const getFavAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:favList } = await axios.get(`${process.env.REACT_APP_BE}favads/myfav/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setFavAds(favList);\n                console.log(favList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getFavAds();\n    }, [updateFavList]);\n\n    const handleDeleteFavAd = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}favads/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true);\n          }\n          setLoading(false);\n          setUpdateFavList(prev=>!prev)\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            //setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n           // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n     const handleSaveChanges = async() =>{\n       const editData = {\n        favAdId:editAdId,\n        description:editFavText\n       }\n       try {\n        setLoading(true);\n        const { data } = await axios.put(`${process.env.REACT_APP_BE}favads/${editId}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n        console.log(data);\n        setShowModalEditor(false);\n        setLoading(false);\n        setUpdateFavList(prev=>!prev)\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          //setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n         // setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n     }\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n                <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your fav ads</h4>\n              </Col> \n            </Row>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Fav # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>Title</th>\n        <th>Description</th>\n        <th>Edit</th>\n        <th>Delete</th>\n      </tr>\n    </thead>\n    <tbody>\n            {favAds.map((fav,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/view/${fav.adId}`} style={{textDecoration:'none'}}>{fav.adTitle}</Link></td>\n              <td>{fav.description}</td>\n              <td><PencilSquare size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setEditFavText(fav.description);\n                setEditId(fav.id);\n                setEditAdId(fav.adId);\n                setShowModalEditor(true);\n              }}/> </td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(fav.id);\n                setShowModal(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        </Col></Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to remove from favotites # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteFavAd}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n    <Modal\n      show={showModalEditor}\n      onHide={handleModalEditorClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <Form.Control value={editFavText} cols={40} onChange={(e)=>setEditFavText(e.target.value)} as=\"textarea\" rows={3} />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalEditorClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleSaveChanges}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n\n    </>\n    )\n}\n\nexport default MyFavAds\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, Table } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { CheckCircle,CheckAll, Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyMessages = () => {\n    const [messageList,setMessageList] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n    const [updateMessageList,setUpdateMessageList] = useState(false);\n\n   \n    useEffect(() => {\n        const getMessageList = async () => {\n            try {\n                setLoading(true);\n                const { data:msgList } = await axios.get(`${process.env.REACT_APP_BE}messages/inbox/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setMessageList(msgList);\n                console.log(msgList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getMessageList();\n    }, [updateMessageList]);\n\nconst markRead = async(msgId)=>{\n  try {\n    setLoading(true);\n    const { data:res } = await axios.get(`${process.env.REACT_APP_BE}messages/markread/${msgId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n    if(res.id===msgId){\n      setUpdateMessageList(prev=>!prev);\n    }\n    console.log(res);\n    setLoading(false);\n  } catch (error) {\n    if (error.response) {\n      setError(error.response.data.error);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    } else {\n      setError(error.message);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    }\n  }\n};\nconst deleteMsg = async(msgId)=>{\n  try {\n    setLoading(true);\n    const { data:res } = await axios.delete(`${process.env.REACT_APP_BE}messages/${msgId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n    if(res.id===msgId){\n      setUpdateMessageList(prev=>!prev);\n    };\n    console.log(res);\n    setLoading(false);\n  } catch (error) {\n    if (error.response) {\n      setError(error.response.data.error);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    } else {\n      setError(error.message);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    }\n  }\n}\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n    //if (!messageList || messageList.length<1) return ;\n\n    return (<>\n                    <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your messages</h4>\n              </Col> \n            </Row>\n      <Row>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>From</th>\n        <th>Title</th>\n        <th>Link to ad</th>\n        <th>Mark</th>\n      </tr>\n    </thead>\n    <tbody>\n            {messageList && messageList.map((msg,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><p>{msg.fromUserName}</p></td>\n              <td><p>{msg.msgRead ? msg.msgTitle : <mark>{msg.msgTitle}</mark>}</p></td>\n              <td><Link to={`/view/${msg.adId}`} style={{textDecoration:'none'}}>{msg.adId}</Link></td>\n              <td>{msg.msgRead ? <CheckAll size={24} /> : <CheckCircle size={24} style={{cursor:'pointer'}} onClick={()=>{\n                markRead(msg.id)\n              }} />} \n              <Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                deleteMsg(msg.id);\n              }} />\n              </td>\n            </tr> ))}\n      </tbody>\n      </Table>\n      {(!messageList || messageList.length<1) && <Alert variant=\"danger\">No messages</Alert>}\n        </Row>\n</Col></Row>\n\n    </>\n    )\n}\n\nexport default MyMessages\n\n\n/*                  */","import axios from 'axios';\nimport {useEffect, useState} from 'react';\nimport { Row,Col, Button, Modal,Alert } from 'react-bootstrap';\nimport { PencilSquare, Trash } from 'react-bootstrap-icons';\nimport { Link,useHistory } from 'react-router-dom';\nimport { Map, Marker } from \"pigeon-maps\";\nimport LoadingSpinner from './LoadingSpinner';\n\nconst StoreProfile = () => {\n    const [storeData, setStoreData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const hist = useHistory();\n\n    const [showModal, setShowModal] = useState(false);\n\n    const handleModalClose = () => setShowModal(false);\n    const handleModalShow = () => setShowModal(true);\n\n    const handleDeleteStore = async () => {\n        try {\n            setLoading(true);\n            const { data } = await axios.delete(`${process.env.REACT_APP_BE}stores/${storeData.id}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            if (data.id===storeData.id){\n              setLoading(false);\n              hist.push(`/myprofile`)\n            }  \n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    useEffect(()=>{\n       const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}stores/my/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setStoreData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadStoreDetails();\n    },[]);\n\n    if(loading)return <LoadingSpinner/>;\n    if(!storeData)return (\n      <Row className=\"justify-content-center\">\n        <Col sm={6}>\n          <p className='text-center'>\n            You don't have a store yet. You can{\" \"}\n            <mark>\n              <Link to=\"/registerstore\">register</Link>\n            </mark>{\" \"}\n            one.\n          </p>\n        </Col>\n      </Row>\n    );\n\n    return (\n      <>\n                          <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your store</h4>\n              </Col> \n            </Row>\n        <Row className=\"justify-content-center\">\n          {error && <Alert>{error}</Alert>}\n          <Col sm={6}>\n            <Row>\n              <Col className='p-3'>\n                <h4>\n                  {storeData.title}\n                </h4>\n                <p>{storeData.description}</p>\n                <h6>\n                  <small className=\"text-muted\">Address: </small>\n                </h6>\n                <p>{storeData.address}, {storeData.cityName}</p>\n              </Col>\n              <Col sm={6} className='p-3'>\n              <img src={`${process.env.REACT_APP_BE}images/${storeData.photo}`} style={{objectFit:'scale-down', width:'18rem',height:'20rem' }} alt='logo' />\n              </Col>\n            </Row>\n            <Row>\n              <Col className='p-3'>\n              <Map height={300} center={storeData.coords} defaultZoom={11}>\n                    {storeData.coords && <Marker width={50} anchor={storeData.coords} />}\n                  </Map>\n              </Col>\n            </Row>\n            <Row className=\"justify-content-center\">\n              <Col>\n              <Button variant=\"outline-dark\" as={Link} to={`/editstore/${storeData.id}`}>\n                  <PencilSquare /> Edit store data\n                </Button>\n              </Col>\n              <Col>\n              <Button variant=\"outline-danger\" onClick={handleModalShow}>\n                  <Trash /> Delete store\n                </Button>  \n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        </Col>\n        </Row>\n        <Modal\n          show={showModal}\n          onHide={handleModalClose}\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Do you really want to delete your store?\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            All your ads will be deleted.\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={handleModalClose}>\n              No, missclicked!\n            </Button>\n            <Button variant=\"danger\" onClick={handleDeleteStore}>\n              Yes, pls delete!\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n}\n\nexport default StoreProfile","import axios from 'axios';\nimport {useEffect, useState} from 'react';\nimport { Row,Col,Alert } from 'react-bootstrap';\nimport { Link, useParams } from 'react-router-dom';\nimport { Map, Marker } from \"pigeon-maps\";\nimport LoadingSpinner from './LoadingSpinner';\n\nconst ViewStore = () => {\n  const {storeId} = useParams();\n  const [storeData, setStoreData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(()=>{\n       const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}stores/${storeId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setStoreData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadStoreDetails();\n    },[storeId]);\n\n    if(loading)return <LoadingSpinner/>;\n    return (\n      <>\n        <Row className=\"justify-content-center\">\n          {error && <Alert>{error}</Alert>}\n          <Col sm={6}>\n            <Row>\n              <Col className='p-3'>\n              <Link to={`/bystore/${storeData.id}`} style={{textDecoration:'none'}}><h4>\n                 {storeData.title}\n                </h4>\n              </Link>\n                <p>{storeData.description}</p>\n                <h6>\n                  <small className=\"text-muted\">Address: </small>\n                </h6>\n                <p>{storeData.address}, {storeData.cityName}</p>\n              </Col>\n              <Col sm={6} className='p-3'>\n              <img src={`${process.env.REACT_APP_BE}images/${storeData.photo}`} style={{objectFit:'scale-down', width:'18rem',height:'20rem' }} alt='logo' />\n              </Col>\n            </Row>\n            <Row>\n              <Col className='p-3'>\n              <Map height={300} center={storeData.coords} defaultZoom={11}>\n                    {storeData.coords && <Marker width={50} anchor={storeData.coords} />}\n                  </Map>\n              </Col>\n            </Row>\n\n          </Col>\n        </Row>\n\n      </>\n    );\n}\n\nexport default ViewStore","const NotFound = () => {\n    return (\n        <div>\n            <h1>404</h1>\n        </div>\n    )\n}\n\nexport default NotFound\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, Table, Modal, Button,Toast,ToastContainer,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyFavUsers = () => {\n    const [favUsers,setFavUsers] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [updateFavList,setUpdateFavList] = useState(false);\n\n    const [editId,setEditId] = useState();\n    const [editTargetId,setEditTargetId] = useState();\n    const [editFavText, setEditFavText] = useState('');\n    const [showModalEditor,setShowModalEditor] = useState(false);\n\n    const handleModalEditorClose = () => setShowModalEditor(false);\n    const handleModalClose = () => setShowModal(false);\n\n    useEffect(() => {\n        const getFavUsers = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:favList } = await axios.get(`${process.env.REACT_APP_BE}favusers/myfav/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setFavUsers(favList);\n                console.log(favList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getFavUsers();\n    }, [updateFavList]);\n\n    const handleDeleteFav = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}favusers/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true);\n          }\n          setLoading(false);\n          setUpdateFavList(prev=>!prev)\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            //setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n           // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n     const handleSaveChanges = async() =>{\n       const editData = {\n        favUserId:editTargetId,\n        description:editFavText\n       }\n       try {\n        setLoading(true);\n        const { data } = await axios.put(`${process.env.REACT_APP_BE}favusers/${editId}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n        console.log(data);\n        setShowModalEditor(false);\n        setLoading(false);\n        setUpdateFavList(prev=>!prev)\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          //setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n         // setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n     }\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n                    <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your fav users</h4>\n              </Col> \n            </Row>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Fav # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>User</th>\n        <th>Your description</th>\n        <th>Edit</th>\n        <th>Delete</th>\n      </tr>\n    </thead>\n    <tbody>\n            {favUsers.map((fav,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/byuser/${fav.targetUserId}`} style={{textDecoration:'none'}}>{fav.userName}</Link></td>\n              <td>{fav.description}</td>\n              <td><PencilSquare size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setEditFavText(fav.description);\n                setEditId(fav.id);\n                setEditTargetId(fav.targetUserId);\n                setShowModalEditor(true);\n              }}/> </td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(fav.id);\n                setShowModal(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        </Col>\n        </Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to remove from favotites # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteFav}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n    <Modal\n      show={showModalEditor}\n      onHide={handleModalEditorClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <Form.Control value={editFavText} cols={40} onChange={(e)=>setEditFavText(e.target.value)} as=\"textarea\" rows={3} />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalEditorClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleSaveChanges}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n\n    </>\n    )\n}\n\nexport default MyFavUsers\n","import { Route, Switch } from \"react-router-dom\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport AppContextWrapper from \"./context/AppContext\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Navigation from \"./components/Navigation\";\nimport MainPage from \"./components/MainPage\";\nimport Footer from \"./components/Footer\";\nimport SignIn from \"./components/SignIn\";\nimport SignUp from \"./components/SignUp\";\nimport CreateNewAd from \"./components/CreateNewAd\";\nimport AddEditCategory from \"./components/admin/AddEditCategory\";\nimport ViewSingleAd from \"./components/ViewSingleAd\";\nimport UserProfile from \"./components/UserProfile\";\nimport EditProfile from \"./components/EditProfile\";\nimport EditStore from \"./components/EditStore\";\nimport SearchResults from \"./components/SearchResults\";\nimport MyAdsPage from \"./components/MyAdsPage\";\nimport MyFavAds from \"./components/MyFavAds\";\nimport MyMessages from \"./components/MyMessages\";\nimport StoreProfile from \"./components/StoreProfile\";\nimport ViewStore from \"./components/ViewStore\";\nimport NotFound from \"./components/NotFound\";\nimport MyFavUsers from \"./components/MyFavUsers\";\nfunction App() {\n  return (\n    <AppContextWrapper>\n      <Container fluid>\n        <Navigation />\n        <Row className=\"justify-content-center my-4\">\n          <Col md={9}>\n            <Switch>\n            <Route exact path=\"/\" component={MainPage} />\n              <Route exact path=\"/view/:adId\" component={ViewSingleAd} />\n              <Route exact path=\"/signin\" component={SignIn} />\n              <Route exact path=\"/signup\" component={SignUp} />\n              <Route exact path=\"/search\" component={SearchResults} />\n              <Route exact path=\"/viewstore/:storeId\" component={ViewStore} />\n              <ProtectedRoute exact path=\"/myprofile\" component={UserProfile} />\n              <ProtectedRoute exact path=\"/myfavads\" component={MyFavAds} />\n              <ProtectedRoute exact path=\"/myfavusers\" component={MyFavUsers} />\n              <ProtectedRoute exact path=\"/mystore\" component={StoreProfile} />\n              <ProtectedRoute exact path=\"/messages\" component={MyMessages} />\n              <ProtectedRoute\n                exact\n                path=\"/editprofile\"\n                component={EditProfile}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/registerstore\"\n                component={EditStore}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/editstore/:storeId\"\n                component={EditStore}\n              />\n              <ProtectedRoute exact path=\"/newad\" component={CreateNewAd} />\n              <ProtectedRoute exact path=\"/myads\" component={MyAdsPage} />\n              <ProtectedRoute\n                exact\n                path=\"/editad/:adId\"\n                component={CreateNewAd}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/admin/categoryeditor\"\n                component={AddEditCategory}\n              />\n\n              <Route\n                exact\n                path=\"/bysubcategory/:subCatId\"\n                component={MainPage}\n              />\n              <Route exact path=\"/bycategory/:catId\" component={MainPage} />\n              <Route exact path=\"/bycity/:cityId\" component={MainPage} />\n              <Route exact path=\"/byuser/:adsByUserId\" component={MainPage} />\n              <Route exact path=\"/bystore/:adsByStoreId\" component={MainPage} />\n\n              \n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          </Col>\n        </Row>\n        <Footer />\n      </Container>\n    </AppContextWrapper>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootswatch/dist/lux/bootstrap.min.css'; // Added this :boom:\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import './_variables.scss';\nimport App from './App';\nimport {HashRouter as Router} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename='/'>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}