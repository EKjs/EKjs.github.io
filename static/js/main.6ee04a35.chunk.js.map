{"version":3,"sources":["context/AppContext.js","components/ProtectedRoute.js","components/CitiesSearchInput.js","components/SearchBar.js","components/MenuLinks.js","components/SideBarMenu.js","components/Navigation.js","components/AddToFavsButton.js","components/admin/AdminAdButtons.js","components/AdCard.js","components/LoadingSpinner.js","components/PageNums.js","components/NoAdsFound.js","components/BreadCrumbLine.js","components/MainPage.js","components/Footer.js","components/SignIn.js","components/SignUp.js","components/MapGeolocationPos.js","components/CreateNewAd.js","components/admin/AddEditCategory.js","components/UserRating.js","components/StartChatButton.js","components/ViewSingleAd.js","components/UserProfile.js","components/EditProfile.js","components/EditStore.js","components/SearchResults.js","components/MyAdsPage.js","components/MyFavAds.js","components/MyMessages.js","components/StoreProfile.js","components/ViewStore.js","components/NotFound.js","components/MyFavUsers.js","components/admin/AdminEditUserTypes.js","components/admin/AdminListUsers.js","components/StoresOnMap.js","components/admin/AdminListStores.js","hooks/_useChat.js","components/Chat.js","components/MyChats.js","App.js","index.js"],"names":["AppContext","createContext","AppContextWrapper","children","hist","useHistory","authToken","localStorage","getItem","useState","loading","setLoading","error","setError","isAuthenticated","setIsAuthenticated","categoriesList","setCategoriesList","subCategoriesList","setSubCategoriesList","updateMenuItems","setUpdateMenuItems","searchParams","setSearchParams","useEffect","a","axios","get","process","catList","data","subCatList","response","setTimeout","message","loadMenuData","decoded","jwt_decode","console","log","Date","now","exp","toLocaleString","removeItem","push","signUp","password","passwordConfirm","post","token","userName","userId","userType","setItem","signIn","Provider","value","signOut","ProtectedRoute","Component","component","rest","pathname","useLocation","useContext","render","to","state","next","CitiesSearchInput","setCoords","setCityId","cityPlaceholder","plzOrCityInput","setPlzOrCityInput","citiesToChoose","setCitiesToChoose","show","setShow","target","useRef","timer","getCitiesListFromServer","curInpVal","reqBody","searchString","length","FormControl","type","placeholder","aria-label","onChange","e","current","clearTimeout","onBlur","onFocus","ref","Overlay","placement","Popover","className","style","maxHeight","id","Body","map","item","idx","Dropdown","Item","onClick","city","name","coords","SearchBar","curCityId","setCurCityId","searchQ","setSearchQ","radius","setRadius","Navbar","Text","Form","onSubmit","preventDefault","cityId","cityCoords","distance","searchText","fromDashboard","InputGroup","backgroundColor","as","htmlSize","r","RegExp","match","parseInt","list","Button","variant","MenuLinks","Spinner","animation","Alert","Link","catItem","description","filter","scItem","parentId","SideBarMenu","size","Offcanvas","onHide","Header","closeButton","Title","Navigation","collapseOnSelect","expand","bg","Container","fluid","Brand","NavLink","Toggle","aria-controls","Collapse","Nav","align","Menu","marginRight","Divider","AddToFavsButton","targetId","path","addedToFavs","setAddedToFavs","addToFavors","url","favData","favAdId","favUserId","headers","Authorization","color","cursor","OverlayTrigger","overlay","Tooltip","pointerEvents","AdminAdButtons","adId","showModal","setShowModal","showToast","setShowToast","handleModalClose","handleDeleteArticle","delete","Card","textDecoration","Modal","backdrop","keyboard","Footer","ToastContainer","position","Toast","onClose","delay","autohide","AdCard","photo","title","price","address","created","catId","views","cityName","subCategory","category","subCategoryId","Col","width","minHeight","border","Img","objectFit","height","src","substring","Row","xs","LoadingSpinner","role","PageNums","totalPages","currentPage","cbPageClick","pageNeighbours","LEFT_PAGE","RIGHT_PAGE","range","from","step","i","pages","totalNumbers","Math","max","min","startPage","endPage","hasLeftSpill","hasRightSpill","spillOffset","extraPages","fetchPageNumbers","Pagination","page","index","Prev","Next","active","NoAdsFound","BreadCrumbLine","subCatId","adsByUserId","adsByStoreId","curCatInfo","setCurCatInfo","curSubCatInfo","setCurSubatInfo","curCityInfo","setCurCityInfo","tempCatId","curSCInfo","find","sc","curCInfo","c","getCityInfo","aria-current","MainPage","useParams","currentlyLoadedAds","setCurrentlyLoadedAds","curPage","setCurPage","setTotalPages","adList","ceil","totalRows","getAds","ad","photos","sm","htmlFor","href","SignIn","location","email","setEmail","setPassword","submitForm","md","FloatingLabel","controlId","label","Control","required","Group","Check","SignUp","setUserName","phone","setPhoneNum","setPasswordConfirm","validated","setValidated","currentTarget","checkValidity","stopPropagation","noValidate","feedback","MapGeolocationPos","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","err","warn","code","enableHighAccuracy","timeout","maximumAge","center","defaultZoom","latLng","anchor","CreateNewAd","axiosConfig","adOwnerId","setAdOwnerId","adTitle","setAdTitle","adPrice","setAdPrice","adAddress","setAdAddress","adCurStatus","setAdCurStatus","adStatuses","setAdStatuses","setCityPlaceholder","selectedCatId","setSelectedCatId","selectedSubCatId","setSelectedSubCatId","curSubCatList","setCurSubCatList","photoArray","setPhotoArray","adDescription","setAdDescription","sellAsStore","setSellAsStore","submitDataToServer","Number","isFinite","parseFloat","ownerId","sendData","currentState","put","resp","deletePhoto","photoFilename","prev","baseUrl","subCatsOfCat","subCat","getAvalableStatuses","loadAdDetails","uploadImages","formData","FormData","files","append","uploadedFilesPath","Select","cat","checked","multiple","Label","Carousel","alt","Caption","status","AddEditCategory","catDesc","setCatDesc","subCatDesc","setSubCatDesc","sendReq","reqType","curCat","curSubCat","disabled","UserRating","rating","setRating","avg","loadUserRating","handleRating","rate","ratingData","targetUser","endsWith","ratingValue","StartChatButton","ViewSingleAd","adData","setAdData","whiteSpace","storeId","storeName","userPhone","wasOnline","UserProfile","profileData","setProfileData","handleDeleteProfile","registerDate","EditProfile","setPhone","showAlert","setShowAlert","handleSaveChanges","editedProfile","String","EditStore","storeTitle","setStoreTitle","storeAddress","setStoreAddress","storeDescription","setStoreDescription","storeLogoImg","setStoreLogoImg","setCityName","storeAdminId","setStoreAdminId","adminId","loadStoreDetails","uploadImage","uploadedFile","usrIdToSet","storeData","SearchResults","searchInCat","setSearchInCat","searchInSubCat","setSearchInSubCat","defaultChecked","MyAdsPage","deleteId","setDeleteId","showToast2","setShowToast2","updateMyAdsList","setUpdateMyAdsList","adIdForStatus","setAdIdForStatus","adStatus","setAdStatus","showModalStateChg","setShowModalStateChg","handleModalStateChgClose","handleDeleteAd","handleChangeAdStatus","editData","adNewStateId","Table","responsive","MyFavAds","favAds","setFavAds","updateFavList","setUpdateFavList","editId","setEditId","editAdId","setEditAdId","editFavText","setEditFavText","showModalEditor","setShowModalEditor","handleModalEditorClose","favList","getFavAds","handleDeleteFavAd","fav","cols","rows","MyMessages","messageList","setMessageList","updateMessageList","setUpdateMessageList","msgList","getMessageList","markRead","msgId","res","deleteMsg","msg","fromUserName","msgRead","msgTitle","StoreProfile","setStoreData","handleDeleteStore","ViewStore","NotFound","MyFavUsers","favUsers","setFavUsers","editTargetId","setEditTargetId","getFavUsers","handleDeleteFav","targetUserId","AdminEditUserTypes","userTypeData","setUserTypeData","selectedUserType","setSelectedUserType","typeDesc","setTypeDesc","typeId","setTypeId","updateTypes","setUpdateTypes","getTypesData","typeDescription","userTypeId","utype","AdminListUsers","usersList","setUsersList","editDeleteId","setEditDeleteId","updateUserList","setUpdateUserList","userEmail","setUserEmail","setUserPhone","handleDeleteUser","newUserData","getUserTypeData","getUserData","user","StoresOnMap","storesData","setStoresData","loadStores","useCallback","reqData","loadFunc","rad","isInteger","provider","osm","str","offset","borderRadius","padding","AdminListStores","storesList","setStoresList","updateStoresList","setUpdateStoresList","getStoresData","storeAdmin","maxWidth","_useChat","messages","setMessages","socketRef","getChat","withUserId","emit","socketIOClient","reconnection","reconnectionAttempts","auth","on","content","onAny","evt","args","disconnect","sendMessage","toUser","Chat","messagesEndRef","useChat","text","setText","scrollIntoView","behavior","scrollToBottom","senderName","msgTimeStamp","MyChats","chatsData","setChatsData","getMyChats","chat","idToChat","nameToChat","markUnread","Badge","pill","App","exact","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.6ee04a35.chunk.js","sourcesContent":["import { useState, useEffect, createContext } from \"react\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from \"react-router\";\n\nexport const AppContext = createContext();\n\nconst AppContextWrapper = ({ children }) => {\n  const hist = useHistory();\n  const authToken = localStorage.getItem(\"token\");\n/*   const userName = localStorage.getItem(\"userName\");\n  const userId = localStorage.getItem(\"userId\"); */\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  /* useEffect(() => authToken && setIsAuthenticated(true), [authToken]); */\n\n  const [categoriesList, setCategoriesList] = useState([]);\n  const [subCategoriesList, setSubCategoriesList] = useState([]);\n  //const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState([]);\n//  const [userType,setUserType] = useState(null);\n  const [updateMenuItems,setUpdateMenuItems] = useState(true);\n  const [searchParams,setSearchParams] = useState({});\n\n  useEffect(()=>{\n    const loadMenuData = async () => {\n      try {\n        setLoading(true);\n        const { data:catList } = await axios.get(`${process.env.REACT_APP_BE}categories`);\n        setCategoriesList(catList);\n        const { data:subCatList } = await axios.get(`${process.env.REACT_APP_BE}subcategories`);\n        setSubCategoriesList(subCatList);\n        setLoading(false);\n        //console.log('c',catList,'sc',subCatList);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 3000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 3000);\n          setLoading(false);\n        }\n      }\n\n    };\n    loadMenuData();\n},[updateMenuItems])\n\n  useEffect(() => {\n    if (authToken){\n      const decoded = jwt_decode(authToken);\n      console.log(decoded,Date.now());\n      console.log(new Date(decoded.exp*1000).toLocaleString());\n      if(Date.now()<decoded.exp*1000){\n        console.log('token not expired');\n        setIsAuthenticated(true)\n      }else{\n        console.log('token expired');\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"userName\");\n        localStorage.removeItem(\"userId\");\n        localStorage.removeItem(\"userType\");\n        setIsAuthenticated(false);\n        hist.push('/signin');\n      }\n    }\n  }, [authToken,hist]);\n\n  const signUp = async (data) => {\n    if (data.password !== data.passwordConfirm) {\n      setError(\"Passwords do not match\");\n      setTimeout(() => setError(null), 3000);\n      return;\n    }\n    try {\n      setLoading(true);\n      const {\n        data: { token, userName, userId, userType },\n      } = await axios.post(\n        `${process.env.REACT_APP_BE}users/`,\n        data\n      );\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"userName\", userName);\n      localStorage.setItem(\"userId\", userId);\n      localStorage.setItem(\"userType\", userType);\n      setIsAuthenticated(true);\n      setLoading(false);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 3000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 3000);\n        setLoading(false);\n      }\n    }\n  };\n\n  const signIn = async (data) => {\n    try {\n      setLoading(true);\n      const {\n        data: { token, userName, userId, userType },\n      } = await axios.post(\n        `${process.env.REACT_APP_BE}users/signin`,\n        data\n      );\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"userName\", userName);\n      localStorage.setItem(\"userId\", userId);\n      localStorage.setItem(\"userType\", userType);\n      setIsAuthenticated(true);\n      setLoading(false);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      }\n    }\n  };\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userName\");\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"userType\");\n    setIsAuthenticated(false);\n  };\n\n  return (\n    <AppContext.Provider\n      value={{ searchParams,setSearchParams,categoriesList,subCategoriesList, loading, isAuthenticated, error, signUp, signIn, signOut, setLoading, setError,updateMenuItems,setUpdateMenuItems }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppContextWrapper;\n","import { useContext } from 'react';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { pathname } = useLocation();\n  const { isAuthenticated } = useContext(AppContext);\n  return isAuthenticated ? (\n    <Route {...rest} render={() => <Component />} />\n  ) : (\n    <Redirect to={{ pathname: '/', state: { next: pathname } }} />\n  );\n};\n\nexport default ProtectedRoute;\n","import { Dropdown,FormControl,Popover,Overlay } from 'react-bootstrap';\nimport { useState,useRef,useEffect } from 'react';\nimport axios from 'axios';\n\nconst CitiesSearchInput = ({setCoords,setCityId,cityPlaceholder}) => {\n    const [plzOrCityInput, setPlzOrCityInput] = useState('');\n    const [citiesToChoose,setCitiesToChoose] = useState([]);\n    const [show, setShow] = useState(false);\n    const target = useRef(null);\n    const timer = useRef(null);\n\n    const getCitiesListFromServer = async (curInpVal) => {\n        const reqBody = { searchString: curInpVal };\n        const { data } = await axios.post(`${process.env.REACT_APP_BE}search/plzorcity/`,reqBody);\n        setCitiesToChoose(data);\n        if (data.length > 0)setShow(true);\n        else setShow(false);\n    };\n\n    const cityClick = (city) => {\n        setPlzOrCityInput(city.name);\n        setCityId(city.id);\n        setCoords(city.coords);\n    };\n\n    const changePlzOrCityInput = (e) => {\n        console.log(e.target.value);\n        setCityId(null);\n        setCoords(null);\n        const curInpVal = e.target.value;\n        setPlzOrCityInput(curInpVal);\n        if (curInpVal.length > 2) {\n          if (timer.current) {\n            clearTimeout(timer.current);\n          }\n          timer.current = setTimeout(() => {\n            getCitiesListFromServer(curInpVal);\n          }, 1000);\n        }else{\n            if (timer.current)clearTimeout(timer.current);\n        }\n    };\n    useEffect(() => {\n        if(cityPlaceholder)setPlzOrCityInput(cityPlaceholder);\n    }, [cityPlaceholder])\n/* \n    const getMyCoords = () => {\n        const options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n            };\n        const success=pos=>setCoords([pos.coords.latitude,pos.coords.longitude]);\n        const error=err=>console.warn(`ERROR(${err.code}): ${err.message}`);\n        navigator.geolocation.getCurrentPosition(success, error, options);\n        onKeyPress={(e)=>{if(e.key==='Enter')getMyCoords()}}\n    };\n */\n/* useEffect(() => {\n    if(cityId)setPlzOrCityInput()\n}, []) */\n\n    return (\n        <>\n    <FormControl\n        type=\"text\"\n        placeholder=\"City or PLZ\"\n        aria-label=\"SearchCityPLZ\"\n        value={plzOrCityInput}\n        onChange={changePlzOrCityInput}\n        \n        onBlur={() => setShow(false)}\n        onFocus={() =>\n        plzOrCityInput.length > 3 &&\n        citiesToChoose.length > 0 &&\n        setShow(true)\n        }\n        ref={target}\n        />\n        <Overlay target={target.current} show={show} placement=\"bottom\">\n            <Popover className=\"overflow-auto\" style={{ maxHeight: \"50%\" }} id=\"popover-basic\">\n            <Popover.Body>\n                {citiesToChoose.map((item, idx) => (\n                <Dropdown.Item key={`optK${idx}`} onClick={() => cityClick(item)}>\n                    {item.name}\n                </Dropdown.Item>\n                ))}\n            </Popover.Body>\n            </Popover>\n        </Overlay>  \n        </>\n    )\n}\n\nexport default CitiesSearchInput\n","import { useState, useContext } from \"react\";\nimport {\n  Form,\n  FormControl,\n  Button,\n  InputGroup,\n Navbar\n} from \"react-bootstrap\";\nimport { Search, GeoAlt } from \"react-bootstrap-icons\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { AppContext } from \"../context/AppContext\";\nimport CitiesSearchInput from \"./CitiesSearchInput\";\n\nconst SearchBar = () => {\n    const { setSearchParams } =\n    useContext(AppContext);\n    const hist = useHistory();\n  const [curCityId, setCurCityId] = useState();\n  const [coords,setCoords] = useState();\n  const [searchQ, setSearchQ] = useState('');\n  const [radius, setRadius] = useState('');\n\n\n\n  const doSearch = (e) => {\n    e.preventDefault();\n    //cityId, cityCoords, distance, searchText, catId, subCatId\n    const reqBody = {\n      cityId: curCityId,\n      cityCoords:coords,\n      distance: radius,\n      searchText:searchQ,\n/*       catId:null,\n      subCatId:null, */\n    };\n    setSearchParams(reqBody);\n    const location = {\n      pathname: '/search',\n      state: { fromDashboard: true }\n    }\n    hist.push(location)\n    /* const getData = async () => {\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_BE}search/v2/`,\n        reqBody\n      );\n      setSearchParams(data)\n      console.log(data);\n    };\n    getData(); */\n  };\n  const inputRadius = (e) => {\n    const r = new RegExp(/^[0-9]*$/);\n    if (e.target.value.match(r)) {\n      console.log(e.target.value);\n      if (parseInt(e.target.value, 10) > 100) {\n        setRadius(100);\n      } else setRadius(e.target.value);\n    }\n  };\n\n  return (\n    <Navbar.Text className='me-auto'>\n      <Form className=\"d-flex flex-column flex-md-row\" onSubmit={doSearch}>\n        <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            <Search />\n          </InputGroup.Text>\n          <FormControl\n            type=\"search\"\n            placeholder=\"Search\"\n            className=\"mr-2\"\n            aria-label=\"Search\"\n            onChange={(e) => setSearchQ(e.target.value)}\n          />\n          </InputGroup>\n          <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            <GeoAlt />\n          </InputGroup.Text>\n            <CitiesSearchInput setCoords={setCoords}  setCityId={setCurCityId} /> \n          </InputGroup>\n          <InputGroup className=\"col\">\n          <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            +\n          </InputGroup.Text>\n          <FormControl\n            type=\"text\"\n            as=\"input\"\n            htmlSize={1}\n            placeholder=\"0 km\"\n            className=\"mr-2\"\n            aria-label=\"radius\"\n            onChange={inputRadius}\n            value={radius}\n            list=\"distance-variants\"\n          />\n        <datalist id=\"distance-variants\">\n            <option value=\"5\"/>\n            <option value=\"10\"/>\n            <option value=\"15\"/>\n            <option value=\"25\"/>\n            <option value=\"50\"/>\n        </datalist>\n          <Button\n            type='submit'\n            /* onClick={doSearch} */\n            variant=\"secondary\"\n            style={{ backgroundColor: \"#f7f7f9\" }}\n          >\n            Search\n          </Button>\n        </InputGroup>\n      </Form>\n      </Navbar.Text>\n  );\n};\nexport default SearchBar;","import { useContext } from \"react\";\nimport { Spinner, Alert, Dropdown } from \"react-bootstrap\";\nimport { AppContext } from \"../context/AppContext\";\nimport { Link } from \"react-router-dom\";\n\nconst MenuLinks = ({setShow}) => {\n  const { categoriesList, subCategoriesList, loading, error  } =\n    useContext(AppContext);\n\n  if (loading) return <Spinner animation=\"border\" variant=\"secondary\" />;\n  if (error) return <Alert variant=\"danger\">{error}</Alert>;\n  return (\n    <ul>\n      <li><Dropdown.Item as={Link} to=\"/\" onClick={()=>setShow(false)}>View all ads</Dropdown.Item></li>\n      <li><Dropdown.Item as={Link} to=\"/buylocal\" onClick={()=>setShow(false)}>Buy local (map)</Dropdown.Item></li>\n      {categoriesList.map((catItem, idx) => (\n        <li key={`likc${idx}`}>\n          <Dropdown.Item as={Link} to={`/bycategory/${catItem.id}`} onClick={()=>setShow(false)}>{catItem.description}</Dropdown.Item>\n          <ul>\n            {subCategoriesList\n              .filter((scItem) => {\n                return scItem.parentId === catItem.id;\n              })\n              .map((scItem, idx) => (\n                <li key={`liksc${idx}`}> <Dropdown.Item as={Link} to={`/bysubcategory/${scItem.id}`} onClick={()=>setShow(false)}>{scItem.description}</Dropdown.Item> </li>\n              ))}\n          </ul>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MenuLinks;","import { useState } from 'react';\nimport {Button, Offcanvas, Navbar} from 'react-bootstrap';\nimport { List } from 'react-bootstrap-icons';\nimport MenuLinks from './MenuLinks';\n\n\nconst SideBarMenu = () => {\n    const [show, setShow] = useState(false);\n    const closeMenu = () => setShow(false);\n    const showMenu = () => setShow(true);\n\n  \n    return (\n      <Navbar.Text className='me-auto'>\n        <Button variant=\"secondary\" onClick={showMenu}>\n         <List size={24}/> Menu\n        </Button>\n  \n        <Offcanvas show={show} onHide={closeMenu}>\n          <Offcanvas.Header closeButton>\n            <Offcanvas.Title>What would you like to buy?</Offcanvas.Title>\n          </Offcanvas.Header>\n          <Offcanvas.Body>\n            <MenuLinks setShow={setShow} />\n          </Offcanvas.Body>\n        </Offcanvas>\n        </Navbar.Text>)\n}\n\nexport default SideBarMenu\n","import { Navbar, Container, Nav, Dropdown } from \"react-bootstrap\";\nimport { CashCoin, DoorOpen, FileEarmarkPerson, LayoutTextWindowReverse, ListStars, PersonCheck, PersonPlus, PlusSquare, BookmarkHeart, BookmarkStar, MenuButtonWide, ChatLeftText } from \"react-bootstrap-icons\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport SearchBar from \"./SearchBar\";\nimport SideBarMenu from \"./SideBarMenu\";\nimport { AppContext } from \"../context/AppContext\";\nimport { useContext } from \"react\";\n\nconst Navigation = () => {\n  const { isAuthenticated,signOut } = useContext(AppContext);\n  const userType = localStorage.getItem(\"userType\");\n  \n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n      <Container fluid>\n        <Navbar.Brand as={NavLink} to=\"/\">\n          I buy it!\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <SideBarMenu />\n\n          <SearchBar />\n          <Nav>\n            {isAuthenticated ? (<>\n{/*               <Nav.Link as={NavLink} to=\"/newad\">\n                <PlusSquare size={24} /> Sell!\n              </Nav.Link> <Navbar.Text>Logged in as: </Navbar.Text>*/}\n              \n              <Dropdown align=\"end\">\n              <Dropdown.Toggle as={Nav.Link}>\n                <MenuButtonWide size={24} /> {\" \"}{\" \"}\n              {localStorage.getItem(\"userName\")}\n              </Dropdown.Toggle>\n              <Dropdown.Menu>\n              <Dropdown.Item as={Link} to=\"/newad\"><PlusSquare size={24} style={{marginRight:'1rem'}} /> Sell!</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myads\"><ListStars size={24} style={{marginRight:'1rem'}}/> My ads</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myprofile\"><FileEarmarkPerson size={24} style={{marginRight:'1rem'}}/>My profile</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/mystore\"><CashCoin size={24} style={{marginRight:'1rem'}}/>My Store</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/messages\"><LayoutTextWindowReverse size={24} style={{marginRight:'1rem'}}/>Notifications</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myfavads\"><BookmarkHeart size={24} style={{marginRight:'1rem'}}/>Fav ads</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/myfavusers\"><BookmarkStar size={24} style={{marginRight:'1rem'}}/>Fav users</Dropdown.Item>\n              <Dropdown.Item as={Link} to=\"/mychats\"><ChatLeftText size={24} style={{marginRight:'1rem'}}/>My chats</Dropdown.Item>\n              <Dropdown.Divider />\n              <Dropdown.Item onClick={signOut}><DoorOpen size={24} /> Log out</Dropdown.Item>\n            </Dropdown.Menu>\n              \n              </Dropdown>\n            </>) : (\n              <>\n                <Nav.Link as={NavLink} to=\"/signin\">\n                  <PersonCheck size={24} /> Sign in\n                </Nav.Link>\n                <Nav.Link as={NavLink} to=\"/signup\">\n                  <PersonPlus size={24} /> Sign up\n                </Nav.Link>\n              </>\n            )}\n          </Nav>\n          {userType==='999' && isAuthenticated && (<Nav>\n            <Dropdown align=\"end\">\n              <Dropdown.Toggle variant=\"danger\" id=\"dropdown-basic\">\n                Admin panel\n              </Dropdown.Toggle>\n\n              <Dropdown.Menu>\n                <Dropdown.Item as={Link} to=\"/admin/categoryeditor\">Edit categories</Dropdown.Item>\n                <Dropdown.Item as={Link} to=\"/admin/usertypeeditor\">Edit user types</Dropdown.Item>\n                <Dropdown.Item as={Link} to=\"/admin/userlist\">Edit users</Dropdown.Item>\n                <Dropdown.Item as={Link} to=\"/admin/storeslist\">Edit stores</Dropdown.Item>\n                \n              </Dropdown.Menu>\n            </Dropdown>\n          </Nav>)}\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import axios from \"axios\";\nimport { useState,useContext } from \"react\";\nimport { OverlayTrigger,Tooltip } from \"react-bootstrap\";\nimport { AppContext } from \"../context/AppContext\";\nimport { Heart,HeartFill,Star,StarFill } from \"react-bootstrap-icons\";\n\nconst AddToFavsButton = ({targetId,description,path}) => {\n    const { isAuthenticated } = useContext(AppContext);\n    const [addedToFavs,setAddedToFavs] = useState(false);\n\n    const addToFavors = async() => {\n        let url=`${process.env.REACT_APP_BE}favads/`;\n        let favData = {\n            favAdId: targetId,\n            description: description,\n          };\n        if (path==='user'){\n            url=`${process.env.REACT_APP_BE}favusers/`;\n            favData = {\n                favUserId: targetId,\n                description: description,\n              };\n        }\n        try {\n            const { data } = await axios.post(url,favData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            setAddedToFavs(true);\n          } catch (error) {\n            if (error.response) console.log(error.response.data.error);\n            else console.log(error.message);\n          }\n      }\n\n      if (!isAuthenticated)\n        return (\n          <OverlayTrigger\n            overlay={\n              <Tooltip id=\"tooltip-disabled\">Sign in to add to favs</Tooltip>\n            }\n          >\n            <span className=\"d-inline-block\">\n              {path==='user' ? <Star style={{ pointerEvents: \"none\" }}/>:<Heart style={{ pointerEvents: \"none\" }} />}\n            </span>\n          </OverlayTrigger>\n        );\n      if (addedToFavs){\n        if (path==='user')return <StarFill  color=\"red\" />;\n        return <HeartFill  color=\"red\" />;\n      }\n      else{\n        if (path==='user')return <Star  color=\"red\" style={{ cursor: \"pointer\" }} onClick={() => addToFavors()} />;\n        return (\n          <Heart\n            \n            color=\"red\"\n            style={{ cursor: \"pointer\" }}\n            onClick={() => addToFavors()}\n          />\n        );\n      }\n\n}\n\nexport default AddToFavsButton\n","import axios from \"axios\";\nimport { useState } from \"react\";\nimport { Card,Modal,Button,Toast,ToastContainer } from \"react-bootstrap\";\nimport { Pencil,Trash } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminAdButtons = ({adId}) => {\n  const [showModal,setShowModal] = useState(false);\n  const [showToast,setShowToast] = useState(false);\n  const userType = localStorage.getItem(\"userType\");\n  const handleModalClose = () => setShowModal(false);\n  const handleDeleteArticle = async () => {\n    \n    try {\n      //setLoading(true);\n      const { data } = await axios.delete(`${process.env.REACT_APP_BE}ads/${adId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n      console.log(data);\n      setShowModal(false);\n      if (data.id===adId){\n        setShowToast(true)\n      }\n      //setLoading(false);\n      //setUpdateMyAdsList(prev=>!prev);\n      \n    } catch (error) {\n      if (error.response) {\n        //setError(error.response.data.error);\n        // setTimeout(() => setError(null), 5000);\n        //setLoading(false);\n      } else {\n        //setError(error.message);\n        // setTimeout(() => setError(null), 5000);\n        //setLoading(false);\n      }\n    }\n  }\n  \n  if (userType==='999')return (<>\n        <Card.Header>\n        <Link to={`/editad/${adId}`} style={{textDecoration:'none'}}><Pencil  style={{ cursor: \"pointer\" }} /></Link>\n          <Trash  style={{ cursor: \"pointer\" }} onClick={()=>setShowModal(true)} />\n        </Card.Header>\n        <Modal\n          show={showModal}\n          onHide={handleModalClose}\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Confirmation needed!\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            Do you really want to delete this article?\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={handleModalClose}>\n              No, missclicked!\n            </Button>\n            <Button variant=\"danger\" onClick={handleDeleteArticle}>\n              Yes, pls delete!\n            </Button>\n          </Modal.Footer>\n        </Modal>\n        <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Article # {adId} was deleted! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        </>\n    )\n    else return null\n}\n\nexport default AdminAdButtons","import { Card, Col, Row, Container } from \"react-bootstrap\";\nimport { Eye } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport AddToFavsButton from \"./AddToFavsButton\";\nimport AdminAdButtons from \"./admin/AdminAdButtons\";\n\nconst AdCard = ({\n  photo,\n  title,\n  address,\n  price,\n  created,\n  catId,\n  adId,\n  views,\n  cityName,\n  cityId,\n  category,\n  subCategory,\n  subCategoryId,\n}) => {\n  return (\n    <Col>\n      <Card\n        style={{ width: \"18rem\", minHeight: \"36rem\" }}\n        border={catId === 13 ? \"success\" : \"secondary\"}\n      >\n        <AdminAdButtons adId={adId}/>\n        <Link to={`/view/${adId}`}>\n          <Card.Img\n            className=\"p-3\"\n            style={{ objectFit: \"cover\", height: \"20rem\" }}\n            variant=\"top\"\n            src={\n              photo && photo.length > 0\n                ? `${process.env.REACT_APP_BE}images/${photo[0]}`\n                : \"/images/noimg.png\"\n            }\n          />\n        </Link>\n        <Card.Body>\n          <Card.Title>{price} </Card.Title>\n\n          <Card.Text>\n            <Link to={`/view/${adId}`} style={{ textDecoration: \"none\" }}>\n              {title.substring(0, 100)}\n              {title.length > 100 && \"...\"}\n            </Link>\n          </Card.Text>\n        </Card.Body>\n\n        <Container>\n          <Row>\n            <Col>\n              <Row>\n                <Col>\n                  <AddToFavsButton targetId={adId} description={title} />\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <Link\n                    className=\"fs-6 text-muted\"\n                    to={`/bysubcategory/${subCategoryId}`}\n                    style={{ textDecoration: \"none\" }}\n                  >\n                    {subCategory}{\" \"}\n                  </Link>\n                  <Link\n                    className=\"fs-6 text-muted\"\n                    to={`/bycity/${cityId}`}\n                    style={{ textDecoration: \"none\" }}\n                  >\n                    {\" \"}\n                    in {cityName}\n                  </Link>\n                </Col>\n              </Row>\n              <Row>\n                <Col xs={9}>\n                  <p className=\"fs-6\">{new Date(created).toLocaleString()}</p>\n                </Col>\n                <Col xs={3}>\n                  <p className=\"fs-6\">\n                    <Eye /> {views}\n                  </p>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Container>\n      </Card>\n    </Col>\n  );\n};\n\nexport default AdCard;","import { Spinner } from \"react-bootstrap\";\n\nconst LoadingSpinner = () => {\n  return (\n    <div className=\"d-flex justify-content-center\" style={{minHeight:'50vh'}}>\n      <Spinner animation=\"border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </Spinner>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import { Pagination } from \"react-bootstrap\";\n\nconst PageNums = ({ totalPages, currentPage, cbPageClick,pageNeighbours }) => {\n    //const [pages,setPages] = useState();\n    \n    const LEFT_PAGE = \"LEFT\";\n    const RIGHT_PAGE = \"RIGHT\";\n\n/*     useEffect(() => {\n        setPages(fetchPageNumbers())\n    }, []) */\n\n    /**\n     * Helper method for creating a range of numbers\n     * range(1, 5) => [1, 2, 3, 4, 5]\n     */\n    const range = (from, to, step = 1) => {\n      let i = from;\n      const range = [];\n\n      while (i <= to) {\n        range.push(i);\n        i += step;\n      }\n\n      return range;\n    };\n  /**\n   * Let's say we have 10 pages and we set pageNeighbours to 2\n   * Given that the current page is 6\n   * The pagination control will look like the following:\n   *\n   * (1) < {4 5} [6] {7 8} > (10)\n   *\n   * (x) => terminal pages: first and last page(always visible)\n   * [x] => represents current page\n   * {...x} => represents page neighbours\n   */\n   const fetchPageNumbers = () => {\n           // pageNeighbours can be: 0, 1 or 2\n    pageNeighbours = typeof pageNeighbours === 'number'\n    ? Math.max(0, Math.min(pageNeighbours, 2))\n    : 0;\n\n\n    /**\n     * totalNumbers: the total page numbers to show on the control\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n     */\n    const totalNumbers = (pageNeighbours * 2) + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n      let pages = range(startPage, endPage);\n\n      /**\n       * hasLeftSpill: has hidden pages to the left\n       * hasRightSpill: has hidden pages to the right\n       * spillOffset: number of hidden pages either to the left or to the right\n       */\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = (totalPages - endPage) > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n\n      switch (true) {\n        // handle: (1) < {5 6} [7] {8 9} (10)\n        case (hasLeftSpill && !hasRightSpill): {\n          const extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n\n        // handle: (1) {2 3} [4] {5 6} > (10)\n        case (!hasLeftSpill && hasRightSpill): {\n          const extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n\n        // handle: (1) < {4 5} [6] {7 8} > (10)\n        case (hasLeftSpill && hasRightSpill):\n        default: {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n      }\n\n      return [1, ...pages, totalPages];\n    }\n\n    return range(1, totalPages);\n  }\n  const pages = fetchPageNumbers();\n\n  if (totalPages === 1) return null;\n\n  return (<Pagination>\n    { pages.map((page, index) => {\n\n        if (page === LEFT_PAGE) return (\n/*           <li key={index} className=\"page-item\">\n            <a className=\"page-link\" href=\"#\" aria-label=\"Previous\" onClick={this.handleMoveLeft}>\n              <span aria-hidden=\"true\">&laquo;</span>\n              <span className=\"sr-only\">Previous</span>\n            </a>\n          </li> */\n          <Pagination.Prev onClick={()=>cbPageClick(currentPage-1)} />\n        );\n\n        if (page === RIGHT_PAGE) return (\n/*           <li key={index} className=\"page-item\">\n            <a className=\"page-link\" href=\"#\" aria-label=\"Next\" onClick={this.handleMoveRight}>\n              <span aria-hidden=\"true\">&raquo;</span>\n              <span className=\"sr-only\">Next</span>\n            </a>\n          </li> */\n          <Pagination.Next onClick={()=>cbPageClick(currentPage+1)}  />\n        );\n\n        return (\n/*           <li key={index} className={`page-item${ currentPage === page ? ' active' : ''}`}>\n            <a className=\"page-link\" href=\"#\" onClick={ this.handleClick(page) }>{ page }</a>\n          </li> */\n          <Pagination.Item key={`pgK${page}`} active={currentPage === page} onClick={()=>cbPageClick(page) }>{page}</Pagination.Item>\n        );\n\n      }) }\n\n</Pagination>)\n};\n\nexport default PageNums;\n","import { Row,Col } from \"react-bootstrap\";\nconst NoAdsFound = () => {\n    return (\n      <Row className=\"d-flex align-items-center justify-content-center my-5\" style={{minHeight:'30vh'}}>\n            <Col className='text-center'>\n                <h4>Nothing found...</h4>\n                <p>Choose another category or change your search options...</p>\n            </Col>\n      </Row>\n    );\n}\n\nexport default NoAdsFound\n","import { useContext,useEffect,useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { AppContext } from \"../context/AppContext\";\n\nconst BreadCrumbLine = ({subCatId, catId, cityId, adsByUserId, adsByStoreId}) => {\n  const { categoriesList, subCategoriesList } = useContext(AppContext);\n  const [curCatInfo,setCurCatInfo] = useState();\n  const [curSubCatInfo,setCurSubatInfo] = useState();\n  const [curCityInfo,setCurCityInfo] = useState();\n\n  console.log(categoriesList, subCategoriesList);\n  useEffect(() => {\n    if (subCatId || catId){\n      let tempCatId = catId;\n      if (subCatId){\n        const curSCInfo = subCategoriesList.find(sc=>sc.id===parseInt(subCatId,10));\n        tempCatId = curSCInfo.parentId;\n        setCurSubatInfo(curSCInfo);\n        console.log(curSCInfo);\n      }\n      const curCInfo = categoriesList.find(c=>c.id===parseInt(tempCatId,10));\n      setCurCatInfo(curCInfo);\n      console.log(curCInfo);\n    };\n    if(cityId){\n      const getCityInfo = async () => {\n        try {\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}cities/${cityId}`);\n            setCurCityInfo(data);\n          } catch (error) {\n            console.log(error);\n          }\n      };\n      getCityInfo();\n    }\n\n  }, [subCatId, catId,categoriesList, subCategoriesList,cityId ])\n  //const {} = show;\n  console.log(subCatId, catId, cityId, adsByUserId, adsByStoreId);\n  //console.log(show);\n    return (\n        <nav aria-label=\"breadcrumb\">\n          <ol className=\"breadcrumb\">\n            <li className=\"breadcrumb-item\"><Link to=\"/\">Main page</Link></li>\n            {curCatInfo && <li className=\"breadcrumb-item\"><Link to={`/bycategory/${curCatInfo.id}`}>{curCatInfo.description}</Link></li>}\n            {curSubCatInfo && <li className=\"breadcrumb-item\"><Link to={`/bysubcategory/${curSubCatInfo.id}`}>{curSubCatInfo.description}</Link></li>}\n            {curCityInfo && <li className=\"breadcrumb-item\"><Link to={`/bycity/${cityId}`}> in {curCityInfo.name}</Link></li>}\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">View articles</li>\n            {/* {curSubCatInfo && <li className=\"breadcrumb-item active\" aria-current=\"page\">Main page</li>} \n            <li className=\"breadcrumb-item\"><Link to=\"/\">Main page</Link></li>\n            {subCatId && !catId && !cityId && !adsByUserId && !adsByStoreId}*/}\n          </ol>\n        </nav>\n    )\n}\n\nexport default BreadCrumbLine\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col } from \"react-bootstrap\";\nimport AdCard from \"./AdCard\";\nimport { useParams } from \"react-router-dom\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport PageNums from \"./PageNums\";\nimport NoAdsFound from \"./NoAdsFound\";\nimport BreadCrumbLine from \"./BreadCrumbLine\";\n\n\nconst ADSPERPAGE=8;\n\nconst MainPage = () => {\n  const {subCatId,catId,cityId,adsByUserId,adsByStoreId} = useParams();\n  \n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [curPage,setCurPage] = useState(1);\n    const [totalPages,setTotalPages] = useState();\n    useEffect(() => {\n      /* '/bycategory/:catId'\n'/bysubcategory/:subCatId' */\n      let url='ads/';\n\n      if(!subCatId && catId)url+=`bycategory/${catId}`;\n      else if(subCatId && !catId)url+=`bysubcategory/${subCatId}`;\n      else if(cityId)url+=`bycity/${cityId}`;\n      else if(adsByUserId)url+=`byuser/${adsByUserId}`;\n      else if(adsByStoreId)url+=`bystore/${adsByStoreId}`;\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.get(`${process.env.REACT_APP_BE}${url}?skip=${(curPage-1)*ADSPERPAGE}&limit=${ADSPERPAGE}`);\n                setCurrentlyLoadedAds(adList);\n                if(adList.length>0){\n                  setTotalPages(Math.ceil(parseInt(adList[0].totalRows,10)/ADSPERPAGE));\n                }else {\n                  setTotalPages(0);\n                  setCurPage(1);\n                }\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  //setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  //setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds()\n    }, [subCatId,catId,cityId,adsByStoreId,adsByUserId,curPage])\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n    \n\n    return (<>\n      <Row>\n        <Col>\n          <BreadCrumbLine subCatId={subCatId} catId={catId} cityId={cityId} adsByUserId={adsByUserId} adsByStoreId={adsByStoreId} />\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n        <Row className=\"g-4\">\n          {currentlyLoadedAds.length<1 && <NoAdsFound />}\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <AdCard key={`adk${idx}`}\n            title={ad.title}\n            photo={ad.photos}\n            address={ad.address}\n            price={ad.price}\n            created={ad.created}\n            catId={ad.catId}\n            category={ad.category}\n            subCategoryId={ad.subCategoryId}\n            subCategory={ad.subCategory}\n            cityName={ad.cityName}\n            cityId={ad.cityId}\n            adId={ad.adId}\n            views={ad.views}\n             /> ))}\n        </Row>\n        <Row className='justify-content-center mt-5 border-top pt-3'>\n          <Col sm='auto'>\n          <PageNums totalPages={totalPages} currentPage={curPage} cbPageClick={setCurPage} />\n          </Col>\n        </Row>\n        </Col>\n      </Row>\n    </>)\n}\n\nexport default MainPage\n","import { Instagram,Facebook,Twitter } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\n\nconst Footer = () => {\n    return (\n        <div className=\"container border-top mt-5\">\n            \n        <footer className=\"pt-5 d-none d-sm-block\">\n        <div className=\"row\">\n          <div className=\"col-2\">\n            <h5>Buy</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Help</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Buyer FAQs</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Useful info</Link></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-2\">\n            <h5>Sell</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Register</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Seller FAQs</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Features</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Pricing</Link></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-2\">\n            <h5>About Ibuyit!</h5>\n            <ul className=\"nav flex-column\">\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Contact Us</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">News</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">Legal & Privacy information</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">FAQs</Link></li>\n              <li className=\"nav-item mb-2\"><Link to=\"/\" className=\"nav-link p-0 text-muted\">About us</Link></li>\n            </ul>\n          </div>\n    \n          <div className=\"col-4 offset-1\">\n            <form>\n              <h5>Subscribe to our newsletter</h5>\n              <p>Monthly digest of whats new and exciting from us.</p>\n              <div className=\"d-flex w-100 gap-2\">\n                <label htmlFor=\"newsletter1\" className=\"visually-hidden\">Email address</label>\n                <input id=\"newsletter1\" type=\"text\" className=\"form-control\" placeholder=\"Email address\"/>\n                <button className=\"btn btn-primary\" type=\"button\">Subscribe</button>\n              </div>\n            </form>\n          </div>\n        </div>\n    \n        <div className=\"d-flex justify-content-between pt-4 mt-4 border-top\">\n          <p>&copy; 2021 Company, Inc. All rights reserved.</p>\n          <ul className=\"list-unstyled d-flex\">\n            <li className=\"ms-3\"><Link className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Twitter/></svg></Link></li>\n            <li className=\"ms-3\"><Link className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Instagram/></svg></Link></li>\n            <li className=\"ms-3\"><Link className=\"link-dark\" href=\"/\"><svg className=\"bi\" width=\"24\" height=\"24\"><Facebook/></svg></Link></li>\n          </ul>\n        </div>\n      </footer></div>\n    )\n}\n\nexport default Footer\n","import { Form, Button, Col, Row, FloatingLabel,Alert } from \"react-bootstrap\";\nimport { useState,useContext } from 'react';\nimport { Redirect,useLocation } from \"react-router-dom\";\nimport { AppContext } from \"../context/AppContext\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst SignIn = () => {\n  const location = useLocation();\n  const [email,setEmail]=useState('');\n  const [password,setPassword]=useState('');\n  const { loading, error, signIn, isAuthenticated } =\n  useContext(AppContext);\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n    await signIn({email,password})\n  };\n  if (isAuthenticated)\n    return (\n      <Redirect\n        to={{\n          pathname: location.state ? location.state.next : '/',\n          from: location.pathname\n        }}\n      />\n    );\n  if (loading) return <LoadingSpinner />\n  return (\n    <Row className=\"justify-content-center mt-5\">\n      <Col md={4}>\n        <Form onSubmit={submitForm}>\n        {error && <Alert variant='danger'>{error}</Alert>}\n          <Form.Text className=\"text-muted\">\n            Please enter your email and password\n          </Form.Text>\n          <FloatingLabel controlId=\"floatingInput\" label=\"Email address\">\n            <Form.Control type=\"email\" placeholder=\"name@example.com\" onChange={(e)=>setEmail(e.target.value)} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingPassword\" label=\"Password\" className=\"mb-3\">\n            <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e)=>setPassword(e.target.value)} required />\n          </FloatingLabel>\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n            <Form.Check type=\"checkbox\" label=\"Remember me\" /> {/* fake for now */}\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n            Sign in\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  );\n};\n\nexport default SignIn;","import { Form, Button, Col, Row, FloatingLabel,Alert } from \"react-bootstrap\";\nimport { useState,useContext } from 'react';\nimport { Redirect,useLocation } from \"react-router-dom\";\nimport { AppContext } from \"../context/AppContext\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst SignUp = () => {\n  const location = useLocation();\n  const [userName,setUserName]=useState('');\n  const [phone,setPhoneNum]=useState('');\n  const [email,setEmail]=useState('');\n  const [password,setPassword]=useState('');\n  const [passwordConfirm,setPasswordConfirm]=useState('');\n  const { loading, error, signUp, isAuthenticated } =\n  useContext(AppContext);\n  const [validated, setValidated] = useState(false);\n\n  const submitForm = async (e) => {\n    const form = e.currentTarget;\n    if (form.checkValidity() === false) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    setValidated(true);\n    e.preventDefault();\n    await signUp({userName,email,password,passwordConfirm,phone})\n  };\n  if (isAuthenticated)\n    return (\n      <Redirect\n        to={{\n          pathname: location.state ? location.state.next : '/',\n          from: location.pathname\n        }}\n      />\n    );\n  if (loading) return <LoadingSpinner />\n  return (\n    <Row className=\"justify-content-center mt-5\">\n      <Col md={4}>\n        <Form noValidate validated={validated} onSubmit={submitForm}>\n        {error && <Alert variant='danger'>{error}</Alert>}\n          <Form.Text className=\"text-muted\">\n            Please enter your email and password\n          </Form.Text>\n          <FloatingLabel controlId=\"floatingInputUserName\" label=\"Enter your name\" className=\"mb-1\">\n            <Form.Control type=\"text\" placeholder=\"John Doe\" onChange={(e)=>setUserName(e.target.value)} value={userName} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputPhoneNum\" label=\"Enter your phone number (optional)\" className=\"mb-1\">\n            <Form.Control  type=\"tel\" placeholder=\"+49 123 456 789 101\" onChange={(e)=>setPhoneNum(e.target.value)} value={phone} />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputEmail\" label=\"Email address\" className=\"mb-1\">\n            <Form.Control  type=\"email\" placeholder=\"name@example.com\" onChange={(e)=>setEmail(e.target.value)} value={email} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputPassword\" label=\"Password\" className=\"mb-1\">\n            <Form.Control  type=\"password\" placeholder=\"Password\" onChange={(e)=>setPassword(e.target.value)} value={password} required />\n          </FloatingLabel>\n          <FloatingLabel controlId=\"floatingInputConfirmPassword\" label=\"Confirm password\" className=\"mb-3\">\n            <Form.Control type=\"password\" placeholder=\"Confirm password\" onChange={(e)=>setPasswordConfirm(e.target.value)} value={passwordConfirm} required />\n          </FloatingLabel>\n          <Form.Check\n          required\n          label=\"Agree to terms and conditions\"\n          feedback=\"You must agree before submitting.\"\n        />\n          <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n            Sign in\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  );\n};\n\nexport default SignUp;\n\n/*     \"userName\":\"Garry\",\n    \"email\":\"garry@mail.com\",\n    \"password\":\"$up3Rp4$$w0RD\" */","import { useEffect } from 'react';\nimport { Map, Marker } from \"pigeon-maps\";\n\nconst MapGeolocationPos = ({setCoords,coords}) => {\n    const mapClick = ({ latLng }) => {\n        setCoords(latLng);\n    };\n    useEffect(()=>{\n        const options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n            };\n        const success=pos=>setCoords([pos.coords.latitude,pos.coords.longitude]);\n        const error=err=>console.warn(`ERROR(${err.code}): ${err.message}`);\n        console.log('coords in map comp',coords);\n        if (!coords)navigator.geolocation.getCurrentPosition(success, error, options);\n    },[setCoords,coords])\n    return (\n        <Map\n            height={300}\n            center={coords}\n            defaultZoom={11}\n            onClick={mapClick}\n        >\n            {coords && <Marker width={50} anchor={coords} />}\n        </Map>\n    )\n}\n\nexport default MapGeolocationPos\n","import {useState,useContext,useEffect} from 'react'\nimport { Col, Row, Form, FloatingLabel, Carousel,Button,Alert } from 'react-bootstrap';\nimport { AppContext } from \"../context/AppContext\";\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\n import { useParams } from 'react-router-dom';\nimport CitiesSearchInput from './CitiesSearchInput';\nimport MapGeolocationPos from './MapGeolocationPos';\nimport { useHistory } from 'react-router';\nimport { TrashFill } from 'react-bootstrap-icons';\n\n\nconst CreateNewAd = () => {\n  const {adId} = useParams();\n  const hist = useHistory();\n   const { categoriesList, subCategoriesList } =\n    useContext(AppContext);\n    const axiosConfig = {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'multipart/form-data' }\n      };\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [adOwnerId, setAdOwnerId] = useState();\n    const [adTitle, setAdTitle] = useState('');\n    const [adPrice, setAdPrice] = useState(0);\n    const [adAddress, setAdAddress] = useState('');\n    const [adCurStatus, setAdCurStatus] = useState();\n    const [adStatuses, setAdStatuses] = useState([]);\n\n    const [cityPlaceholder, setCityPlaceholder] = useState()\n    \n    const [selectedCatId,setSelectedCatId] = useState();\n    const [selectedSubCatId,setSelectedSubCatId] = useState();\n    const [curSubCatList,setCurSubCatList] = useState([]);\n\n    const [curCityId, setCurCityId] = useState();\n    const [coords,setCoords] = useState();\n    const [photoArray, setPhotoArray] = useState([]);\n    const [adDescription,setAdDescription] = useState();\n    const [sellAsStore,setSellAsStore] = useState(false)\n\n    const submitDataToServer = async () => {\n        //const cleanPhotoArray=photoArray.length>0 ? photoArray.map(ph=>ph.filename) : null;\n        const price = Number.isFinite(parseFloat(adPrice)) ? parseFloat(adPrice) : 0;\n        const ownerId=parseInt(localStorage.getItem('userType'),10)===999 && adId ? adOwnerId : parseInt(localStorage.getItem('userId'),10);\n        const sendData = {\n            title:adTitle,\n            description:adDescription,\n            subCategoryId:selectedSubCatId,\n            price:price,\n            cityId:curCityId,\n            address:adAddress,\n            photos:photoArray,\n            coords:coords,\n            currentState:adCurStatus,\n            sellAsStore:sellAsStore,\n            userId:ownerId,\n        }\n        console.log(sendData);\n        try {\n            setLoading(true);\n            let resp;\n            if (adId){\n              resp = await axios.put(`${process.env.REACT_APP_BE}ads/${adId}`,sendData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            }else{\n              resp = await axios.post(`${process.env.REACT_APP_BE}ads`,sendData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            }\n            console.log(resp.data);\n            if (resp.data.id){\n              hist.push(`/view/${resp.data.id}`)\n            }\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    }\n\n    \n    \n\n      const deletePhoto = async (photoFilename) => {\n        setPhotoArray((prev) =>\n        prev.filter(\n          (item) => item !== photoFilename\n        )\n      )\n      const baseUrl = `${process.env.REACT_APP_BE}image-upload/`;\n      //const newOrEdit = adId ? baseUrl + 'editor/' : 'newad/';\n      try{\n      const { data } = await axios.delete(`${baseUrl}${photoFilename}`,axiosConfig);\n      console.log(data);\n    } catch (error) {\n      if (error.response) {\n        setError(error.response.data.error);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      } else {\n        setError(error.message);\n        setTimeout(() => setError(null), 5000);\n        setLoading(false);\n      }\n    }\n      \n      }\n\n    useEffect(() => {\n        if (selectedCatId){\n            //const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n            const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n            setCurSubCatList(subCatsOfCat);\n            if(subCatsOfCat.length>0){\n              //if(!adId){\n                setSelectedSubCatId(subCatsOfCat[0].id)\n              //}\n            }else{\n                setSelectedSubCatId(null);\n            }\n        }else{\n            setSelectedCatId(categoriesList[0].id);\n        }\n    }, [selectedCatId,subCategoriesList,categoriesList,adId]);\n\nuseEffect(() => {\n    const getAvalableStatuses = async () =>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}adstates`);\n            setAdStatuses(data);\n            setAdCurStatus(data[0].id)\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n    getAvalableStatuses();\n\n    if(adId){\n      const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}ads/${adId}`);\n            setSelectedCatId(data.catId);\n            setAdTitle(data.title);\n            setAdPrice(data.price);\n            setAdAddress(data.address);\n            setAdCurStatus(data.currentState);\n            setAdDescription(data.description)\n            setPhotoArray(data.photos);\n            console.log('photos',data.photos);\n            setCoords(data.coords);\n            setCityPlaceholder(data.cityName);\n            setCurCityId(data.cityId);\n            setAdOwnerId(data.ownerId);\n            setSelectedSubCatId(data.subCategoryId);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    };\n\n\n}, [adId])\n\n\nconst uploadImages = async(e) => {\n    const formData = new FormData();\n    for (let i=0;i<e.target.files.length;i++){\n        formData.append('image', e.target.files[i]);\n    }\n    try {\n        setLoading(true);\n\n        const { data:uploadedFilesPath } = await axios.post(`${process.env.REACT_APP_BE}image-upload`,formData,axiosConfig);\n        console.log(uploadedFilesPath);\n        if(photoArray)setPhotoArray(prev=>[...prev,...uploadedFilesPath]);\n        else setPhotoArray(uploadedFilesPath)\n        setLoading(false);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n\n}\n\n    if(!curSubCatList || loading)return <LoadingSpinner/>;\n\n    return (\n      <>                 \n        <Row className='mb-4'>\n          <Col className='text-center'>\n            <h4>{adId ? 'Edit' : 'Create'} ad</h4>\n          </Col> \n        </Row>\n\n        <Row>\n          {error && <Alert>{error}</Alert>}\n          <Col>\n            <FloatingLabel\n              controlId=\"floatingSelectCat\"\n              label=\"Choose category\"\n            >\n              <Form.Select\n                aria-label=\"Categories list\"\n                value={selectedCatId}\n                onChange={(e) => setSelectedCatId(parseInt(e.target.value, 10))}\n              >\n                {categoriesList.map((cat, idx) => (\n                  <option key={`catk${idx}`} value={cat.id}>\n                    {cat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n          <Col>\n            <FloatingLabel\n              controlId=\"floatingSelectSubCat\"\n              label=\"Choose sub-category\"\n            >\n              <Form.Select\n                aria-label=\"Sub categories list\"\n                value={selectedSubCatId}\n                onChange={(e) =>\n                  setSelectedSubCatId(parseInt(e.target.value, 10))\n                }\n              >\n                {curSubCatList.map((subCat, idx) => (\n                  <option key={`subCatk${idx}`} value={subCat.id}>\n                    {subCat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n        </Row>\n        <Row className=\"my-2\">\n          <Col sm={7}>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingInputTitle\"\n                  label=\"Enter title (required)\"\n                  className=\"mb-1\"\n                >\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Some title\"\n                    onChange={(e) => setAdTitle(e.target.value)}\n                    value={adTitle}\n                    required\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingTextareaDescription\"\n                  label=\"Enter description\"\n                >\n                  <Form.Control\n                    as=\"textarea\"\n                    placeholder=\"Enter description here\"\n                    onChange={(e) => setAdDescription(e.target.value)}\n                    value={adDescription}\n                    style={{ height: '200px' }}\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row className='mt-3'>\n              <Col>\n                <Form.Check\n                  required\n                  label=\"Sell as store\"\n                  feedback=\"Sell as store\"\n                  value={sellAsStore}\n                  onChange={(e) => setSellAsStore(e.target.checked)}\n                />{\" \"}\n                <br />\n                <Form.Check\n                  required\n                  label=\"Agree to terms and conditions\"\n                  feedback=\"You must agree before submitting.\"\n                />{\" \"}\n                <br />\n                <Button variant=\"primary\" onClick={submitDataToServer}>\n                  Submit\n                </Button>\n              </Col>\n\n              <Col>\n                <Form.Group controlId=\"formFileMultiple\" className=\"mb-3\">\n                  <Form.Control type=\"file\" multiple onChange={uploadImages} />\n                  <Form.Label>Choose photos to upload</Form.Label>\n                </Form.Group>\n\n                {photoArray && photoArray.length > 0 && (\n                  <>\n                    <Carousel variant='dark'>\n                      {photoArray.map((photo, idx) => (\n                        <Carousel.Item key={`photoK${idx}`}>\n                          <img\n                            className=\"d-block w-100\"\n                            src={`${process.env.REACT_APP_BE}images/${photo}`}\n                            alt=\"what is it?\"\n                            style={{ objectFit: \"scale-down\", height: \"25rem\" }}\n                          />\n                          <Carousel.Caption>\n                          <Button onClick={() => deletePhoto(photo)} variant=\"outline-danger\"> <TrashFill size={24} /> </Button>\n                          </Carousel.Caption>\n                        </Carousel.Item>\n                      ))}\n                    </Carousel>\n                  </>\n                )}\n              </Col>\n            </Row>\n          </Col>\n          <Col sm={5}>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingInputPrice\"\n                  label=\"Enter price\"\n                  className=\"mb-1\"\n                >\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"1 000 000\"\n                    onChange={(e) => setAdPrice(e.target.value)}\n                    value={adPrice}\n                  />\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <FloatingLabel\n                  controlId=\"floatingSelectStatus\"\n                  label=\"Choose status\"\n                >\n                  <Form.Select\n                    aria-label=\"Ad statuses list\"\n                    value={adCurStatus}\n                    onChange={(e) =>\n                      setAdCurStatus(parseInt(e.target.value, 10))\n                    }\n                  >\n                    {adStatuses.map((status, idx) => (\n                      <option key={`statusk${idx}`} value={status.id}>\n                        {status.description}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </FloatingLabel>\n              </Col>\n            </Row>\n            <Row className=\"my-2\">\n              <Col>\n                <CitiesSearchInput\n                  setCoords={setCoords}\n                  setCityId={setCurCityId}\n                  cityPlaceholder={cityPlaceholder}\n                />\n              </Col>\n            </Row>\n            <Row className=\"my-2\">\n              <FloatingLabel\n                controlId=\"floatingInputAddress\"\n                label=\"Enter address (optional)\"\n                className=\"mb-1\"\n              >\n                <Form.Control\n                  as=\"textarea\"\n                  placeholder=\"Some street 1\"\n                  onChange={(e) => setAdAddress(e.target.value)}\n                  value={adAddress}\n                />\n              </FloatingLabel>\n            </Row>\n            <Row>\n              <Col>\n                <MapGeolocationPos setCoords={setCoords} coords={coords} />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </>\n    );\n}\n\nexport default CreateNewAd\n","import {useState,useContext,useEffect} from 'react';\nimport axios from 'axios';\nimport { Col, Row, Form, FloatingLabel,Button,InputGroup,Alert } from 'react-bootstrap';\nimport { AppContext } from \"../../context/AppContext\";\nimport LoadingSpinner from '../LoadingSpinner';\n\nconst AddEditCategory = () => {\n    //const userType = localStorage.getItem(\"userType\");\n    const { categoriesList, subCategoriesList,loading, error, setLoading, setError,updateMenuItems,setUpdateMenuItems } =\n    useContext(AppContext);\n\n    const [selectedCatId, setSelectedCatId] = useState();\n    const [catDesc,setCatDesc]=useState('');\n\n    const [curSubCatList, setCurSubCatList] = useState([]);\n    const [selectedSubCatId, setSelectedSubCatId] = useState();\n    const [subCatDesc,setSubCatDesc]=useState('');\n\n\n    const sendReq = async (reqType) => {\n        try {\n            setLoading(true);\n            const axiosConfig = {\n                headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n              };\n            let data;\n            if (reqType==='put'){\n                data = await axios.put(`${process.env.REACT_APP_BE}categories/${selectedCatId}`,{category:catDesc},axiosConfig);\n            }else if(reqType==='delete'){\n                data = await axios.delete(`${process.env.REACT_APP_BE}categories/${selectedCatId}`,axiosConfig);\n                setSelectedCatId(categoriesList[0].id);\n                setCatDesc(categoriesList[0].description);\n            }else if(reqType==='new'){\n                data = await axios.post(`${process.env.REACT_APP_BE}categories/`,{category:catDesc},axiosConfig);\n            }else if(reqType==='newSc'){\n                data = await axios.post(`${process.env.REACT_APP_BE}subcategories/`,{parentId:selectedCatId,subCategory:subCatDesc},axiosConfig);\n            }else if(reqType==='deleteSc'){\n                data = await axios.delete(`${process.env.REACT_APP_BE}subcategories/${selectedSubCatId}`,axiosConfig);\n            }else if(reqType==='putSc'){\n                data = await axios.put(`${process.env.REACT_APP_BE}subcategories/${selectedSubCatId}`,{parentId:selectedCatId,subCategory:subCatDesc},axiosConfig);\n            };\n            console.log(data);\n            setUpdateMenuItems(!updateMenuItems)\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 3000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 3000);\n              setLoading(false);\n            }\n          }\n    }\n\n    useEffect(() => {\n        if (selectedCatId){\n            \n            const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n            setCatDesc(curCat.description);\n\n            const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n            setCurSubCatList(subCatsOfCat);\n            if(subCatsOfCat.length>0){\n                setSelectedSubCatId(subCatsOfCat[0].id)\n                setSubCatDesc(subCatsOfCat[0].description)\n            }else{\n                setSubCatDesc('');\n                setSelectedSubCatId('');\n            }\n        }else{\n            \n            setSelectedCatId(categoriesList[0].id);\n            setCatDesc(categoriesList[0].description);\n        }\n    }, [categoriesList,selectedCatId,subCategoriesList]);\n\n    useEffect(() => {\n        \n        if (selectedSubCatId){\n            const curSubCat = curSubCatList.find(subCat=>subCat.id===selectedSubCatId);\n            setSubCatDesc(curSubCat.description);\n        }/* else{\n            \n            setSelectedCatId(categoriesList[0].id);\n            setCatDesc(categoriesList[0].description);\n        } */\n    }, [selectedSubCatId,subCategoriesList,selectedCatId,curSubCatList]);\n\n    if (loading) return <LoadingSpinner/>\n    return (<>\n        <Row className=\"py-4 bg-warning my-4\">\n            {error && <Col><Alert>{error}</Alert></Col>}\n            <Col>\n            <FloatingLabel controlId=\"floatingSelectCat\" label=\"Choose category\">\n                    <Form.Select aria-label=\"Categories list\" value={selectedCatId} onChange={(e)=>setSelectedCatId(parseInt(e.target.value,10))}>\n                        {categoriesList.map((cat,idx)=>(\n                            <option key={`catk${idx}`} value={cat.id}>{cat.description}</option>    \n                        ))}\n                    </Form.Select>\n                </FloatingLabel>\n            </Col>\n            <Col>\n            <InputGroup>\n        <FloatingLabel controlId=\"floatingInputCategory\" label=\"Category description\" className=\"mb-1\">\n            <Form.Control type=\"text\" placeholder=\"category description\" value={catDesc} onChange={(e)=>setCatDesc(e.target.value)} required />\n        </FloatingLabel>\n            <Button onClick={()=>sendReq('new')} variant=\"outline-dark\" disabled={catDesc.length===0}>Add New</Button>\n          <Button onClick={()=>sendReq('put')} variant=\"outline-dark\" disabled={catDesc.length===0 || !selectedCatId}>Rename</Button>\n          <Button onClick={()=>sendReq('delete')} variant=\"danger\" disabled={catDesc.length===0 || !selectedCatId}>Delete</Button>\n          </InputGroup>\n            </Col>\n        </Row>\n                <Row className=\"py-4 bg-warning my-4\">\n                <Col>\n                <FloatingLabel controlId=\"floatingSelectCat\" label=\"Choose category\">\n                        <Form.Select aria-label=\"Categories list\" value={selectedSubCatId} onChange={(e)=>setSelectedSubCatId(parseInt(e.target.value,10))}>\n                            {curSubCatList.length>0 ? curSubCatList.map((subCat,idx)=>(\n                                <option key={`sbcatk${idx}`} value={subCat.id}>{subCat.description}</option>    \n                            )) : '' }\n                        </Form.Select>\n                    </FloatingLabel>\n                </Col>\n                <Col>\n                <InputGroup>\n            <FloatingLabel controlId=\"floatingInputSubCategory\" label=\"Sub category description\">\n                <Form.Control type=\"text\" placeholder=\"sub category description\" value={subCatDesc} onChange={(e)=>setSubCatDesc(e.target.value)} required />\n            </FloatingLabel>\n                <Button onClick={()=>sendReq('newSc')} variant=\"outline-dark\" disabled={subCatDesc.length===0}>Add New</Button>\n              <Button onClick={()=>sendReq('putSc')} variant=\"outline-dark\" disabled={subCatDesc.length===0 || !selectedSubCatId}>Rename</Button>\n              <Button onClick={()=>sendReq('deleteSc')} variant=\"danger\"  disabled={subCatDesc.length===0 || !selectedSubCatId}>Delete</Button>\n              </InputGroup>\n                </Col>\n            </Row>\n            </>\n    )\n}\n\nexport default AddEditCategory\n","import { useEffect,useState,useContext } from 'react';\nimport { Rating,RatingView } from 'react-simple-star-rating';\nimport axios from 'axios';\nimport { AppContext } from \"../context/AppContext\";\n\nconst UserRating = ({userId}) => {\n    const {isAuthenticated } = useContext(AppContext);\n    const [rating, setRating] = useState(0); // initial rating value\n    \n    useEffect(()=>{\n        const loadUserRating = async ()=>{\n         try {\n             //setLoading(true);\n             const { data } = await axios.get(`${process.env.REACT_APP_BE}rate/${userId}/rating`);\n             setRating(data.avg);\n             console.log(data);\n             //setLoading(false);\n           } catch (error) {\n             if (error.response) {\n            //   setError(error.response.data.error);\n            //   setTimeout(() => setError(null), 5000);\n            //   setLoading(false);\n             } else {\n            //   setError(error.message);\n            //   setTimeout(() => setError(null), 5000);\n            //   setLoading(false);\n             }\n           }\n        };\n        loadUserRating()\n     },[userId]);\n\n       // Catch Rating value\n  const handleRating = async(rate) => {\n      \n      if(userId!==parseInt(localStorage.getItem('userId'),10)){\n          setRating(rate);\n          const ratingData={\n              targetUser: userId,\n              rating: rate,\n          }\n          try {\n              //setLoading(true);\n              const { data } = await axios.post(`${process.env.REACT_APP_BE}rate/`,ratingData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n              if (data.targetUser===userId){\n      \n              }\n              console.log(data);\n              //setLoading(false);\n            } catch (error) {\n                console.log('imerer',error.response.data.error);\n                if (error.response.data.error.endsWith('\"uniqrating\"')){\n                    console.log('You have already rated this user!');\n                }\n              if (error.response) {\n             //   setError(error.response.data.error);\n             //   setTimeout(() => setError(null), 5000);\n             //   setLoading(false);\n              } else {\n             //   setError(error.message);\n             //   setTimeout(() => setError(null), 5000);\n             //   setLoading(false);\n              }\n            }\n      }\n  }\n\n    return (\n        <div>{isAuthenticated &&  userId!==parseInt(localStorage.getItem('userId'),10) ? <Rating onClick={handleRating} ratingValue={rating} /> : <RatingView ratingValue={rating} />}\n            \n        </div>\n    )\n}\n\nexport default UserRating","import { useContext } from \"react\";\nimport { OverlayTrigger,Tooltip,Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { AppContext } from \"../context/AppContext\";\n\nconst StartChatButton = ({ownerId}) => {\n    const { isAuthenticated } = useContext(AppContext);\n    if (!isAuthenticated)\n    return (\n      <OverlayTrigger\n        overlay={\n          <Tooltip id=\"tooltip-disabled\">Sign in to send a message</Tooltip>\n        }\n      >\n        <span className=\"d-inline-block\">\n            <Button disabled>Chat</Button>\n        </span>\n      </OverlayTrigger>\n    );\n\n    if (ownerId === parseInt(localStorage.getItem('userId'),10))return <Button disabled>Chat</Button>\n    return <Button as={Link} to={`/chat/${ownerId}`}>Chat</Button>\n}\n\nexport default StartChatButton","import axios from 'axios';\nimport { Alert,Row,Col,Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport LoadingSpinner from './LoadingSpinner';\nimport { Map, Marker } from \"pigeon-maps\";\nimport { TelephoneFill } from 'react-bootstrap-icons';\nimport AddToFavsButton from './AddToFavsButton';\nimport UserRating from './UserRating';\nimport StartChatButton from './StartChatButton';\n\nconst ViewSingleAd = () => {\n    const {adId}=useParams();\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [adData, setAdData] = useState({});\n   \n    useEffect(()=>{\n       const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}ads/${adId}`);\n            setAdData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    },[adId]);\nif (loading)return <LoadingSpinner/>\n    return ( <Row>\n        {/*  <Row className=\"mb-5\">\n            <Col>\n           <Breadcrumb>\n                <Breadcrumb.Item><Link to=\"/\">All ads</Link></Breadcrumb.Item>\n                <Breadcrumb.Item><Link to={`/categories/${adData.catId}`}>\n                    {adData.category}\n                    </Link>\n                </Breadcrumb.Item>\n                <Breadcrumb.Item>\n                <Link to={`/subcategories/${adData.subCategoryId}`}>\n                    {adData.subcategory}</Link>\n                </Breadcrumb.Item>\n                <Breadcrumb.Item active>{adData.subcategory} in {adData.cityName}</Breadcrumb.Item>\n            </Breadcrumb> \n            </Col>\n        </Row>*/}\n        \n            {error && <Alert>{error}</Alert>}\n            <Col>\n            <Row>\n            <Col>\n            <nav aria-label=\"breadcrumb\">\n          <ol className=\"breadcrumb\">\n            <li className=\"breadcrumb-item\"><Link to=\"/\">Main page</Link></li>\n            <li className=\"breadcrumb-item\"><Link to={`/bycategory/${adData.catId}`}>{adData.category}</Link></li>\n            <li className=\"breadcrumb-item\"><Link to={`/bysubcategory/${adData.subCategoryId}`}>{adData.subCategory}</Link></li>\n            <li className=\"breadcrumb-item\"><Link to={`/bycity/${adData.cityId}`}> in {adData.cityName}</Link></li>\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">View article</li>\n{/*             <Route exact path=\"/bycategory/:catId\" component={MainPage} />\n              <Route exact path=\"/bycity/:cityId\" component={MainPage} />\n              <Route exact path=\"/byuser/:adsByUserId\" component={MainPage} />\n              <Route exact path=\"/bystore/:adsByStoreId\" component={MainPage} /> */}\n          </ol>\n        </nav>\n            </Col>\n          </Row>\n            <Row>\n            <Col className=\"m-3 p-3\" style={{backgroundColor:'#faf9f9'}}>\n                <Carousel variant=\"dark\">\n                  {adData.photos && adData.photos.length>0 ? adData.photos.map((photo, idx) => (\n                    <Carousel.Item key={`photoK${idx}`} >\n                      <img  style={{objectFit:'scale-down',height:'25rem'}}\n                        className=\"d-block w-100\"\n                        src={`${process.env.REACT_APP_BE}/images/${photo}`}\n                        alt=\"Something interesting\"\n                      />\n                    </Carousel.Item>\n                  )) : <Carousel.Item><img  style={{objectFit:'scale-down',height:'25rem'}} className=\"d-block w-100\" src='/images/noimg.png' alt=\"Nothing here\" /></Carousel.Item>}\n                </Carousel>\n            </Col>\n            </Row>\n            <Row>\n<Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n<Row>\n<Col>\n                  <h4>{adData.title}</h4>\n                  {adData.price && adData.price>0 && <h3>{adData.price}</h3>}\n                  <p className=\"mt-3\" style={{whiteSpace:'pre-line'}}>{adData.description}</p>\n              </Col>\n\n</Row>\n<Row className=\"mt-4\">\n            <Col>\n                 <p className='fs-6 text-muted'>Views: {adData.views}</p> \n                  \n              </Col>\n              <Col className='text-center'>\n              <AddToFavsButton targetId={adData.adId} description={adData.title} />\n              </Col>\n              <Col>\n              <p className=\"fs-6 text-muted text-end\">ID: {adData.adId}</p>\n              </Col>\n            </Row>\n</Col>\n             \n            </Row>\n            \n            </Col>\n              <Col sm={4} >\n                  <Row>\n                  <Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n                    {adData.storeId && (<Row><Col><Link to={`/viewstore/${adData.storeId}`} style={{textDecoration:'none'}}><h4 className=\"secondary\">{adData.storeName}</h4></Link><br/></Col></Row>)}\n                  <Row>\n                  <Col sm={9}>\n                    <Link className=\"fs-6 text-muted\" to={`/byuser/${adData.ownerId}`} style={{textDecoration:'none'}}><h4>{adData.userName}</h4></Link>\n                  </Col>\n                  <Col className='text-end'>\n                    <AddToFavsButton targetId={adData.ownerId} description={adData.userName} path='user' />\n                  </Col>\n                  </Row>                      \n                  <Row className='mt-2'>\n                    <Col>\n                      <h5><TelephoneFill size={24}/> {adData.userPhone}</h5><br/>\n                    \n                    </Col>  \n                  </Row>\n                  <Row>\n                    <Col>\n                    <UserRating userId={adData.ownerId} />\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col>\n                    <p className='fs-5'>{adData.userType}</p>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col>\n                    <p className='fs-6 text-muted'>Member since {new Date(adData.created).toLocaleString()}<br/>\n                      Was online {new Date(adData.wasOnline).toLocaleString()}</p>\n                    </Col>\n                  </Row>\n                  \n                  </Col>\n                  </Row>\n                  <Row>\n                  <Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n                  <h5>{adData.cityName}</h5>\n                  <p>{adData.address}</p>\n                  <Map height={300} center={adData.coords} defaultZoom={11}>\n                    {adData.coords && <Marker width={50} anchor={adData.coords} />}\n                  </Map>\n                  </Col>\n                  </Row>\n                  <Row>\n                  <Col className=\"m-3 p-3\"  style={{backgroundColor:'#faf9f9'}}>\n                    <StartChatButton ownerId={adData.ownerId} />\n                    {/* {adData.ownerId !== parseInt(localStorage.getItem('userId'),10) && <Button as={Link} to={`/chat/${adData.ownerId}`}>Chat</Button>} */}\n                    \n                  </Col>\n                  </Row>\n              </Col>\n\n        </Row>\n\n\n\n    )\n}\n\nexport default ViewSingleAd\n","import axios from 'axios';\nimport {useEffect, useState,useContext} from 'react';\nimport { Row,Col, Button, Modal,Alert } from 'react-bootstrap';\nimport { PencilSquare, Trash } from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\nimport LoadingSpinner from './LoadingSpinner';\nimport UserRating from './UserRating';\n\nconst UserProfile = () => {\n    const { signOut } = useContext(AppContext);\n    const [profileData, setProfileData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const [showModal, setShowModal] = useState(false);\n\n    const handleModalClose = () => setShowModal(false);\n    const handleModalShow = () => setShowModal(true);\n\n    const handleDeleteProfile = async () => {\n        try {\n            setLoading(true);\n            const { data } = await axios.delete(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            \n            console.log(data);\n            signOut();\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    useEffect(()=>{\n       const loadAdDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setProfileData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadAdDetails()\n    },[]);\n\n    if(loading)return <LoadingSpinner/>;\n    return (\n      <>\n        <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your profile</h4>\n              </Col> \n            </Row>\n            <Row className=\"justify-content-center\">\n            <Col sm={6}>\n            {error && <Alert>{error}</Alert>}\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">User name: </small></h5>\n              </Col>\n              <Col>\n              <h5>\n                  {profileData.name}\n                </h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">E-Mail: </small></h5>\n              </Col>\n              <Col>\n              <h5>  {profileData.email}</h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">Phone number: </small></h5>\n              </Col>\n              <Col>\n              <h5> {profileData.phone}</h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">Registered on: </small></h5>\n              </Col>\n              <Col>\n              <h5>{new Date(profileData.registerDate).toLocaleString()} </h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">User type: </small></h5>\n              </Col>\n              <Col>\n              <h5>{profileData.userType}</h5>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <h5><small className=\"text-muted\">Your rating: </small></h5>\n              </Col>\n              <Col>\n                <UserRating userId={profileData.userId} />\n              </Col>\n            </Row>\n            <Row className='mt-4'>\n              <Col>\n                <Button variant=\"outline-dark\" as={Link} to=\"/editprofile\">\n                  <PencilSquare /> Edit profile\n                </Button>\n              </Col>\n              <Col>\n              <Button variant=\"outline-danger\" onClick={handleModalShow}>\n                  <Trash /> Delete profile\n                </Button>\n              </Col>\n            </Row>\n          </Col>\n            </Row>\n          </Col>\n          \n\n        </Row>\n        <Modal\n          show={showModal}\n          onHide={handleModalClose}\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Do you really want to delete your profile?\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            All your ads, your favotites and all your data will be deleted.\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={handleModalClose}>\n              No, missclicked!\n            </Button>\n            <Button variant=\"danger\" onClick={handleDeleteProfile}>\n              Yes, pls delete!\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n}\n\nexport default UserProfile","import { useState,useEffect,useContext } from 'react';\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\nimport { Col, Row,Form,FloatingLabel,Button,Alert } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from \"../context/AppContext\";\n\nconst EditProfile = () => {\n    const { signOut } = useContext(AppContext);\n    \n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [userName, setUserName] = useState('');\n    const [phone, setPhone] = useState('');\n    const [email, setEmail] = useState('');\n    const [showAlert, setShowAlert] = useState('');\n\n    useEffect(()=>{\n        const loadAdDetails = async ()=>{\n            try {\n                setLoading(true);\n                const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setUserName(data.name);\n                setPhone(data.phone);\n                setEmail(data.email);\n\n                console.log(data);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                }\n              }\n           };\n           loadAdDetails()\n    },[]);\n\n    const handleSaveChanges = async ()=>{\n        const editedProfile={\n            userName:userName,\n            email:email,\n            phone:phone,\n        }\n        try {\n            setLoading(true);\n            const { data } = await axios.put(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,editedProfile,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            if (String(data.id)===localStorage.getItem('userId')){\n                setShowAlert('You must re-login for the changes to take effect!');\n                setTimeout(()=>signOut(),5000)\n            }\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    if(loading)return <LoadingSpinner/>;\n    if(showAlert)return (<Row className=\"justify-content-center\"><Alert>{showAlert}</Alert></Row>)\n    return (\n        \n            <Row className=\"justify-content-center\">\n                {error && <Alert>{error}</Alert>}\n          <Col sm={4}>\n          <FloatingLabel\n              controlId=\"floatingInputUserName\"\n              label=\"Enter your name (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some username\"\n                onChange={(e) => setUserName(e.target.value)}\n                value={userName}\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingInputEmail\"\n              label=\"Enter your email (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some email\"\n                onChange={(e) => setEmail(e.target.value)}\n                value={email}\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingInputPhoneNumber\"\n              label=\"Enter your name (required)\"\n              className=\"mb-2\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some phone number\"\n                onChange={(e) => setPhone(e.target.value)}\n                value={phone}\n                required\n              />\n            </FloatingLabel>\n            <div className=\"d-grid gap-2\">\n            <Button variant=\"primary\" size=\"sm\" onClick={handleSaveChanges}>Save changes</Button>\n            <Button variant=\"secondary\" size=\"sm\" as={Link} to=\"/\">Cancel</Button>\n\n            </div>\n          </Col>\n          </Row>\n    )\n}\n\nexport default EditProfile\n","import { useState,useEffect } from 'react';\nimport LoadingSpinner from './LoadingSpinner';\nimport axios from 'axios';\nimport { Col, Row,Form,FloatingLabel,Button,Alert } from 'react-bootstrap';\nimport { Link, useHistory,useParams } from 'react-router-dom';\nimport CitiesSearchInput from './CitiesSearchInput';\nimport MapGeolocationPos from './MapGeolocationPos';\n\nconst EditStore = () => {\n    const axiosConfig = {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'multipart/form-data' }\n      };\n    const {storeId} = useParams();\n\n    const [loading,setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const [storeTitle, setStoreTitle] = useState('');\n    const [storeAddress, setStoreAddress] = useState('');\n    const [storeDescription, setStoreDescription] = useState('');\n    const [storeLogoImg, setStoreLogoImg] = useState('');\n    const [cityId,setCityId] = useState();\n    const [coords,setCoords] = useState();\n    const [cityName,setCityName] = useState();\n    const [storeAdminId,setStoreAdminId] = useState();\n    const hist = useHistory();\n\n    useEffect(() => {\n      const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            let url=`${process.env.REACT_APP_BE}stores/my/`;\n            if (localStorage.getItem('userType')==='999'){\n              console.log('adamin');\n              url=`${process.env.REACT_APP_BE}stores/${storeId}`;\n            }\n            const { data } = await axios.get(url,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            //setStoreData(data);\n            setStoreTitle(data.title);\n            setStoreAddress(data.address);\n            setStoreDescription(data.description);\n            setStoreLogoImg(data.photo);\n            setCityId(data.cityId);\n            setCoords(data.coords);\n            setCityName(data.cityName);\n            setStoreAdminId(data.adminId)\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n      if (storeId){\n        loadStoreDetails();\n      }\n    }, [storeId])\n\nconst uploadImage = async (e) => {\n    const formData = new FormData();\n    formData.append('image', e.target.files[0]);\n    try {\n        setLoading(true);\n\n        const { data:uploadedFile } = await axios.post(`${process.env.REACT_APP_BE}image-upload`,formData,axiosConfig);\n        console.log(uploadedFile);\n        setStoreLogoImg(uploadedFile[0]);\n        setLoading(false);\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n          setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n}\n      \n\n/*     useEffect(()=>{\n        const loadAdDetails = async ()=>{\n            try {\n                setLoading(true);\n                const { data } = await axios.get(`${process.env.REACT_APP_BE}users/${localStorage.getItem('userId')}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setUserName(data.name);\n                setPhone(data.phone);\n                setEmail(data.email);\n\n                console.log(data);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 5000);\n                  setLoading(false);\n                }\n              }\n           };\n           loadAdDetails()\n    },[]); */\n\n     const handleSaveChanges = async ()=>{\n       console.log('id',localStorage.getItem('userId'),storeAdminId);\n       const usrIdToSet = localStorage.getItem('userType')==='999' ? storeAdminId : parseInt(localStorage.getItem('userId'),10);\n        const storeData={\n            title:storeTitle,\n            address:storeAddress,\n            description:storeDescription,\n            coords:coords,\n            cityId:cityId,\n            photo:storeLogoImg,\n            ownerId:usrIdToSet,\n        };\n        try {\n            setLoading(true);\n            let resp;\n            if(storeId){\n              const { data } = await axios.put(`${process.env.REACT_APP_BE}stores/${storeId}`,storeData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n              resp=data;\n            }else{\n              const { data } = await axios.post(`${process.env.REACT_APP_BE}stores/`,storeData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n              resp=data;\n            }\n            console.log(resp);\n            if (resp.id){\n              setLoading(false);\n              hist.push(`/mystore`)\n            }\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n \n\n\n    if(loading)return <LoadingSpinner/>;\n    \n    return (\n        \n        <Row className=\"justify-content-center\">\n            <Col md={10}>\n                {error && <Alert>{error}</Alert>}\n                <Row>\n          <Col md={4}>\n          <FloatingLabel\n              controlId=\"floatingInputStoreName\"\n              label=\"Enter name of your store (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some title\"\n                onChange={(e) => setStoreTitle(e.target.value)}\n                value={storeTitle}\n                required\n              />\n            </FloatingLabel>\n\n            <FloatingLabel\n              controlId=\"floatingInputStoreDescription\"\n              label=\"Enter your store's description (required)\"\n              className=\"mb-2\"\n            >\n            <Form.Control\n                as=\"textarea\"\n                placeholder=\"Some descriptiion\"\n                style={{ height: '300px' }}\n                onChange={(e) => setStoreDescription(e.target.value)}\n                value={storeDescription}\n                required\n            />\n            </FloatingLabel>\n\n\n          </Col>\n          <Col md={4}>\n              <Row>\n                  <Col>\n                  <FloatingLabel\n              controlId=\"floatingInputStoreAddress\"\n              label=\"Enter address of your store (required)\"\n              className=\"mb-1\"\n            >\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Some address\"\n                onChange={(e) => setStoreAddress(e.target.value)}\n                value={storeAddress}\n                required\n              />\n            </FloatingLabel>\n                  </Col>\n              </Row>\n            <Row className=\"my-2\">\n              <Col>\n                <CitiesSearchInput cityPlaceholder={cityName} setCoords={setCoords} setCityId={setCityId} />\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <MapGeolocationPos setCoords={setCoords} coords={coords} />\n              </Col>\n            </Row>\n          </Col>\n          <Col md={4}>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Control type=\"file\" onChange={uploadImage} />\n              <Form.Label>Choose photo or logo</Form.Label>\n            </Form.Group>\n            {storeLogoImg && <img src={`${process.env.REACT_APP_BE}images/${storeLogoImg}`} style={{objectFit:'scale-down',width:'18rem',height:'20rem' }} alt='logo' />}\n          </Col>\n\n            </Row>\n            <Row className=\"d-grid gap-2\">\n            <Button variant=\"primary\" size=\"sm\" onClick={handleSaveChanges}>Save changes</Button>\n            <Button variant=\"secondary\" size=\"sm\" as={Link} to=\"/\">Cancel</Button>\n\n            </Row>\n            </Col>\n            \n          </Row>)\n}\n\nexport default EditStore\n","import { useEffect, useState,useContext } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, FloatingLabel, Form } from \"react-bootstrap\";\nimport AdCard from \"./AdCard\";\nimport PageNums from \"./PageNums\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport { AppContext } from \"../context/AppContext\";\nimport NoAdsFound from \"./NoAdsFound\";\n\nconst ADSPERPAGE=8;\n\nconst SearchResults = () => {\n\n    const {  categoriesList, subCategoriesList ,searchParams,setSearchParams } = useContext(AppContext);\n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n    const [selectedCatId,setSelectedCatId] = useState();\n    const [selectedSubCatId,setSelectedSubCatId] = useState();\n    const [curSubCatList,setCurSubCatList] = useState([]);\n    const [searchInCat,setSearchInCat] = useState(false);\n    const [searchInSubCat,setSearchInSubCat] = useState(false);\n    const [curPage,setCurPage] = useState(1);\n    const [totalPages,setTotalPages] = useState();\n\n    useEffect(() => {\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.post(`${process.env.REACT_APP_BE}search/v2/?skip=${(curPage-1)*ADSPERPAGE}&limit=${ADSPERPAGE}`,searchParams);\n                setCurrentlyLoadedAds(adList);\n                if(adList.length>0){\n                  setTotalPages(Math.ceil(parseInt(adList[0].totalRows,10)/ADSPERPAGE));\n                }else {\n                  setTotalPages(0);\n                  setCurPage(1);\n                }\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds()\n    }, [searchParams,curPage]);\n\n    useEffect(() => {\n      console.log(searchInCat);\n      if(searchInCat){\n        setSearchParams(prev=>{\n        const reqBody = {\n          cityId: prev.cityId,\n          cityCoords:prev.cityCoords,\n          distance: prev.distance,\n          searchText:prev.searchText,\n          catId:selectedCatId,\n          subCatId:null,\n        };\n        return reqBody;\n      })\n    }\n      else {\n        setSearchParams(prev=>{\n        const reqBody = {\n          cityId: prev.cityId,\n          cityCoords:prev.cityCoords,\n          distance: prev.distance,\n          searchText:prev.searchText,\n          catId:null,\n          subCatId:null,\n        };\n        return reqBody;\n      });\n    }\n    }, [searchInCat,selectedCatId,setSearchParams]);\n\n    useEffect(() => {\n      console.log(searchInSubCat);\n      if(searchInSubCat){\n        setSearchParams(prev=>{\n        const reqBody = {\n          cityId: prev.cityId,\n          cityCoords:prev.cityCoords,\n          distance: prev.distance,\n          searchText:prev.searchText,\n          catId:null,\n          subCatId:selectedSubCatId,\n        };\n        return reqBody;\n        /* prev.subCatId=selectedSubCatId;\n        return prev; */\n      })\n    }else {\n      setSearchParams(prev=>{\n        const reqBody = {\n          cityId: prev.cityId,\n          cityCoords:prev.cityCoords,\n          distance: prev.distance,\n          searchText:prev.searchText,\n          catId:null,\n          subCatId:null,\n        };\n        return reqBody;\n        /* prev.subCatId=selectedSubCatId;\n        return prev; */\n      })\n    }\n    }, [searchInSubCat,selectedSubCatId,setSearchParams]);\n\n    useEffect(() => {\n      if (selectedCatId){\n          //const curCat = categoriesList.find(cat=>cat.id===selectedCatId);\n          const subCatsOfCat=subCategoriesList.filter(subCat=>subCat.parentId===selectedCatId);\n          setCurSubCatList(subCatsOfCat);\n          if(subCatsOfCat.length>0){\n              setSelectedSubCatId(subCatsOfCat[0].id)\n          }else{\n              setSelectedSubCatId('');\n          }\n      }else{\n          if (categoriesList && categoriesList.length>0){\n            setSelectedCatId(categoriesList[0].id);\n          }\n      }\n  }, [selectedCatId,subCategoriesList,categoriesList]);\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (\n        <Row>\n          <Col>\n          <Row>\n          <Col sm={3}>\n            <FloatingLabel\n              controlId=\"floatingSelectCat\"\n              label=\"Choose category\"\n            >\n              <Form.Select\n                aria-label=\"Categories list\"\n                value={selectedCatId}\n                onChange={(e) => setSelectedCatId(parseInt(e.target.value, 10))}\n              >\n                {categoriesList.map((cat, idx) => (\n                  <option key={`catk${idx}`} value={cat.id}>\n                    {cat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n          <Col>\n          <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"switchUseCategories\" defaultChecked={searchInCat} \n          onChange={(e)=>{\n            if(e.target.checked===true){\n              setSearchInSubCat(false);\n            }\n            setSearchInCat(e.target.checked);\n          }} />\n          <label className=\"form-check-label\" htmlFor=\"switchUseCategories\">Search in this category</label>\n        </div>\n          </Col>\n          </Row>\n          <Row>\n          <Col sm={3}>\n            <FloatingLabel\n              controlId=\"floatingSelectSubCat\"\n              label=\"Choose sub-category\"\n            >\n              <Form.Select\n                aria-label=\"Sub categories list\"\n                value={selectedSubCatId}\n                onChange={(e) =>\n                  setSelectedSubCatId(parseInt(e.target.value, 10))\n                }\n              >\n                {curSubCatList.map((subCat, idx) => (\n                  <option key={`subCatk${idx}`} value={subCat.id}>\n                    {subCat.description}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          </Col>\n           <Col>\n          <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"switchUseSubCategories\" defaultChecked={searchInSubCat} \n          onChange={(e)=>{\n            if (e.target.checked===true){\n              setSearchInCat(false)\n            }\n            setSearchInSubCat(e.target.checked);\n            }} />\n          <label className=\"form-check-label\" htmlFor=\"switchUseSubCategories\">Search in this sub category</label>\n        </div> \n          </Col>\n          </Row>\n          \n          <Row className=\"g-4 mt-3 border-top\">\n         {/*  <Alert variant=\"success\">Search results for: </Alert> */}\n          {currentlyLoadedAds.length<1 && <NoAdsFound />}\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <AdCard key={`adk${idx}`}\n            title={ad.title}\n            photo={ad.photos}\n            address={ad.address}\n            price={ad.price}\n            created={ad.created}\n            catId={ad.catId}\n            category={ad.category}\n            subCategoryId={ad.subCategoryId}\n            subCategory={ad.subCategory}\n            cityName={ad.cityName}\n            cityId={ad.cityId}\n            adId={ad.adId}\n            views={ad.views}\n             /> ))}\n          </Row>\n          </Col>\n          <Row className='d-flex align-items-center justify-content-center mt-5 border-top pt-3'>\n          <Col sm='auto' className='align-self-center'>\n          <PageNums totalPages={totalPages} currentPage={curPage} cbPageClick={setCurPage} />\n          </Col>\n        </Row>\n        </Row>\n    )\n}\n\nexport default SearchResults\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row,Col, Table, Modal, Button,Toast,ToastContainer,FloatingLabel,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash,Toggle2On } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyAdsPage = () => {\n    const [currentlyLoadedAds,setCurrentlyLoadedAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [showToast2,setShowToast2] = useState(false);\n    const [updateMyAdsList,setUpdateMyAdsList] = useState(false);\n\n    const [adIdForStatus,setAdIdForStatus] = useState();\n    const [adStatus,setAdStatus] = useState();\n    const [adStatuses, setAdStatuses] = useState([]);\n    const [showModalStateChg,setShowModalStateChg] = useState(false);\n    const handleModalStateChgClose = () => setShowModalStateChg(false);\n    const handleModalClose = () => setShowModal(false);\n    \n    useEffect(() => {\n        const getAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:adList } = await axios.get(`${process.env.REACT_APP_BE}ads/byuser/${localStorage.getItem(\"userId\")}`);\n                setCurrentlyLoadedAds(adList);\n                console.log(adList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getAds();\n    }, [updateMyAdsList]);\n\n    useEffect(() => {\n      const getAvalableStatuses = async () =>{\n        try {\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}adstates`);\n            setAdStatuses(data);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n    getAvalableStatuses();\n    }, [])\n\n    const handleDeleteAd = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}ads/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true)\n          }\n          setLoading(false);\n          setUpdateMyAdsList(prev=>!prev);\n          \n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n            // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n\n\n     const handleChangeAdStatus =async () => {\n       const editData = {\n        adNewStateId:adStatus,\n       }\n      try {\n          setLoading(true);\n          const { data } = await axios.put(`${process.env.REACT_APP_BE}adstates/updatestate/${adIdForStatus}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModalStateChg(false);\n          if (data.id===adIdForStatus){\n            setShowToast2(true)\n          }\n          setLoading(false);\n          setUpdateMyAdsList(prev=>!prev);\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n            setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n            <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your ads</h4>\n              </Col> \n            </Row>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Ad # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n        <Toast bg='warning' onClose={() => setShowToast2(false)} show={showToast2} delay={3000} autohide>\n          <Toast.Body> Status successfully changed! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Title</th>\n        {/* <th>Description</th> */}\n        <th>Price</th>\n        <th>Sub category</th>\n        <th>Category</th>\n        <th>Created on</th>\n        <th>Edit</th>\n        <th>Delete</th>\n        <th>Status</th>\n      </tr>\n    </thead>\n    <tbody>\n            {currentlyLoadedAds.map((ad,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/view/${ad.adId}`} style={{textDecoration:'none'}}>{ad.adId}</Link></td>\n              <td>{ad.title}</td>\n              {/* <td>{ad.description && ad.description.substring(0,50)}</td> */}\n              <td>{ad.price}</td>\n              <td>{ad.subCategory}</td>\n              <td>{ad.category}</td>\n              <td>{new Date(ad.created).toLocaleString()}</td>\n              <td><Link to={`/editad/${ad.adId}`}><PencilSquare size={24} /></Link></td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(ad.adId);\n                setShowModal(true)\n              }} /></td>\n              <td><Toggle2On size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setAdStatus(ad.currentState);\n                setAdIdForStatus(ad.adId);\n                setShowModalStateChg(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        </Col>\n        </Row>\n\n\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to delete ad # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteAd}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n    <Modal\n      show={showModalStateChg}\n      onHide={handleModalStateChgClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <FloatingLabel\n                  controlId=\"floatingSelectStatus\"\n                  label=\"Choose status\"\n                >\n                  <Form.Select\n                    aria-label=\"Ad statuses list\"\n                    value={adStatus}\n                    onChange={(e) =>\n                      setAdStatus(parseInt(e.target.value, 10))\n                    }\n                  >\n                    {adStatuses.map((status, idx) => (\n                      <option key={`statusk${idx}`} value={status.id}>\n                        {status.description}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </FloatingLabel>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalStateChgClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleChangeAdStatus}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n    </>\n    )\n}\n\nexport default MyAdsPage\n\n\n/*                  */","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, Table, Modal, Button,Toast,ToastContainer,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyFavAds = () => {\n    const [favAds,setFavAds] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [updateFavList,setUpdateFavList] = useState(false);\n\n    const [editId,setEditId] = useState();\n    const [editAdId,setEditAdId] = useState();\n    const [editFavText, setEditFavText] = useState('');\n    const [showModalEditor,setShowModalEditor] = useState(false);\n\n    const handleModalEditorClose = () => setShowModalEditor(false);\n    const handleModalClose = () => setShowModal(false);\n\n    useEffect(() => {\n        const getFavAds = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:favList } = await axios.get(`${process.env.REACT_APP_BE}favads/myfav/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setFavAds(favList);\n                console.log(favList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getFavAds();\n    }, [updateFavList]);\n\n    const handleDeleteFavAd = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}favads/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true);\n          }\n          setLoading(false);\n          setUpdateFavList(prev=>!prev)\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            //setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n           // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n     const handleSaveChanges = async() =>{\n       const editData = {\n        favAdId:editAdId,\n        description:editFavText\n       }\n       try {\n        setLoading(true);\n        const { data } = await axios.put(`${process.env.REACT_APP_BE}favads/${editId}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n        console.log(data);\n        setShowModalEditor(false);\n        setLoading(false);\n        setUpdateFavList(prev=>!prev)\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          //setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n         // setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n     }\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n                <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your fav ads</h4>\n              </Col> \n            </Row>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Fav # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>Title</th>\n        <th>Description</th>\n        <th>Edit</th>\n        <th>Delete</th>\n      </tr>\n    </thead>\n    <tbody>\n            {favAds.map((fav,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/view/${fav.adId}`} style={{textDecoration:'none'}}>{fav.adTitle}</Link></td>\n              <td>{fav.description}</td>\n              <td><PencilSquare size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setEditFavText(fav.description);\n                setEditId(fav.id);\n                setEditAdId(fav.adId);\n                setShowModalEditor(true);\n              }}/> </td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(fav.id);\n                setShowModal(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        </Col></Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to remove from favotites # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteFavAd}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n    <Modal\n      show={showModalEditor}\n      onHide={handleModalEditorClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <Form.Control value={editFavText} cols={40} onChange={(e)=>setEditFavText(e.target.value)} as=\"textarea\" rows={3} />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalEditorClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleSaveChanges}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n\n    </>\n    )\n}\n\nexport default MyFavAds\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, Table } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { CheckCircle,CheckAll, Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyMessages = () => {\n    const [messageList,setMessageList] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n    const [updateMessageList,setUpdateMessageList] = useState(false);\n\n   \n    useEffect(() => {\n        const getMessageList = async () => {\n            try {\n                setLoading(true);\n                const { data:msgList } = await axios.get(`${process.env.REACT_APP_BE}messages/inbox/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setMessageList(msgList);\n                console.log(msgList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getMessageList();\n    }, [updateMessageList]);\n\nconst markRead = async(msgId)=>{\n  try {\n    setLoading(true);\n    const { data:res } = await axios.get(`${process.env.REACT_APP_BE}messages/markread/${msgId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n    if(res.id===msgId){\n      setUpdateMessageList(prev=>!prev);\n    }\n    console.log(res);\n    setLoading(false);\n  } catch (error) {\n    if (error.response) {\n      setError(error.response.data.error);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    } else {\n      setError(error.message);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    }\n  }\n};\nconst deleteMsg = async(msgId)=>{\n  try {\n    setLoading(true);\n    const { data:res } = await axios.delete(`${process.env.REACT_APP_BE}messages/${msgId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n    if(res.id===msgId){\n      setUpdateMessageList(prev=>!prev);\n    };\n    console.log(res);\n    setLoading(false);\n  } catch (error) {\n    if (error.response) {\n      setError(error.response.data.error);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    } else {\n      setError(error.message);\n      setTimeout(() => setError(null), 3000);\n      setLoading(false);\n    }\n  }\n}\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n    //if (!messageList || messageList.length<1) return ;\n\n    return (<>\n                    <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your notifications</h4>\n              </Col> \n            </Row>\n      <Row>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>From</th>\n        <th>Title</th>\n        <th>Link to ad</th>\n        <th>Mark</th>\n      </tr>\n    </thead>\n    <tbody>\n            {messageList && messageList.map((msg,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><p>{msg.fromUserName}</p></td>\n              <td><p>{msg.msgRead ? msg.msgTitle : <mark>{msg.msgTitle}</mark>}</p></td>\n              <td><Link to={`/view/${msg.adId}`} style={{textDecoration:'none'}}>{msg.adId}</Link></td>\n              <td>{msg.msgRead ? <CheckAll size={24} /> : <CheckCircle size={24} style={{cursor:'pointer'}} onClick={()=>{\n                markRead(msg.id)\n              }} />} \n              <Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                deleteMsg(msg.id);\n              }} />\n              </td>\n            </tr> ))}\n      </tbody>\n      </Table>\n      {(!messageList || messageList.length<1) && <Alert variant=\"danger\">No notifications</Alert>}\n        </Row>\n</Col></Row>\n\n    </>\n    )\n}\n\nexport default MyMessages\n\n\n/*                  */","import axios from 'axios';\nimport {useEffect, useState} from 'react';\nimport { Row,Col, Button, Modal,Alert } from 'react-bootstrap';\nimport { PencilSquare, Trash } from 'react-bootstrap-icons';\nimport { Link,useHistory } from 'react-router-dom';\nimport { Map, Marker } from \"pigeon-maps\";\nimport LoadingSpinner from './LoadingSpinner';\n\nconst StoreProfile = () => {\n    const [storeData, setStoreData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const hist = useHistory();\n\n    const [showModal, setShowModal] = useState(false);\n\n    const handleModalClose = () => setShowModal(false);\n    const handleModalShow = () => setShowModal(true);\n\n    const handleDeleteStore = async () => {\n        try {\n            setLoading(true);\n            const { data } = await axios.delete(`${process.env.REACT_APP_BE}stores/${storeData.id}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            if (data.id===storeData.id){\n              setLoading(false);\n              hist.push(`/myprofile`)\n            }  \n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n\n    useEffect(()=>{\n       const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}stores/my/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setStoreData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadStoreDetails();\n    },[]);\n\n    if(loading)return <LoadingSpinner/>;\n    if(!storeData)return (\n      <Row className=\"justify-content-center\">\n        <Col sm={6}>\n          <p className='text-center'>\n            You don't have a store yet. You can{\" \"}\n            <mark>\n              <Link to=\"/registerstore\">register</Link>\n            </mark>{\" \"}\n            one.\n          </p>\n        </Col>\n      </Row>\n    );\n\n    return (\n      <>\n                          <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your store</h4>\n              </Col> \n            </Row>\n        <Row className=\"justify-content-center\">\n          {error && <Alert>{error}</Alert>}\n          <Col sm={6}>\n            <Row>\n              <Col className='p-3'>\n                <h4>\n                  {storeData.title}\n                </h4>\n                <p style={{whiteSpace:'pre-line'}}>{storeData.description}</p>\n                <h6>\n                  <small className=\"text-muted\">Address: </small>\n                </h6>\n                <p>{storeData.address}, {storeData.cityName}</p>\n              </Col>\n              <Col sm={6} className='p-3'>\n              <img src={`${process.env.REACT_APP_BE}images/${storeData.photo}`} style={{objectFit:'scale-down', width:'18rem',height:'20rem' }} alt='logo' />\n              </Col>\n            </Row>\n            <Row>\n              <Col className='p-3'>\n              <Map height={300} center={storeData.coords} defaultZoom={11}>\n                    {storeData.coords && <Marker width={50} anchor={storeData.coords} />}\n                  </Map>\n              </Col>\n            </Row>\n            <Row className=\"justify-content-center\">\n              <Col>\n              <Button variant=\"outline-dark\" as={Link} to={`/editstore/${storeData.id}`}>\n                  <PencilSquare /> Edit store data\n                </Button>\n              </Col>\n              <Col>\n              <Button variant=\"outline-danger\" onClick={handleModalShow}>\n                  <Trash /> Delete store\n                </Button>  \n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        </Col>\n        </Row>\n        <Modal\n          show={showModal}\n          onHide={handleModalClose}\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Do you really want to delete your store?\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            All your ads will be deleted.\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={handleModalClose}>\n              No, missclicked!\n            </Button>\n            <Button variant=\"danger\" onClick={handleDeleteStore}>\n              Yes, pls delete!\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n}\n\nexport default StoreProfile","import axios from 'axios';\nimport {useEffect, useState} from 'react';\nimport { Row,Col,Alert, Button } from 'react-bootstrap';\nimport { Link, useParams } from 'react-router-dom';\nimport { Map, Marker } from \"pigeon-maps\";\nimport LoadingSpinner from './LoadingSpinner';\n\nconst ViewStore = () => {\n  const {storeId} = useParams();\n  const [storeData, setStoreData] = useState({});\n    const [loading,setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(()=>{\n       const loadStoreDetails = async ()=>{\n        try {\n            setLoading(true);\n            const { data } = await axios.get(`${process.env.REACT_APP_BE}stores/${storeId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            setStoreData(data);\n            console.log(data);\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n       };\n       loadStoreDetails();\n    },[storeId]);\n\n    if(loading)return <LoadingSpinner/>;\n    return (\n      <>\n        <Row className=\"justify-content-center\">\n          {error && <Alert>{error}</Alert>}\n          <Col sm={6}>\n            <Row>\n              <Col className='p-3'>\n              <Link to={`/bystore/${storeData.id}`} style={{textDecoration:'none'}}><h4>\n                 {storeData.title}\n                </h4>\n              </Link>\n                <p style={{whiteSpace:'pre-line'}}>{storeData.description}</p>\n                <h6>\n                  <small className=\"text-muted\">Address: </small>\n                </h6>\n                <p>{storeData.address}, {storeData.cityName}</p>\n              </Col>\n              <Col sm={6} className='p-3'>\n              <img src={`${process.env.REACT_APP_BE}images/${storeData.photo}`} style={{objectFit:'scale-down', width:'18rem',height:'20rem' }} alt='logo' />\n              </Col>\n            </Row>\n            <Row>\n              <Col className='p-3'>\n              <Map height={300} center={storeData.coords} defaultZoom={11}>\n                    {storeData.coords && <Marker width={50} anchor={storeData.coords} />}\n                  </Map>\n              </Col>\n            </Row>\n            <Row>\n              <Col className='d-grid gap-2\"'>\n                <Button variant='outline-secondary' size=\"lg\" as={Link} to={`/bystore/${storeData.id}`}>{storeData.title}'s ads</Button>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n\n      </>\n    );\n}\n\nexport default ViewStore","const NotFound = () => {\n    return (\n        <div>\n            <h1>404</h1>\n        </div>\n    )\n}\n\nexport default NotFound\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Row, Col, Table, Modal, Button,Toast,ToastContainer,Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PencilSquare,Trash } from \"react-bootstrap-icons\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyFavUsers = () => {\n    const [favUsers,setFavUsers] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n\n    const [deleteId,setDeleteId] = useState();\n    const [showModal, setShowModal] = useState(false);\n    const [showToast,setShowToast] = useState(false);\n    const [updateFavList,setUpdateFavList] = useState(false);\n\n    const [editId,setEditId] = useState();\n    const [editTargetId,setEditTargetId] = useState();\n    const [editFavText, setEditFavText] = useState('');\n    const [showModalEditor,setShowModalEditor] = useState(false);\n\n    const handleModalEditorClose = () => setShowModalEditor(false);\n    const handleModalClose = () => setShowModal(false);\n\n    useEffect(() => {\n        const getFavUsers = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data:favList } = await axios.get(`${process.env.REACT_APP_BE}favusers/myfav/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setFavUsers(favList);\n                console.log(favList);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getFavUsers();\n    }, [updateFavList]);\n\n    const handleDeleteFav = async () => {\n      try {\n          setLoading(true);\n          const { data } = await axios.delete(`${process.env.REACT_APP_BE}favusers/${deleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n          console.log(data);\n          setShowModal(false);\n          if (data.id===deleteId){\n            setShowToast(true);\n          }\n          setLoading(false);\n          setUpdateFavList(prev=>!prev)\n        } catch (error) {\n          if (error.response) {\n            setError(error.response.data.error);\n            //setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          } else {\n            setError(error.message);\n           // setTimeout(() => setError(null), 5000);\n            setLoading(false);\n          }\n        }\n     };\n\n     const handleSaveChanges = async() =>{\n       const editData = {\n        favUserId:editTargetId,\n        description:editFavText\n       }\n       try {\n        setLoading(true);\n        const { data } = await axios.put(`${process.env.REACT_APP_BE}favusers/${editId}`,editData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n        console.log(data);\n        setShowModalEditor(false);\n        setLoading(false);\n        setUpdateFavList(prev=>!prev)\n      } catch (error) {\n        if (error.response) {\n          setError(error.response.data.error);\n          //setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        } else {\n          setError(error.message);\n         // setTimeout(() => setError(null), 5000);\n          setLoading(false);\n        }\n      }\n     }\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (<>\n                    <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your fav users</h4>\n              </Col> \n            </Row>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Fav # {deleteId} was deleted! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>User</th>\n        <th>Your description</th>\n        <th>Edit</th>\n        <th>Delete</th>\n      </tr>\n    </thead>\n    <tbody>\n            {favUsers.map((fav,idx)=>(\n            <tr key={`adk${idx}`}>\n              <td><Link to={`/byuser/${fav.targetUserId}`} style={{textDecoration:'none'}}>{fav.userName}</Link></td>\n              <td>{fav.description}</td>\n              <td><PencilSquare size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setEditFavText(fav.description);\n                setEditId(fav.id);\n                setEditTargetId(fav.targetUserId);\n                setShowModalEditor(true);\n              }}/> </td>\n              <td><Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setDeleteId(fav.id);\n                setShowModal(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        </Col>\n        </Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to remove from favotites # {deleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteFav}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n    <Modal\n      show={showModalEditor}\n      onHide={handleModalEditorClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit description</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n      <Form.Control value={editFavText} cols={40} onChange={(e)=>setEditFavText(e.target.value)} as=\"textarea\" rows={3} />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalEditorClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleSaveChanges}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n\n\n\n    </>\n    )\n}\n\nexport default MyFavUsers\n","import { useState, useEffect } from \"react\";\nimport { Row,Col,Alert, FloatingLabel,InputGroup,Form, Button,} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport LoadingSpinner from \"../LoadingSpinner\";\n\nconst axiosConfig = {\n    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n  };\n\nconst AdminEditUserTypes = () => {\n    const [userTypeData,setUserTypeData] = useState();\n    const [selectedUserType,setSelectedUserType] = useState();\n    const [typeDesc,setTypeDesc] = useState('');\n    const [typeId,setTypeId] = useState('');\n    const [loading,setLoading] = useState(true);\n    const [error,setError] = useState(null);\n    const [updateTypes,setUpdateTypes] = useState(false);\n\n    useEffect(() => {\n        const getTypesData = async () => {\n            try {\n                setLoading(true);\n                const {data} = await axios.get(`${process.env.REACT_APP_BE}usertypes/`,axiosConfig);\n                setUserTypeData(data);\n                console.log(data);\n                setLoading(false);\n            } catch (error) {\n                if (error.response) {\n                    setError(error.response.data.error);\n                    setTimeout(() => setError(null), 3000);\n                    setLoading(false);\n                  } else {\n                    setError(error.message);\n                    setTimeout(() => setError(null), 3000);\n                    setLoading(false);\n                  }\n            }\n        };\n        getTypesData()\n    }, [updateTypes]);\n\n    useEffect(() => {\n        if(userTypeData && selectedUserType){\n            const typeDesc = userTypeData.find(item=>item.id===selectedUserType);\n            setTypeDesc(typeDesc.typeDescription);\n            setTypeId(typeDesc.id);\n        }\n    }, [selectedUserType,userTypeData])\n\n    const sendReq = async (reqType) => {\n        try {\n            setLoading(true);\n            let data;\n            if (reqType==='put'){\n                data = await axios.put(`${process.env.REACT_APP_BE}usertypes/${selectedUserType}`,{userTypeId:typeId,userType:typeDesc},axiosConfig);\n            }else if(reqType==='delete'){\n                data = await axios.delete(`${process.env.REACT_APP_BE}usertypes/${selectedUserType}`,axiosConfig);\n            }else if(reqType==='new'){\n                data = await axios.post(`${process.env.REACT_APP_BE}usertypes/`,{userTypeId:typeId,userType:typeDesc},axiosConfig);\n            };\n            console.log(data);\n            setUpdateTypes(!updateTypes)\n            setLoading(false);\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              setTimeout(() => setError(null), 3000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n              setTimeout(() => setError(null), 3000);\n              setLoading(false);\n            }\n          }\n    }\n    if (loading) return <LoadingSpinner/>\n    return (<Row>\n        <Col>\n        <Row className=\"py-4 bg-warning my-4\">\n            {error && <Col><Alert>{error}</Alert></Col>}\n            <Col>\n            <FloatingLabel controlId=\"floatingSelectType\" label=\"Choose type\">\n                    <Form.Select aria-label=\"Types list\" value={selectedUserType} onChange={(e)=>setSelectedUserType(parseInt(e.target.value,10))}>\n                        {userTypeData.map((utype,idx)=>(\n                            <option key={`uTk${idx}`} value={utype.id}>{utype.typeDescription}</option>    \n                        ))}\n                    </Form.Select>\n                </FloatingLabel>\n            </Col>\n            <Col>\n            <InputGroup>\n        <FloatingLabel controlId=\"floatingInputDescription\" label=\"Type description\" className=\"mb-1\">\n            <Form.Control type=\"text\" placeholder=\"Type description\" value={typeDesc} onChange={(e)=>setTypeDesc(e.target.value)} required />\n        </FloatingLabel>\n        <FloatingLabel controlId=\"floatingInputTypeId\" label=\"Type id\" className=\"mb-1\">\n            <Form.Control type=\"text\" placeholder=\"Type id\" value={typeId} onChange={(e)=>setTypeId(parseInt(e.target.value,10))} required />\n        </FloatingLabel>\n          \n          </InputGroup>\n            </Col>\n        </Row>\n        <Row>\n<Col sm={5}>\n<Row>\n<Col>\n            <Button onClick={()=>sendReq('new')} variant=\"outline-dark\" disabled={typeDesc.length===0}>Add New</Button>\n            </Col>\n            <Col>\n          <Button onClick={()=>sendReq('put')} variant=\"outline-dark\" disabled={typeDesc.length===0 || !selectedUserType}>Rename</Button>\n            </Col>\n          <Col>\n          <Button onClick={()=>sendReq('delete')} variant=\"danger\" disabled={typeDesc.length===0 || !selectedUserType}>Delete</Button>  \n          </Col>\n</Row>\n</Col>\n        </Row>\n        </Col>\n    </Row>\n        )\n}\n\nexport default AdminEditUserTypes\n","import { useState,useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row,Col,ToastContainer,Toast,Table,Modal,Alert,Button,Form,FloatingLabel } from \"react-bootstrap\";\nimport LoadingSpinner from \"../LoadingSpinner\";\nimport { PencilSquare,Trash } from \"react-bootstrap-icons\";\nimport axios from \"axios\";\nconst axiosConfig = {\n    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n  };\nconst AdminListUsers = () => {\n    const [usersList,setUsersList] = useState();\n    const [userTypeData,setUserTypeData] = useState();\n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n    const [showToast,setShowToast] = useState(false);\n    const [showModal,setShowModal] = useState(false);\n    const [showModalEditor,setShowModalEditor] = useState(false);\n    const [editDeleteId,setEditDeleteId] = useState();\n    const [updateUserList,setUpdateUserList] = useState(true);\n    \n    const [userName,setUserName] = useState();\n    const [userEmail,setUserEmail] = useState();\n    const [userPhone,setUserPhone] = useState();\n    const [selectedUserType,setSelectedUserType] = useState();\n    \n\n    const handleModalClose = () => setShowModal(false);\n    const handleModalEditorClose = () => setShowModalEditor(false);\n    const handleDeleteUser = async() => {\n        try {\n            setLoading(true);\n            const { data } = await axios.delete(`${process.env.REACT_APP_BE}users/${editDeleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            setShowModal(false);\n            if (data.id===editDeleteId){\n              setShowToast(true);\n            }\n            setLoading(false);\n            setUpdateUserList(prev=>!prev)\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              //setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n             // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n    const handleSaveChanges = async() => {\n        const newUserData = {\n            userName: userName,\n            email: userEmail,\n            phone: userPhone,\n            userType:selectedUserType,\n        }\n        try {\n            setLoading(true);\n            const { data } = await axios.put(`${process.env.REACT_APP_BE}users/${editDeleteId}`,newUserData,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            setShowModalEditor(false);\n            if (data.id===editDeleteId){\n              setShowToast(true);\n            }\n            setLoading(false);\n            setUpdateUserList(prev=>!prev)\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              //setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n             // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n\n    useEffect(() => {\n        const getUserTypeData = async () => {\n            try {\n                //setLoading(true);\n                const {data} = await axios.get(`${process.env.REACT_APP_BE}usertypes/`,axiosConfig);\n                setUserTypeData(data);\n                console.log(data);\n                //setLoading(false);\n            } catch (error) {\n                if (error.response) {\n                    setError(error.response.data.error);\n                    //setTimeout(() => setError(null), 3000);\n                    //setLoading(false);\n                  } else {\n                    setError(error.message);\n                    //setTimeout(() => setError(null), 3000);\n                    //setLoading(false);\n                  }\n            }\n        };\n        getUserTypeData()\n    }, [])\n    useEffect(() => {\n        const getUserData = async () => {\n            try {\n                setLoading(true);\n                const {data} = await axios.get(`${process.env.REACT_APP_BE}users/`,axiosConfig);\n                setUsersList(data);\n                console.log(data);\n                setLoading(false);\n            } catch (error) {\n                if (error.response) {\n                    setError(error.response.data.error);\n                    setTimeout(() => setError(null), 3000);\n                    setLoading(false);\n                  } else {\n                    setError(error.message);\n                    setTimeout(() => setError(null), 3000);\n                    setLoading(false);\n                  }\n            }\n        };\n        getUserData();\n    }, [updateUserList])\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n return (<>\n                <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Users: </h4>\n              </Col> \n            </Row>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Action on user ID # {editDeleteId} was performed! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>User name</th>\n        <th>E-mail</th>\n        <th>Registered</th>\n        <th>Was online</th>\n        <th>Phone</th>\n        <th>Store</th>\n        <th>Type</th>\n        <th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n            {usersList.map((user,idx)=>(\n            <tr key={`usrK${idx}`}>\n              <td><Link to={`/byuser/${user.id}`} style={{textDecoration:'none'}}>{user.name}</Link></td>\n              <td>{user.email}</td>\n              <td>{new Date(user.registerDate).toLocaleString()}</td>\n              <td>{new Date(user.wasOnline).toLocaleString()}</td>\n              <td>{user.phone}</td>\n              <td><Link to={`/viewstore/${user.storeId}`} style={{textDecoration:'none'}}>{user.storeTitle}</Link></td>\n              <td>{user.userType}</td>\n              <td><PencilSquare size={24} style={{cursor:'pointer'}} onClick={()=>{\n                //setEditFavText(fav.description);\n                setEditDeleteId(user.id);\n                setSelectedUserType(user.userTypeId);\n                setUserName(user.name);\n                setUserEmail(user.email);\n                setUserPhone(user.phone);\n                setShowModalEditor(true);\n              }}/>{\" \"}<Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setEditDeleteId(user.id);\n                setShowModal(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        </Col></Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to delete user with ID # {editDeleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteUser}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n    <Modal\n      show={showModalEditor}\n      onHide={handleModalEditorClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Edit user</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Form.Control value={userName} cols={40} onChange={(e)=>setUserName(e.target.value)} type=\"text\" className='mb-2' />\n        <Form.Control value={userEmail} cols={40} onChange={(e)=>setUserEmail(e.target.value)} type=\"text\" className='mb-2' />\n        <Form.Control value={userPhone} cols={40} onChange={(e)=>setUserPhone(e.target.value)} type=\"text\" className='mb-2' />\n        <FloatingLabel controlId=\"floatingSelectType\" label=\"Choose type\">\n                    <Form.Select aria-label=\"Types list\" value={selectedUserType} onChange={(e)=>setSelectedUserType(parseInt(e.target.value,10))}>\n                        {userTypeData && userTypeData.map((utype,idx)=>(\n                            <option key={`uTk${idx}`} value={utype.id}>{utype.typeDescription}</option>    \n                        ))}\n                    </Form.Select>\n                </FloatingLabel>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalEditorClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleSaveChanges}>Save changes</Button>\n      </Modal.Footer>\n    </Modal> \n    </>\n    )\n}\n\nexport default AdminListUsers\n","import { useState,useCallback,useEffect } from \"react\"\nimport { Col, Row, InputGroup,FormControl } from \"react-bootstrap\";\nimport { Map,Marker,Overlay } from \"pigeon-maps\";\nimport { osm } from 'pigeon-maps/providers'\nimport { GeoAlt } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport CitiesSearchInput from \"./CitiesSearchInput\";\n\nconst StoresOnMap = () => {\n    const [storesData,setStoresData] = useState([]);\n    const [coords,setCoords] = useState();\n    const [radius,setRadius] = useState(10);\n    /* const [cityPlaceholder,setCityPlaceholder] = useState(''); */\n/*     const [loading,setLoading] = useState(false);\n    const [error,setError] = useState(false); */\n    \n    const loadStores = useCallback(() => {\n        console.log(coords);\n        const reqData = {\n            coords:coords,\n            radius:radius,\n        };\n        console.log(reqData);\n            const loadFunc = async () => {\n                try {\n                    //setLoading(true);\n                    const { data } = await axios.post(`${process.env.REACT_APP_BE}stores/bycoords`,reqData);\n                    setStoresData(data);\n                    console.log(data);\n                    //setLoading(false);\n                  } catch (error) {\n                    if (error.response) {\n                      //setError(error.response.data.error);\n                      //setTimeout(() => setError(null), 5000);\n                      //setLoading(false);\n                    } else {\n                      //setError(error.message);\n                      //setTimeout(() => setError(null), 5000);\n                      //setLoading(false);\n                    }\n                  }\n            };\n            loadFunc();\n        },\n    [coords,radius])\n\n    useEffect(() => loadStores(), [coords,radius,loadStores]);\n\n    const setCurCityId = () => {}\n    const mapClick = ({ latLng }) => {\n        setCoords(latLng);\n    };\n\n    useEffect(()=>{\n        if (!coords){\n            const options = {\n                enableHighAccuracy: true,\n                timeout: 5000,\n                maximumAge: 0\n                };\n            const success=pos=>setCoords([pos.coords.latitude,pos.coords.longitude]);\n            const error=err=>console.warn(`ERROR(${err.code}): ${err.message}`);\n            navigator.geolocation.getCurrentPosition(success, error, options);\n        }\n    },[coords]);\n\n    return (<><Row className='justify-content-center'>\n        <Col sm={4}><InputGroup>\n        <InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            <GeoAlt />\n          </InputGroup.Text>\n        <CitiesSearchInput\n                  setCoords={setCoords}\n                  setCityId={setCurCityId}\n                  /* cityPlaceholder={cityPlaceholder} */\n                />\n<InputGroup.Text style={{ backgroundColor: \"#f7f7f9\" }}>\n            +\n          </InputGroup.Text>\n          <FormControl\n            type=\"text\"\n            as=\"input\"\n            htmlSize={1}\n            placeholder=\"0 km\"\n            className=\"mr-2\"\n            aria-label=\"radius\"\n            onChange={(e)=>{\n                const rad=parseInt(e.target.value,10);\n                if (Number.isInteger(rad))setRadius(rad)}}\n            value={radius}\n            list=\"distance-variants\"\n          />\n        <datalist id=\"distance-variants\">\n            <option value=\"5\"/>\n            <option value=\"10\"/>\n            <option value=\"15\"/>\n            <option value=\"25\"/>\n            <option value=\"50\"/>\n        </datalist>\n                </InputGroup>\n        </Col>\n    </Row>\n\n        <Row className='mt-3' style={{height:'50vh'}}>\n        <Col>\n        <Map\n        provider={osm}\n            center={coords}\n            defaultZoom={12}\n            onClick={mapClick}\n        > \n          {storesData && storesData.length>0 && storesData.map((str,idx)=>(<Marker key={`mrK${idx}`} width={50} anchor={str.coords} color='lightgreen' />))}\n            {coords && <Marker width={50} anchor={coords} />}\n            {storesData && storesData.length>0 && storesData.map((str,idx)=>(<Overlay  key={`ovrlK${idx}`} anchor={str.coords} offset={[0, 50]}>\n            <div className='bg-dark' style={{ borderRadius:'10%', padding:'0 10px'}}><Link to={`/viewstore/${str.id}`}> <p className='text-light'>{str.title}</p></Link></div>\n          </Overlay>))}\n        </Map>  \n        </Col>\n      </Row>\n        \n</>    )\n}\n\nexport default StoresOnMap\n","import { useState,useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row,Col,ToastContainer,Toast,Table,Modal,Alert,Button } from \"react-bootstrap\";\nimport LoadingSpinner from \"../LoadingSpinner\";\nimport { PencilSquare,Trash } from \"react-bootstrap-icons\";\nimport axios from \"axios\";\nconst axiosConfig = {\n    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n  };\nconst AdminListStores = () => {\n    const [storesList,setStoresList] = useState();\n    \n    const [error,setError] = useState(null);\n    const [loading,setLoading] = useState(true);\n    const [showToast,setShowToast] = useState(false);\n    const [showModal,setShowModal] = useState(false);\n    \n    const [editDeleteId,setEditDeleteId] = useState();\n    const [updateStoresList,setUpdateStoresList] = useState(true);\n\n    const handleModalClose = () => setShowModal(false);\n\n    const handleDeleteStore = async() => {\n        try {\n            setLoading(true);\n            const { data } = await axios.delete(`${process.env.REACT_APP_BE}stores/${editDeleteId}`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n            console.log(data);\n            setShowModal(false);\n            if (data.id===editDeleteId){\n              setShowToast(true);\n            }\n            setLoading(false);\n            setUpdateStoresList(prev=>!prev)\n          } catch (error) {\n            if (error.response) {\n              setError(error.response.data.error);\n              //setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            } else {\n              setError(error.message);\n             // setTimeout(() => setError(null), 5000);\n              setLoading(false);\n            }\n          }\n    };\n\n    useEffect(() => {\n        const getStoresData = async () => {\n            try {\n                setLoading(true);\n                const {data} = await axios.get(`${process.env.REACT_APP_BE}stores/`,axiosConfig);\n                setStoresList(data);\n                console.log(data);\n                setLoading(false);\n            } catch (error) {\n                if (error.response) {\n                    setError(error.response.data.error);\n                    setTimeout(() => setError(null), 3000);\n                    setLoading(false);\n                  } else {\n                    setError(error.message);\n                    setTimeout(() => setError(null), 3000);\n                    setLoading(false);\n                  }\n            }\n        };\n        getStoresData();\n    }, [updateStoresList])\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n return (<>\n                <Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Stores: </h4>\n              </Col> \n            </Row>\n      <Row>\n      <ToastContainer className=\"p-3\" position={'middle-center'}>\n      <Toast bg='warning' onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide>\n          <Toast.Body> Store ID # {editDeleteId} was deleted! </Toast.Body>\n        </Toast>\n      </ToastContainer>\n        <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>Store</th>\n        <th>Description</th>\n        <th>Admin</th>\n        <th>Address</th>\n        <th>City</th>\n        <th>Logo</th>\n        <th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n            {storesList.map((str,idx)=>(\n            <tr key={`sTrK${idx}`}>\n              <td><Link to={`/viewstore/${str.id}`} style={{textDecoration:'none'}}>{str.title}</Link></td>\n              <td>{str.description && str.description.length>50 ? str.description.substring(0,50)+'...' : str.description}</td>\n              <td>{str.storeAdmin} id#{str.adminId}</td>\n              <td>{str.address}</td>\n              <td><Link to={`/bycity/${str.cityId}`} style={{textDecoration:'none'}}>{str.cityName}</Link></td>\n              <td> <img src={str.photo} style={{maxWidth:'30px',height:'auto',maxHeight:'30px'}} alt='store logo' /> </td>\n\n              <td> <Link to={`/editstore/${str.id}`} > <PencilSquare size={24} style={{cursor:'pointer'}} /></Link>{\" \"}<Trash size={24} style={{cursor:'pointer'}} onClick={()=>{\n                setEditDeleteId(str.id);\n                setShowModal(true)\n              }} /></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n        </Row>\n        </Col></Row>\n        <Modal\n      show={showModal}\n      onHide={handleModalClose}\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Please confirm!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Do you really want to delete store with ID # {editDeleteId} ?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={handleModalClose}>\n          No, missclicked!\n        </Button>\n        <Button variant=\"danger\" onClick={handleDeleteStore}>Yes, pls delete!</Button>\n      </Modal.Footer>\n    </Modal>\n    </>\n    )\n}\n\nexport default AdminListStores\n","import { useState,useEffect,useRef, useCallback } from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\nconst _useChat = () => {\n    const [messages,setMessages]=useState()\n    const sendMessage = ({toUser,message}) =>{\n        socketRef.current.emit('newChatMessage',{toUser,message})\n    }\n    const socketRef = useRef();\n\n    const getChat = useCallback((withUserId) => {\n        socketRef.current.emit('getMessagesFromOneChat',withUserId);\n    },[])\n\n    useEffect(() => {\n        socketRef.current = socketIOClient(process.env.REACT_APP_BE,{\n            reconnection:true,\n            reconnectionAttempts:5,\n            auth:{token:localStorage.getItem('token')},\n        });\n        \n        socketRef.current.on(\"messagesFromChat\", (data) => {\n            setMessages(data);\n            console.log('msgs',data);\n          });\n        socketRef.current.on(\"connect_error\",(err)=>{\n            console.log('Connection error...',err.data.content);\n            //console.log('error',err);\n        });\n        socketRef.current.on(\"error\", (error) => {\n            // ...\n            console.log('erro1234321',error);\n          });\n\n        socketRef.current.on(\"disconnect\", () => {\n            console.log('Disconnected!');\n          });\n        socketRef.current.on(\"newChatMessage\",(message)=>{\n            setMessages(prev=>[...prev,message])\n            console.log('msg',message);\n        });\n\n        socketRef.current.onAny((evt, ...args)=>{\n            console.log(evt,args);\n        })\n        return ()=>socketRef.current.disconnect();\n    }, []);\n    return {messages,sendMessage,getChat}\n};\n\nexport default _useChat\n","import { useState,useEffect,useRef } from 'react';\nimport { Button,Form,InputGroup, Row,Col } from 'react-bootstrap';\nimport { useParams } from 'react-router-dom';\nimport useChat from '../hooks/_useChat';\n\nconst Chat = () => {\n    const {withUserId} = useParams();\n    const messagesEndRef = useRef(null)\n    const {messages,sendMessage,getChat} = useChat();\n    const [text,setText] = useState('');\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n      }\n\n    useEffect(() => {if(withUserId)getChat(withUserId)}, [withUserId,getChat]);\n    useEffect(() => scrollToBottom(),[messages])\n    const handlSend = (e) =>{\n        e.preventDefault();\n        sendMessage({toUser:parseInt(withUserId,10),message:text});\n        setText('');\n    }\n    return (\n      <Row className=\"mt-3\">\n        <Col>\n          <Row>\n            <Col>\n            <h4>Chat</h4>\n            </Col>\n          </Row>\n          <Row className='mt-2 border-top'>\n            <Col>\n              <div className=\"overflow-auto\" style={{ height: \"40vh\" }}>\n                {messages &&\n                  messages.map((msg, idx) => (\n                    <div key={`msgind${idx}`}>\n                      <p>\n                        <span className=\"h5\">{msg.senderName} </span>{\" \"}\n                        <em>\n                          <small>\n                            {new Date(msg.msgTimeStamp).toLocaleString()}\n                          </small>\n                        </em>\n                      </p>\n                      <p>{msg.message}</p>\n                    </div>\n                  ))}\n                <div ref={messagesEndRef} />\n              </div>\n\n            </Col>\n          </Row>\n          <Row className='mt-2'>\n            <Col>\n            <Form onSubmit={handlSend}>\n                <InputGroup>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Enter your message here\"\n                    value={text}\n                    onChange={(e) => setText(e.target.value)}\n                  />\n                  <Button type=\"submit\">Send</Button>\n                </InputGroup>\n              </Form>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    );\n}\n\nexport default Chat\n","import axios from \"axios\";\nimport { useState,useEffect } from \"react\";\nimport { Row, Col,Alert,Table,Badge } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst MyChats = () => {\n    const [chatsData, setChatsData] = useState([]);\n    const [loading,setLoading] = useState(true);\n    const [error,setError]= useState(null);\n\n    useEffect(() => {\n        const getMyChats = async () => {\n            try {\n                setLoading(true);\n                console.log(process.env.REACT_APP_BE);\n                const { data } = await axios.get(`${process.env.REACT_APP_BE}chats/mychats/`,{headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\n                setChatsData(data);\n                console.log(data);\n                setLoading(false);\n              } catch (error) {\n                if (error.response) {\n                  setError(error.response.data.error);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                } else {\n                  setError(error.message);\n                  // setTimeout(() => setError(null), 3000);\n                  setLoading(false);\n                }\n              }\n        }\n        getMyChats();\n    }, [])\n\n    if (loading) return <LoadingSpinner />;\n    if (error) return <Alert variant=\"danger\">{error}</Alert>;\n\n    return (\n<Row>\n          <Col>\n            <Row className='mb-4'>\n              <Col className='text-center'>\n                <h4>Your recent chats</h4>\n              </Col> \n            </Row>\n            <Row className='mb-4'>\n              <Col>\n              <Table responsive=\"sm\">\n    <thead>\n      <tr>\n        <th>Date</th>\n        <th>User</th>\n        <th>Last message</th>\n      </tr>\n    </thead>\n    <tbody>\n            {chatsData.map((chat,idx)=>(\n            <tr key={`chtk${idx}`}>\n              <td><Link to={`/chat/${chat.idToChat}`} style={{textDecoration:'none'}}>{new Date(chat.msgTimeStamp).toLocaleString()}</Link></td>\n              <td><Link to={`/chat/${chat.idToChat}`} style={{textDecoration:'none'}}>{chat.nameToChat}</Link>\n              {chat.markUnread && <Badge pill bg=\"warning\" text=\"dark\"> NEW</Badge>}\n              </td>\n              <td><p><span className='text-muted'><small>{chat.senderName}: </small></span> <em> {chat.message}</em></p></td>\n            </tr> ))}\n      </tbody>\n      </Table>\n              </Col> \n            </Row>\n        </Col>\n</Row>\n    )\n}\n\nexport default MyChats\n","import { Route, Switch } from \"react-router-dom\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport AppContextWrapper from \"./context/AppContext\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Navigation from \"./components/Navigation\";\nimport MainPage from \"./components/MainPage\";\nimport Footer from \"./components/Footer\";\nimport SignIn from \"./components/SignIn\";\nimport SignUp from \"./components/SignUp\";\nimport CreateNewAd from \"./components/CreateNewAd\";\nimport AddEditCategory from \"./components/admin/AddEditCategory\";\nimport ViewSingleAd from \"./components/ViewSingleAd\";\nimport UserProfile from \"./components/UserProfile\";\nimport EditProfile from \"./components/EditProfile\";\nimport EditStore from \"./components/EditStore\";\nimport SearchResults from \"./components/SearchResults\";\nimport MyAdsPage from \"./components/MyAdsPage\";\nimport MyFavAds from \"./components/MyFavAds\";\nimport MyMessages from \"./components/MyMessages\";\nimport StoreProfile from \"./components/StoreProfile\";\nimport ViewStore from \"./components/ViewStore\";\nimport NotFound from \"./components/NotFound\";\nimport MyFavUsers from \"./components/MyFavUsers\";\nimport AdminEditUserTypes from \"./components/admin/AdminEditUserTypes\";\nimport AdminListUsers from \"./components/admin/AdminListUsers\";\nimport StoresOnMap from \"./components/StoresOnMap\";\nimport AdminListStores from \"./components/admin/AdminListStores\";\nimport Chat from \"./components/Chat\";\nimport MyChats from \"./components/MyChats\";\nfunction App() {\n  return (\n    <AppContextWrapper>\n      <Container fluid>\n        <Navigation />\n        <Row className=\"justify-content-center my-4\">\n          <Col md={9}>\n            <Switch>\n              <Route exact path=\"/\" component={MainPage} />\n              <Route exact path=\"/buylocal\" component={StoresOnMap} />\n              <Route exact path=\"/chat\" component={Chat} />\n              <Route exact path=\"/view/:adId\" component={ViewSingleAd} />\n              <Route exact path=\"/signin\" component={SignIn} />\n              <Route exact path=\"/signup\" component={SignUp} />\n              <Route exact path=\"/search\" component={SearchResults} />\n              <Route exact path=\"/chat/:withUserId\" component={Chat} />\n              <Route exact path=\"/viewstore/:storeId\" component={ViewStore} />\n              <ProtectedRoute exact path=\"/myprofile\" component={UserProfile} />\n              <ProtectedRoute exact path=\"/myfavads\" component={MyFavAds} />\n              <ProtectedRoute exact path=\"/myfavusers\" component={MyFavUsers} />\n              <ProtectedRoute exact path=\"/mystore\" component={StoreProfile} />\n              <ProtectedRoute exact path=\"/messages\" component={MyMessages} />\n              <ProtectedRoute exact path=\"/mychats\" component={MyChats} />\n              \n              <ProtectedRoute\n                exact\n                path=\"/editprofile\"\n                component={EditProfile}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/registerstore\"\n                component={EditStore}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/editstore/:storeId\"\n                component={EditStore}\n              />\n              <ProtectedRoute exact path=\"/newad\" component={CreateNewAd} />\n              <ProtectedRoute exact path=\"/myads\" component={MyAdsPage} />\n              <ProtectedRoute\n                exact\n                path=\"/editad/:adId\"\n                component={CreateNewAd}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/admin/categoryeditor\"\n                component={AddEditCategory}\n              />\n              <ProtectedRoute\n              exact\n              path=\"/admin/usertypeeditor\"\n              component={AdminEditUserTypes}\n            />\n                <ProtectedRoute\n              exact\n              path=\"/admin/userlist\"\n              component={AdminListUsers}\n            />\n\n<ProtectedRoute\n              exact\n              path=\"/admin/storeslist\"\n              component={AdminListStores}\n            />\n              <Route\n                exact\n                path=\"/bysubcategory/:subCatId\"\n                component={MainPage}\n              />\n              <Route exact path=\"/bycategory/:catId\" component={MainPage} />\n              <Route exact path=\"/bycity/:cityId\" component={MainPage} />\n              <Route exact path=\"/byuser/:adsByUserId\" component={MainPage} />\n              <Route exact path=\"/bystore/:adsByStoreId\" component={MainPage} />\n\n              \n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          </Col>\n        </Row>\n        <Footer />\n      </Container>\n    </AppContextWrapper>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootswatch/dist/lux/bootstrap.min.css'; // Added this :boom:\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import './_variables.scss';\nimport App from './App';\nimport {HashRouter as Router} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename='/'>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}